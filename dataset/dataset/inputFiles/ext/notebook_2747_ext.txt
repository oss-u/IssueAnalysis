After upgrading to the notebook from master '5 [CLS] [SEP] 0 [CLS] [SEP] dev', I get a popup error saying that the notebook failed to load: LINKLINK. the underlying notebook is also truncated at the second cell, when in fact it is quite a large notebook [CLS] [SEP] If I close the notebook, and re open it without restarting it, it renders fine [CLS] [SEP] The only thing unusual I notice in the console is: Adapting to protocol v5 [CLS] [SEP] 1 for kernel 515185bf a09c 44c5 80c9 53390ff1b98eSimilar: LINKLINK I will investigate that adapting to protocol 5 [CLS] [SEP] 1 message [CLS] [SEP] Was this notebook already open in your browser and you just refreshed after the upgrade [CLS] [SEP] Perhaps some 5 [CLS] [SEP] 0 JS was being loaded from cache [CLS] [SEP] What browser are you using [CLS] [SEP] Would you happen to have LastPass extension installed [CLS] [SEP] I am running on Firefox 55 on macOS [CLS] [SEP] Not using LastPass, but do have 1Password [CLS] [SEP] If I use a different conda env with an older version of the notebook, the notebook runs fine [CLS] [SEP] Ok, you're seeing the CODESCODES message because CODESCODES, which leads me to believe that the browser is loading 5 [CLS] [SEP] 0 JS vs [CLS] [SEP] 5 [CLS] [SEP] Try clearing the cache and or doing a hard refresh [CLS] [SEP] Just got this after clearing the browser cache: LINKLINK. Happens for some, not all, notebooks [CLS] [SEP] Here is the same notebook under 5 [CLS] [SEP] 0: LINKLINK Hmmm [CLS] [SEP] So when you close the notebook I assume when you close the tab and re open, you don't get the error [CLS] [SEP] Actually, it sometimes errors again, but in some cases the error goes away [CLS] [SEP] Also, if I use Safari this does not seem to happen [CLS] [SEP] I will try switching back to Safari as my regular browser and see if it ever comes up [CLS] [SEP] I had the same error once, and only once, on 5 [CLS] [SEP] 0rc1, on windows10 jupyter 5 [CLS] [SEP] 1 chrome very slow pc zero plugins [CLS] [SEP] Just restarting the kernel solved it [CLS] [SEP] I would blindly, as I'm not expert at all bet on a slowness, or some remains of a previous widgets whatever versions that are cleared with the relaunch [CLS] [SEP] In the past, there were some bigger cash clearance issues when we were upgrading, so it could be the same thing [CLS] [SEP] I've now seen the issue pop up in Safari: LINKLINK. Closing the notebook tab and reopening it loaded the notebook properly [CLS] [SEP] When you hit the error, is there any more detail in the browser's JS console [CLS] [SEP] It just occurred again in Safari, and the JS console reads as follows: LINKLINK Those are just source maps so they shouldn't be causing any problems although we should figure out how to avoid this error message [CLS] [SEP] I believe that the Can't make callback [CLS] [SEP] error is coming from Mathjax, but I don't understand how I don't think we have changed anything significant in our use of Mathjax, and I've never run into this error myself [CLS] [SEP] You mentioned that it affects some notebooks but not others [CLS] [SEP] Are there any of those notebooks which you could share [CLS] [SEP] It seems to happen somewhat randomly [CLS] [SEP] I can almost never reproduce it with a particular notebook, but it does keep occurring from time to time [CLS] [SEP] And again, closing and reopening the tab makes the problem temporarily go away [CLS] [SEP] Next time it happens I can post the notebook though [CLS] [SEP] OK, just occurred with LINKLINK [CLS] [SEP] I couldn't reproduce it in a clean conda env with notebook 5 [CLS] [SEP] 1rc1 installed [CLS] [SEP] ðŸ˜•. If it's related to Mathjax, and it only affects some notebooks, I would have expected it to affect notebooks with maths expressions in to be rendered [CLS] [SEP] As far as I can see, that notebook doesn't, which is puzzling [CLS] [SEP] Is it possible that it only affects notebooks with no maths expressions for Mathjax to act on [CLS] [SEP] Looking at the code, I also don't follow how it can give that error dialog without also logging to the console CODESCODES [CLS] [SEP] The only thing I can think of that might fit the symptoms is a JS caching issue [CLS] [SEP] We've run before into caching issues which seem resilient to hard refreshes and manually clearing the cache [CLS] [SEP] I thought we had worked around the worst of them, but perhaps they're biting us again [CLS] [SEP] The things we usually try in this case include: A different browser: you've already tried this, and it did seem to help, which supports my theory [CLS] [SEP] A private browsing session: this can bypass the cache. Running the notebook server on a different port than usual I think browsers cache per port [CLS] [SEP] willingc also had the same symptoms which seemed to be related to a browser extension Lastpass [CLS] [SEP] You're not using the same browser or the same extension, but it could be that a different extension is having a similar effect [CLS] [SEP] OK, thanks, Actually, I'm getting just as many occurrences in Safari as I did with Firefox now [CLS] [SEP] I did try clearing the cache on FF, but that didnt help [CLS] [SEP] I can try disabling 1Password and see if that fixes things [CLS] [SEP] Can whoever is seeing this try using a private browsing mode incognito mode, to make sure that there are no problems with extensions, cached data, cookies, etc [CLS] [SEP] jasongrout When I saw this in an earlier issue, the same behavior was seen in Safari's private mode too [CLS] [SEP] Disabling LastPass worked for me on the notebooks that had the issue [CLS] [SEP] Was the extension the root cause [CLS] [SEP] I don't know [CLS] [SEP] Grant just released a second release candidate [CLS] [SEP] We don't think we've made any change that should fix it, but can anyone experiencing this upgrade and let us know whether it still occurs [CLS] [SEP] Same issue on second release candidate [CLS] [SEP] I've been trying to troubleshoot [CLS] [SEP] This very old IPython mathjax issue LINKLINK seems closely related same message being displayed Type markdown [CLS] [SEP] and error message box [CLS] [SEP] cc gnestor takluyver. LINKLINK. and David Ketcheson's message a few below that [CLS] [SEP] Good find [CLS] [SEP] It sounds like then it was due to caching issues and an outdated version of Mathjax [CLS] [SEP] That was before we bundled Mathjax with the notebook [CLS] [SEP] The Type markdown and Latex message is what an empty, rendered Markdown cell shows [CLS] [SEP] It looks like it's adding that cell, but the error is stopping it before it sets its content [CLS] [SEP] It does seem like a caching or browser issue [CLS] [SEP] I experienced similar issue [CLS] [SEP] Kernel message keeps flickering, Adapting to protocol v5 [CLS] [SEP] 1 for kernel eb3544e4 [CLS] [SEP] message keeps showing [CLS] [SEP] Switching from Chrome to IE solved it [CLS] [SEP] Anaconda jupyter notebook version.5 [CLS] [SEP] 0. Switching browsers will work temporarily, but I found that it cropped up again as usage of that browser increased [CLS] [SEP] I agree with fonnesbeck [CLS] [SEP] I'm not convinced the browser change is a long term fix [CLS] [SEP] asears Are you running notebook 5 [CLS] [SEP] 0 or 5 [CLS] [SEP] 0rc [CLS] [SEP] If this is affecting 5 [CLS] [SEP] 0 too, then we shouldn't hold off on releasing 5 [CLS] [SEP] 0 on account of this issue not to say that we shouldn't get to the bottom of this and resolve it [CLS] [SEP] Sounds like a race condition, where what's in the browser's cache affects the order things happen [CLS] [SEP] disappointed: Agreed that if this is happening on 5 [CLS] [SEP] 0 we should go ahead with the release, but for both willingc and fonnesbeck seemed to start seeing it on upgrade [CLS] [SEP] It might be that changes in the upgrade make something which was previously rare more common [CLS] [SEP] takluyver I didn't see this behavior until the rc releases [CLS] [SEP] I think I might have tracked this down see 2792 [CLS] [SEP] Nice work [CLS] [SEP] I will test the PR to see if it does the trick [CLS] [SEP] I noticed also, under master, that notebooks will lock up during use on Safari making the browser unresponsive for several minutes [CLS] [SEP] Looking at the console afterwards shows similar information: LINKLINK Can you open a new issue for debugging that [CLS] [SEP] Actually, it appears that your branch this too [CLS] [SEP] I take that back [CLS] [SEP] It just occurred with your PR [CLS] [SEP] I will start a new issue [CLS] [SEP] I notice I have the same message when I open a notebook, not even starting to execute it, wait the kernel to say ready, then trying as first action a File Make a Copy in Notebook 5 [CLS] [SEP] 1rc2. LINKLINK. I've just released rc3, which includes a change to hopefully fix this error I could never reproduce it, so it's hard to tell if it's fixed [CLS] [SEP] Can you try upgrading and see if it works [CLS] [SEP] takluyver I haven't seen the error in a while since your last fix 2792 [CLS] [SEP] I briefly tested rc3 and it's looking fine for me [CLS] [SEP] Will let you know if I see it in the future [CLS] [SEP] fonnesbeck Can you try installing rc3 and let us know if it resolves this issue: CODESCODES Yes, running it now [CLS] [SEP] Will see what happens over the next few hours days [CLS] [SEP] No issues after a couple days of continuous use [CLS] [SEP] Thanks [CLS] [SEP] Thanks Chris [CLS] [SEP] I will close this issue, then [CLS] [SEP] We can reopen it if someone finds they can reproduce it [CLS] [SEP] gnestor I think this is the last issue tagged for 5 [CLS] [SEP] Is there anything else you're aware of that we should do before the release [CLS] [SEP] Nope, just LINKLINK and it looks like that was just merged [CLS] [SEP] thumbs up Well, problem still persists, is there any real fix for that problem [CLS] [SEP] I've installed anaconda on two different computers Win7 and RHEL with no internet connection and Jupyter notebook just don't work [CLS] [SEP] LINKLINK. LINKLINK. But, sometimes it runs correctly, without any reason, it happen when I enable internet connection run jupyter lab wait for jupyter to load notebook longer then usual, but none of these actions fixes problem permanently so I guess it's more of a random coincidence [CLS] [SEP] By the way, I cannot repeat this problem on my own machine OS X, pip no anaconda, Safari & chrome It turns out that Jupyter have connection between kernels on different ports not 8888, so when heavy firewall installed, it blocks such connections as suspected danger and kernels don't receive messages between each other and so Jupyter doesn't work [CLS] [SEP] Simplest solution for this is running notebook on port 8889 or any other [CLS] [SEP] That explains why running jupyter lab temporary solves the problem, as it runs on 8889 when 8888 is busy [CLS] [SEP] Short answer: change port from 8888 to 8889 Security software has been a recurring problem, unfortunately [CLS] [SEP] No idea why 8888 vs 8889 makes a difference [CLS] [SEP] Hi there, i've tried most of the fixes suggested in 2708, 2752, and 2747 by updating notebook, pyzmq, using an older version of tornado, to fix this issue and I have had no luck [CLS] [SEP] I even tried changing the port, but I'm still hitting this error and I can't run anything [CLS] [SEP] LINKLINK. The adapting to protocol [CLS] [SEP] message is not an error [CLS] [SEP] What is actually going wrong [CLS] [SEP] So to clarify, the main issue is that I will try running cells in my notebook like shigabeev above and they won't actually run [CLS] [SEP] The star will be present but it's not running the cell or yielding an output [CLS] [SEP] I've changed the port and am still encountering the issue [CLS] [SEP] The only message I get is the one I posted earlier [CLS] [SEP] Borrowing from the troubleshooting doc I'm adding in 3584: Jupyter doesn't load or doesn't work in the browser. Try in another browser for example if you normally use Firefox, try with Chrome [CLS] [SEP] This helps pin down where the problem is [CLS] [SEP] Try disabling any browser extensions and or any Jupyter extensions you have installed [CLS] [SEP] Some internet security software can interfere with Jupyter [CLS] [SEP] If you have security software, try turning it off temporarily, and look in the settings for a more long term solution [CLS] [SEP] In the address bar, try changing between CODESCODES localhost CODESCODES and CODESCODES 127 [CLS] [SEP] 0 [CLS] [SEP] 1 CODESCODES [CLS] [SEP] They should be the same, but in some cases it makes a difference [CLS] [SEP] 