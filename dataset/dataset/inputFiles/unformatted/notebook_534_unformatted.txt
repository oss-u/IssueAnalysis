I plan on implementing the hiding of input cells. Might not happen for 4.1, but I will be optimistic for now.
Woot! 

BTW, I like our variation of making a Tabbed Input/Output cell [1] such that you can see the code in the Input tab, but defaults to showing the Output tab initially. Also can display the input next to output.

[1] - https://www.youtube.com/watch?t=19&v=WwoTzvOkEJQ
I can imagine that this view would be useful sometimes. But initially this
will be as simple as possible - possibly without UI (just in the command
palette).

On Tue, Oct 6, 2015 at 4:02 PM, Doug Blank notifications@github.com wrote:

> Woot!
> 
> BTW, I like our variation of making a Tabbed Input/Output cell [1] such
> that you can see the code in the Input tab, but defaults to showing the
> Output tab initially. Also can display the input next to output.
> 
> [1] - https://www.youtube.com/watch?t=19&v=WwoTzvOkEJQ
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/jupyter/notebook/issues/534#issuecomment-145981594.

## 

Brian E. Granger
Associate Professor of Physics and Data Science
Cal Poly State University, San Luis Obispo
@ellisonbg on Twitter and GitHub
bgranger@calpoly.edu and ellisonbg@gmail.com
Would it be possible to expose the JS so that it survives nbconvert? Otherwise any derived materials would need to re-implement show/hide machinery.

I'm also :+1: on the possibility of switching input on one cell only, imagine publishing lecture materials in a non-programming course, where you only might want to check how a particular thing is produced.
Here's a snipped that works for me if I run as HTML in the 1st cell.

``` javascript
<script>
    var code_show=true; //true -> hide code at first

    function code_toggle() {
        $('div.prompt').hide(); // always hide prompt

        if (code_show){
            $('div.input').hide();
        } else {
            $('div.input').show();
        }
        code_show = !code_show
    }
    $( document ).ready(code_toggle);
</script>
```

Here's the button.

``` html
<a href="javascript:code_toggle()">[Toggle Code]</a>
```
I just signed in to thank @Saynah for that great hack. I don't use Jupyter specifically because it doesn't have cell folding, but this is the closest I've found so far. 
@Saynah, @ecollins, I created a code hiding plugin for Jupyter a couple of months ago. If you're interested in check out [hide_code](https://github.com/kirbs-/hide_code).

Edit: fixed a typo.
Thanks @kirbs- , had some [issue](https://github.com/kirbs-/hide_code/issues/6) the first time around the install. It'd definitely be nice to see this feature upstream.
It seems like this would be nice done a cell magic, then it's easy to selectively hide cells, not sure though. still learning the system. Plus I seem to be running an ancient version
I don't think a cell magic is the right thing for this:
- Hiding cells should work the same way for any kernel, and magics are not general.
- Cell magics usually affect what the kernel does with code, whereas here we don't want that to change

If you're on an old version, have a look at the upgrade instructions here:
http://jupyter.readthedocs.org/en/latest/install.html#upgrading
Hiding input cells for HTML output would be greatly appreciated!
I second that!
I have cell hiding on HTML export figured out with a helpful piece of code to trigger upon export; but now that I'm moving to deploying Jupyterhub in my organization I really would appreciate the ability to hide live input cells so users don't see them when they run their notebooks. 
The `hide_code` notebook extension is nice, but it doesn't hide the code when exporting. Can an nbextension register preprocessors? As `hide_code` adds a variable to the meta-data, that should be trivial to implement.
You can hide the code in nbconvert using a custom template.
Like this template [hide_input_output.tpl](https://github.com/ipython-contrib/IPython-notebook-extensions/blob/master/templates/hide_input_output.tpl) for conversion to HTML. You have to change the metadata variable name in the template, because it was made for another notebook extension.

For conversion to TeX or PDF you can take a look at this template [printviewlatex.tplx](https://github.com/ipython-contrib/IPython-notebook-extensions/blob/master/templates/printviewlatex.tplx) and modify it accordingly.
I think it would be cleaner to do this with a preprocessor (which I just did locally). I fell the hiding of cells should be independent of the template.
It would be neat if in addition to the feature we could allow to export to pdf/html removing/hiding input cell code and prompt so we could have a clean pdf/html output without any code but with the beautiful graphs, markdown and results. 
A man can dream. 
@BreitA that's super easy. The hard part is getting rid of the prompt for the output. Lemme send a PR.
Hm actually I realized that I was doing the wrong thing and also removed the output of the cell. That was simple.
Oops, ping @jamiesHQ
I actually already do all of that with a mix of workarounds like theses one 
http://stackoverflow.com/questions/27934885/how-to-hide-code-from-cells-in-ipython-notebook-visualized-with-nbviewer

```

from IPython.display import HTML
HTML("""
<script>
  $(document).ready(function(){
    $('div.prompt').hide();
    $('div.back-to-top').hide();
    $('nav#menubar').hide();
    $('.breadcrumb').hide();
    $('.hidden-print').hide();
  });
</script>
""")
```

and use http://wkhtmltopdf.org/ to convert the rendered HTML into pdf but with this the layout is atrocious as expected. 

If you guys provide an embeded good solution on jupyter for this it would be perfect! 
```
from IPython.display import display
from IPython.display import HTML
import IPython.core.display as di

# This line will hide code by default when the notebook is exported as HTML
di.display_html('<script>jQuery(function() {if (jQuery("body.notebook_app").length == 0) { jQuery(".input_area").toggle(); jQuery(".prompt").toggle();}});</script>', raw=True)

# This line will add a button to toggle visibility of code blocks, for use with the HTML export version
di.display_html('''<button onclick="jQuery('.input_area').toggle(); jQuery('.prompt').toggle();">Toggle code</button>''', raw=True)
```
This is good to have, though I believe the initial discussion was about
hide/fold functionality within Jupyter
On May 19, 2016 12:54 AM, "Joel Bondurant" notifications@github.com wrote:

> from IPython.display import display
> from IPython.display import HTML
> import IPython.core.display as di # Example: di.display_html('
> %s:' % str, raw=True)
> 
> This line will hide code by default when the notebook is exported as HTML
> 
> di.display_html('', raw=True)
> This line will add a button to toggle visibility of code blocks, for use
> with the HTML export version
> 
> di.display_html('''Toggle code''', raw=True)
> 
> —
> You are receiving this because you were mentioned.
> Reply to this email directly or view it on GitHub
> https://github.com/jupyter/notebook/issues/534#issuecomment-220252937
I was just trying to hack something like this together.
My idea was a bit different. I try to use @damianavila  RISE plugin to create lecture notes. I would like to see code blocks within the notebook, but mark them "hide" during the presentation. Hence, I can easily read and follow what is done, but the presentation stays clean.
I am trying to merge the hide plugin from @kirbs-  by adding a Boolean expression to the if-clause:

```
var toggle_selected_input = function () {                                                                                                        
        // Find the selected cell                                                                                                                    
        var cell = Jupyter.notebook.get_selected_cell();                                                                                             
        // Toggle visibility of the input div                                                                                    
        if (cell.metadata.hide_input && $('#maintoolbar').hasClass('reveal_tagging'))  {                          
            cell.element.find("div.input").toggle('slow');                                                                                           
        }                                                                                                                                            
        cell.metadata.hide_input = ! cell.metadata.hide_input;                                                                                       
    };                                                    
```

whereas, $('#maintoolbar').hasClass('reveal_tagging')) is set by RISE to identify whether the presentation mode is on or off (as far as I understood).

However, it seems that the above function as well as update_input_visibility is not called anymore after the switching to the presentation (which seems somehow logical). Thus, now I need to find the place to call update_input_visibility() after starting the presentation mode. What a pitty that this is my first contact with JS ;)

EDIT: Just to get this again more on topic. Implementing this directly into Jupyter sounds great but please make sure, that different plugins or exports can easily utilise resp. customize the hide code functionality.
Just wanted to call out that the hiding of the output prompt (e.g. "Out [32]") should be included in this feature. I think the majority of use cases that want to hide the input cell want to hide all references to the code, which includes the prompts. 

Still eager to see this feature integrated into Jupyter. :) 
I remember to read months/year ago that Jupyter (at that time IPython Notebook) would not allow to hide input cells for security reasons. Can anyone point me to that discussion?
Any update as to the hiding of input cells? Would love to be able to use Jupyter to create the equivalent of RMarkdown reports. Thanks overall for this wonderful Jupyter project!
I'm wanting to do the same. Is creating Rmarkdown style reports on the
Jupyter roadmap?

On Tue, 19 Jul 2016 at 14:24 Levi Thatcher notifications@github.com wrote:

> Any update as to the hiding of input cells? Would love to be able to use
> Jupyter to create the equivalent of RMarkdown reports.
> 
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> https://github.com/jupyter/notebook/issues/534#issuecomment-233630850,
> or mute the thread
> https://github.com/notifications/unsubscribe-auth/ADXIc6qUO8LIH7F2HxhPmvYYKxrxrqFzks5qXM_zgaJpZM4GKAxO
> .
Thanks for the reminder on this one...will try to get some time back on it...

Could you give an examples of the Rmarkdown reports?
No problem; the package [pweave](http://mpastell.com/pweave/) is currently
my go to package for generating reports with python - though it's a long
way off R's [KnitR](http://yihui.name/knitr/) in terms of functionality;
have a look at the pweave examples [here](http://mpastell.com/pweave/examples/) and KnitR examples [here](https://github.com/yihui/knitr-examples).

The philosophy is admittedly slightly different from a notebook - your goal
from the start is to write code chronologically such that you 'Restart &
Run All' at the end to generate your document. However, enabling this
functionality could be quite simple: adding '[chunk](http://rmarkdown.rstudio.com/authoring_rcodechunks.html) [options](http://mpastell.com/pweave/chunks.html)' to all code cells should allow
jupyter notebooks to be used for this purpose without any other changes.

From my perspective, the reason why this style of working is important is
twofold:
- Make creating reports easier
  - no faffing with latex (though you can use latex within the document
    when you want - already implemented in jupyter markdown cells)
  - write the report as you code
  - allow inline references to the data and results e.g. instead of
    writing 'The mean of the column was 2.6' you would write 'The mean of the
    column was `np.mean(some_array)`', such that, if and when your data
    changes, you simply regenerate your report, safe in the knowledge the text
    is still correct
  - 1000s of researchers worldwide would benefit from the time saved
- Make reports reproducible
  - You know exactly what code you executed to create all the figures,
    tables, and text
  - Reproducibility in academic research is currently pretty poor -
    creating tools to make this easier will have widespread benefits to the
    academic community

I think a good first step would be a markdown cell toolbar that controls
simple cell options like hiding (like the 'edit metadata' cell toolbar but
higher level). Most of the back end work appears to already be done - I
detail a solution [here](http://stackoverflow.com/questions/31517194/how-to-hide-one-specific-cell-input-or-output-in-ipython-notebook/38040507#38040507)
that uses an nbextension - but an easy user interface that doesn't require
faffing with the cell metadata would be useful such that the user can see
at a glance what to expect the generated report to look like.

A more difficult next step, I imagine, would be thinking about how to
implement caching and whether that idea is compatible with the notebook
philosophy.

I'm keen to contribute if I can so do let me know if I can help in some way.
I haven't seen it expressly mentioned yet, and it is similar enough to many of the requests being made to deserve a mention:

The [Python Markdown ](https://github.com/ipython-contrib/IPython-notebook-extensions/tree/master/nbextensions/usability/python-markdown) notebook extension provides some of the functionality users need. 

I use this extension in combination with a few other tricks to achieve a result _similar_ to Sweave, Pweave, Rmarkdown, etc. See [my example gist](https://gist.github.com/brazilbean/1095e0af3ff2b5f37faeb0f63f0fb917).
I just want to point out that this thread has conflated two different
functionalities.

The one Levi and James seem to want is to configure Jupyter to export
output cells but not code cells to pdf/html/latex.
The other (which I thought was the original one under discussion) was to
hide or fold input cells within the Jupyter notebook itself.

On Fri, Jul 22, 2016 at 10:10 AM, Gordon Bean notifications@github.com
wrote:

> I haven't seen it expressly mentioned yet, and it is similar enough to
> many of the requests being made to deserve a mention:
> 
> The Python Markdown
> https://github.com/ipython-contrib/IPython-notebook-extensions/tree/master/nbextensions/usability/python-markdown
> notebook extension provides some of the functionality users need.
> 
> I use this extension in combination with a few other tricks to achieve a
> result _similar_ to Sweave, Pweave, Rmarkdown, etc. See my example gist
> https://gist.github.com/brazilbean/1095e0af3ff2b5f37faeb0f63f0fb917.
> 
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> https://github.com/jupyter/notebook/issues/534#issuecomment-234600580,
> or mute the thread
> https://github.com/notifications/unsubscribe-auth/AA8HIoHaJzt2JTnV9j9P2roZqjUvP9crks5qYPmBgaJpZM4GKAxO
> .
@brazilbean Oh nice! I didn't know about the `<!-- hide code` and `end hide code -->` Raw NBConvert cells. Thanks.

@ecollins You're quite right. Sorry for this.
My interest in this feature aligns with @kungfujam. A critical feature and advantage of R is its ability to link code directly to reports without manual intervention. While I like the convenience that affords, the reproducibility of entirely code generated reports is my primary concern. That said showing all code in a report becomes unreadable particularly when doing all the plot formatting. We
While I do think we can improve the notebook's ability to handle the report usage case, it may make sense to build other tools for those usages cases. For example, we should be able to build support for knitr (and a python variant) into juptyerlab itself. That is one of the big underlying ideas of jupyterlab - that the same building block may be better assembled in different wants for different purposes.
> For example, we should be able to build support for knitr (and a python variant) into juptyerlab itself.

Agreed. Brian, do you know if there's an issue in Jupyterlab for connecting kernels to text files? https://github.com/jupyter/jupyterlab/issues/450 discusses it, but only tangentially. Perhaps we can move further discussion of "report generation" issue there, and limit this issue to the original "hide input in the notebook".
To separate out the requests a bit, having the ability to hide input cells (ie, code) would be a fantastic first step and would get us functionality that's akin to RMarkdown reports (since we can export a Jupyter notebook to html/pdf). Whatever you decide, thanks for a fantastic product overall!
> Agreed. Brian, do you know if there's an issue in Jupyterlab for connecting kernels to text files?

For now we are trying to reach feature parity with current notebook, which is already a lot of work, and yes we will discuss attaching kernel to "classic" text files, though it is a complex question as soon as you want to enable real-time collaboration as well, as there are security implications. 

> To separate out the requests a bit, having the ability to hide input cells (ie, code) would be a fantastic first step and would get us functionality that's akin to RMarkdown reports (since we can export a Jupyter notebook to html/pdf).

You can already tag cell with metadata and drop them when using nbconvert exporters, @michaelpacer is going to work in making that more straightforward, and improve the documentation.  
@Carreau Thanks for the info!
@vavachan If you look at https://github.com/michaelpacer/hiding_tags_nbconvert/blob/master/kill_hidden.tplx that should give you a good idea of how to do this while hard hiding (killing) cells, inputs or outputs on the basis of the tags that you've applied to individual cells (in case you don't want to make it universal). 

If you want to get rid of _all_ input you could modify that template and get rid of the `if` statement that limits the application of the hiding to only those cells you have tagged as such. 
+1 for being able to selectively hide input cells -- any progress on this?@dpsanders do you mean in the notebook or in a converted notebook? If after conversion, then https://github.com/michaelpacer/hiding_tags_nbconvert might be what you're looking for. If you want it to be in nbconvert itself, please comment on https://github.com/jupyter/nbconvert/issues/445. 

I'm not sure if there's been any forward motion on either how to apply tags in a more user-friendly manner or actually hiding input from within an active notebook. I meant in an active notebook.Another request for this today- will this for sure be in 5.1?We are working on the design for this in JupyterLab right now. I would
rather focus on implementing new features first in JupyterLab and the back
porting as time allows. Getting the design right for this is challenging,
but we are making progress (even in the last week :-). Because of these
things I don't want to commit to it being in any particular release of
classic notebook. This brings up another issue and that is how/when do we
back off on new features in classic notebook. My own personal preference
would be to start dramatically scale back new features in classic notebook,
and if they do get added, make sure they are in lab first.

Also, keep in mind, this is the longest standing feature request we have
had since 2011...we have implemented it multiple times in different
ways...the bottleneck is design...

On Thu, Mar 16, 2017 at 11:37 AM, JamieW <notifications@github.com> wrote:

> Another request for this today- will this for sure be in 5.1?
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/jupyter/notebook/issues/534#issuecomment-287152502>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AABr0NYxIkr63dNXx3K4fL_sTBT8x8-Sks5rmYF_gaJpZM4GKAxO>
> .
>



-- 
Brian E. Granger
Associate Professor of Physics and Data Science
Cal Poly State University, San Luis Obispo
@ellisonbg on Twitter and GitHub
bgranger@calpoly.edu and ellisonbg@gmail.com
I always wanted to hide code because 99% of people will shut down emotionally if they see code. The big workflow gulf in Jupyter for me is between analysis and presentation. The dashboarding widgets might offer a nice context in which to frame design considerations on making notebooks more presentable.@JoelBondurant If you are presenting code and don't need to actually execute it (which is presumably what you would be doing if you're hiding the code) you can use `nbconvert`.  

How exactly you would use it would depend on what exactly you want. 

For example, if you wanted to explore a notebook as though you were going through the notebook but without having to see or execute any of the code, you could export to html and use something like @parente's solution to hide all of the input cells (as an nbviewer PR https://github.com/jupyter/nbviewer/pull/681 and as a [blogpost](http://mindtrove.info/code-hiding-on-nbviewer/)). 

If you want a bit more flexibility (e.g., showing some inputs, but not all; or being able to toggle the visibility of individual cells' input), you could use the approach I took in https://github.com/mpacer/hiding_tags_nbconvert. In that case, you would tag all the cells that for which the input would be eliminated with `kill_input` (and you would use the `kill_hidden.tpl` template). That would solve your problem in the same way as above, but on a per cell basis. 

However, suppose someone asked a question specifically about the code, you might want to make it accessible; that wouldn't be possible if the cells were actually not present(which is what the `kill_hidden.tpl` does… thus the ominous moniker of `kill`). However, you might want to only apply this to some cells, and you might not want to have to toggle all the cells at once in order to show just one (which may cause scrolling issues for that one cell). Then you want the `toggle_hidden.tpl` template, which creates per-cell visibility that is controlled by a toggle control (e.g., see the checkbox next to `{%- block any_cell -%}` at [this example site](https://mpacer.github.io/hiding_tags_nbconvert/hide_cells_based_on_tags.html) for to see what I mean). In that case, you would tag code cells with `hide_input` and would use the `toggle_hidden.tpl`. 

If you wanted to have a blending of the two, that's just a matter of me writing a new template which wouldn't be hard, but won't a priority for me unless someone specifically asks for it.

Let me know if I can be of any other help!Thanks Min!

On Thu, Mar 16, 2017 at 3:59 PM, M Pacer <notifications@github.com> wrote:

> @JoelBondurant <https://github.com/JoelBondurant> If you are presenting
> code and don't need to actually execute it (which is presumably what you
> would be doing if you're hiding the code) you can use nbconvert.
>
> How exactly you would use it would depend on what exactly you want.
>
> For example, if you wanted to explore a notebook as though you were going
> through the notebook but without having to see or execute any of the code,
> you could export to html and use something like @parente
> <https://github.com/parente>'s solution to hide all of the input cells
> (as a PR jupyter/nbviewer#681
> <https://github.com/jupyter/nbviewer/pull/681> and as a blogpost
> <http://mindtrove.info/code-hiding-on-nbviewer/>.
>
> If you want a bit more flexibility (e.g., showing some inputs, but not
> all; or being able to toggle the visibility of individual cells' input),
> you could use the approach I took in https://github.com/mpacer/
> hiding_tags_nbconvert. In that case, you would tag all the cells that for
> which the input would be eliminated with kill_input (and you would use
> the kill_hidden.tpl template). That would solve your problem in the same
> way as above, but on a per cell basis.
>
> However, suppose someone asked a question specifically about the code, you
> might want to make it accessible; that wouldn't be possible if the cells
> were actually not present(which is what the kill_hidden.tpl does… thus
> the ominous moniker of kill). However, you might want to only apply this
> to some cells, and you might not want to have to toggle all the cells at
> once in order to show just one (which may cause scrolling issues for that
> one cell). Then you want the toggle_hidden.tpl template, which creates
> per-cell visibility that is controlled by a toggle control (e.g., see the
> checkbox next to {%- block any_cell -%} at this example site
> <https://mpacer.github.io/hiding_tags_nbconvert/hide_cells_based_on_tags.html>
> for to see what I mean). In that case, you would tag code cells with
> hide_input and would use the toggle_hidden.tpl.
>
> If you wanted to have a blending of the two, that's just a matter of me
> writing a new template which wouldn't be hard, but won't a priority for me
> unless someone specifically asks for it.
>
> Let me know if I can be of any other help!
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/jupyter/notebook/issues/534#issuecomment-287217610>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AABr0Cx7Y1FE3d-XbVBWolJN7Ios77pCks5rmb7YgaJpZM4GKAxO>
> .
>



-- 
Brian E. Granger
Associate Professor of Physics and Data Science
Cal Poly State University, San Luis Obispo
@ellisonbg on Twitter and GitHub
bgranger@calpoly.edu and ellisonbg@gmail.com
@ellisonbg if you meant me, I am flattered to be mistaken for @minrk — if that's happening, I'm clearly doing something right :).LOL, after over 10 years of reading emails from MinRK, my brain is
hardwired to greedily autocomplete "M..." to MinRK. Many apologies, and
thank you for the detailed reply and gentle correction. Cheers, Brian.

On Thu, Mar 16, 2017 at 6:26 PM, M Pacer <notifications@github.com> wrote:

> @ellisonbg <https://github.com/ellisonbg> if you meant me, I am flattered
> being mistaken for @minrk <https://github.com/minrk> — if that's
> happening, I'm clearly doing something right :).
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/jupyter/notebook/issues/534#issuecomment-287241300>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AABr0N-rgNvYefbFsVUx3BWuOnxRCr7Tks5rmeFZgaJpZM4GKAxO>
> .
>



-- 
Brian E. Granger
Associate Professor of Physics and Data Science
Cal Poly State University, San Luis Obispo
@ellisonbg on Twitter and GitHub
bgranger@calpoly.edu and ellisonbg@gmail.com
Right now nteract is respecting two different metadata keys for hidden inputs: `inputHidden` and `hide_input`. I'd love to have one standard for that metadata, especially if we end up with it in the core nbformat. Otherwise we'll probably support multiple extensions.

Ref: https://github.com/nteract/nteract/pull/1697

Would also love to see jupyterlab ship with input hiding available as a toggle by default.Yes! The dev meeting will be a great place to work through this. A few
other thoughts in the meantime:

* We are thinking of having some distinction between the view state, the
document state and the shared state in real-time collaboration. Just
because one user has collapsed input/output, doesn't mean it should go into
the document or by sync'ed with all collaborators.
* Because of that, there may be different places these things are stored.
* nbviewer also has related metadata that we may want to consolidate or not.

On Thu, May 18, 2017 at 1:08 PM, Kyle Kelley <notifications@github.com>
wrote:

> Right now nteract is respecting two different metadata keys for hidden
> inputs: inputHidden and hide_input. I'd love to have one standard for
> that metadata, especially if we end up with it in the core nbformat.
> Otherwise we'll probably support multiple extensions.
>
> Ref: nteract/nteract#1697 <https://github.com/nteract/nteract/pull/1697>
>
> Would also love to see jupyterlab ship with input hiding available as a
> toggle by default.
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/jupyter/notebook/issues/534#issuecomment-302526759>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AABr0JxQZUHuGtwwokaPczdnLP48NENqks5r7KUtgaJpZM4GKAxO>
> .
>



-- 
Brian E. Granger
Associate Professor of Physics and Data Science
Cal Poly State University, San Luis Obispo
@ellisonbg on Twitter and GitHub
bgranger@calpoly.edu and ellisonbg@gmail.com
Whoops, I forgot to note why we support two different ones - jupyter extension used `hide_input` while nteract used `inputHidden`. Since everything else in the notebook format uses underscores, I'd prefer to align on something like that.Another voice/vote/request for this feature.   I understand that there are other development priorities but I hope the team will consider these types of relatively basic requests that can help non-power users such as myself manage code development and exploration.

This Julia notebook implements it in Javascript and I am trying to  understand Javascript well enough to adapt it for my own Python Notebooks.  

http://nbviewer.jupyter.org/github/shashi/ijulia-notebooks/blob/master/funcgeo/Functional%20Geometry.ipynbSeconded. I'd love to be using Jupyter for writing projects, but I have
trouble doing anything beyond cute throwaway snippets until we can fold
code.



On Sun, May 28, 2017 at 5:48 PM, Old Guy in the Club <
notifications@github.com> wrote:

> Another voice/vote/request for this feature. I understand that there are
> other development priorities but I hope the team will consider these types
> of relatively basic requests from and for non-power users.
>
> This Julia notebook implements it in Javascript and I am trying to
> understand it well enough to use it in my own Python Notebooks.
>
> http://nbviewer.jupyter.org/github/shashi/ijulia-
> notebooks/blob/master/funcgeo/Functional%20Geometry.ipynb
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/jupyter/notebook/issues/534#issuecomment-304551358>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AA8HIpHtmql0w8zyB8Aks2ADmDLGQUavks5r-hX7gaJpZM4GKAxO>
> .
>
For the use case of hiding code cells in reveal.js slides made from a notebook, one can just make a template (e.g., `code_free_slides.jinja2`) like below and then call `jupyter nbconvert --template code_free_slides.jinja2 --to slides shiny_apps_presentation.ipynb`.

[this blog](http://www.damian.oquanta.info/posts/hide-the-input-cells-from-your-ipython-slides.html) and some of the comments above talk about this.  However, they add complexity by including a toggle for the code (which might be problematic in some rare cases since the code is still in the slides HTML source).

```
{%- extends 'slides_reveal.tpl' -%}
{% block input_group -%}
{% endblock input_group %}
{%- block header -%}
{{ super() }}
{%- endblock header -%}
```

Perhaps it'd be worth adding this as a default template, or at least linking to [the nbconvert docs page on template](https://nbconvert.readthedocs.io/en/latest/customizing.html) from [the page on reveal.js slides](https://nbconvert.readthedocs.io/en/latest/usage.html#reveal-js-html-slideshow).  This seems like a pretty common use case.> Perhaps it'd be worth adding this as a default template, 

I am hesitant to make that "hide" template the default option.

> or at least linking to the nbconvert docs page on template from the page on reveal.js slides.

I think that would be helpful.> I am hesitant to make that "hide" template the default option.

Oh oops.  That was a typo on my part.  I meant to say something like "include it as a pre-made template" like the "basic" and "full" options.  I agree that the current default template for slides seems like the most sensible default if somebody just runs `jupyter nbconvert --to slides ...`What is the current state of this? 

* I know that cell tags are now available in classic notebook (https://github.com/jupyter/notebook/pull/2048)
* I also know that cell hiding is available in jupyterlab (https://github.com/jupyterlab/jupyterlab/pull/2474)
  * @blink1073 When an input is hidden, is metadata written to the notebook file? 
* @ellisonbg is working on revising the notebook format to support features like this. 
* @mpacer Is input hiding supported in nbviewer? [`source_hidden` belongs in the jupyter namespace in metadata now](https://nbformat.readthedocs.io/en/latest/format_description.html#cell-metadata). It does persist to disk. Cell tags are not to be used for core notebook state.

Originating PR in nbformat: https://github.com/jupyter/nbformat/pull/94Document wide input hiding is supported in nbconvert. 

I am still working out how to implement _filtering_ based on tags, but that's not togglable hiding. 

Hiding can be done based on tags and templates, but it will only be possible in certain formats, such as HTML. There is a prototype of how to do that using only CSS at https://github.com/mpacer/hiding_tags_nbconvert

There are issues with how to avoid jitter with hiding large sections of text. There was an issue on nbviewer about toggling input visibility, but not anything that was merged. That was partially because of the jitter issue partially because it would only act globally which wouldn't fit the use case of hiding some cells and not others. @parente can speak more to that than I can re: nbviewer on this issue. 

I do not believe the plan was for nbconvert to look at the `jupyter.source_hidden`or `jupyter.output_hidden` cell metadata to determine if something will be hidden/filtered on output. If people do want that feature it might be nice to have a way to manually "persist" the states with a custom tag stem assigned to the relevant cells (tag+"_input"; tag+"_output"). Then if we want that tag could be stored in the notebook level metadata & nbconvert can watch for that. Then nbconvert would add that value to the appropriate traitlet value for filtering input/output/cells (a traitlet which does not exist yet).Mobile phone fingers. Sorry for the accidental close!Doing a good job on the UI/UX hiding is a lot of work. I think there are
two possible routes with the classic notebook:

1. Not implementing it in the UI/UX but making sure the metadata is
preserved it it is there.
2. Implementing it in the exactly same was as JupyterLab.

(I am deliberately ruling out a third option, which is to re-design the
UI/UX it from scratch in a completely different way from JupyterLab).

I am fine with 2 if there is someone willing to do the work and follow the
ongoing JupyterLab UI/UX for it (which is still evolving). However, as a
whole, I think our time is better spent not implementing significant new
UI/UX features on the classic notebook at this point.

However, there may be another reason to hold off on doing this in the
classic notebook. When we implemented it in JupyterLab, we had to create
additional levels of nesting and a more complicated DOM structure to manage
the collapser (the thing you click) and the placeholder (the thing that
shows when input/output is hidden). The same things would have to be done
in the classic notebook implementation.

Because of this change in the DOM structure, the performance with large
notebooks became a huge roadblock for us. The reason is that Firefox has a
bug that causes the rendering of nested flex box's to scale as O(N^2). That
was causing even medium sized notebooks to take ~45 seconds to render.
However, even performance in Chrome was painful. It was enough of a problem
that we have delayed the JupyterLab beta release and have been working hard
to address the performance issues. We know how to fix it (move away from
nested flex boxes!) but that is requiring a significant refactor of the
views of the JupyterLab notebook.

Because the current DOM structure of the notebook (pre-refactor) is very
similar to that of the classic notebook, I think the classic notebook
implementation will run into the same exact performance problems and
require a complete restructuring of the DOM, CSS etc. While we have never
really thought of the COM/CSS of the classic notebook as being a "public
API", in reality, many extensions rely on those things and would break.

cc @sccolbert who is tackling the performance issues on the JLab side.




On Thu, Jul 27, 2017 at 5:15 AM, Peter Parente <notifications@github.com>
wrote:

> Mobile phone fingers. Sorry for the accidental close!
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/jupyter/notebook/issues/534#issuecomment-318344837>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AABr0FKhqHoZdW25_JR3ailBe5qoT81Tks5sSH9RgaJpZM4GKAxO>
> .
>



-- 
Brian E. Granger
Associate Professor of Physics and Data Science
Cal Poly State University, San Luis Obispo
@ellisonbg on Twitter and GitHub
bgranger@calpoly.edu and ellisonbg@gmail.com
@ellisonbg Thanks for that explanation. I have a couple questions:

* Once the performance issues are resolved, could we potentially re-use the JupyterLab widgets in classic notebook (with little effort)?
* I don't understand the subtleties of this UX yet, but I imagine that it works like: _user wants to hide and input cell > user selects input cell > user hides the cell by either selecting the action from the command palette or using the menu > the cell is rendered as a "..." indicating that it is hidden > when the user clicks on the "...", the cell is rendered as a cell again_. 
  * It seems pretty straight-forward when thinking about it like: _if the cell's `metadata.collapsed === true` then render as "..." else render as usual_.
On the first question. We could implement the classic notebook using the
JupyterLab codebase. I don't think it would be too much work, *but* it
would break all of the classic notebook APIs (JS, DOM structure, CSS).
Because we have made a commitment to try and not break those APIs during
the transition to JupyterLab, I don't see how we could do it in practice.

On the second: what you describe is definitely the basic idea. But there
are a number of edge cases we found that hand to be handled:

* When a cells input and output is hidden, only show one set of "..."
(basically the logic depends jointly on the input and output hidden state
in a non-trivial way).
* There are also other actions that modify that state. Some examples:
running a cell sets hide output to false. Clearing output sets hide output
to false, editing a cell, shows input, etc. Each isn't complicated, just a
bunch of edge cases (we are still chasing them).
* We also have logic that adds and removes CSS classes to a cell based on
the whether there is output in the cell or not. We needed this to do
conditional styling of the collapser and "..." when there isn't output at
all.



On Sun, Jul 30, 2017 at 9:43 AM, Grant Nestor <notifications@github.com>
wrote:

> @ellisonbg <https://github.com/ellisonbg> Thanks for that explanation. I
> have a couple questions:
>
>    - Once the performance issues are resolved, could we potentially
>    re-use the JupyterLab widgets in classic notebook (with little effort)?
>    - I don't understand the subtleties of this UX yet, but I imagine that
>    it works like: *user wants to hide and input cell > user selects input
>    cell > user hides the cell by either selecting the action from the command
>    palette or using the menu > the cell is rendered as a "..." indicating that
>    it is hidden > when the user clicks on the "...", the cell is rendered as a
>    cell again*.
>       - It seems pretty straight-forward when thinking about it like: *if
>       the cell's metadata.collapsed === true then render as "..." else render as
>       usual*.
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/jupyter/notebook/issues/534#issuecomment-318913545>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AABr0Dg1BovdyBE2pUwby4zsAvPl95irks5sTLKYgaJpZM4GKAxO>
> .
>



-- 
Brian E. Granger
Associate Professor of Physics and Data Science
Cal Poly State University, San Luis Obispo
@ellisonbg on Twitter and GitHub
bgranger@calpoly.edu and ellisonbg@gmail.com
Given the current issue count and the lack of manpower dedicated to the notebook nowadays, I say we go with option 1: 

> 1. Not implementing it in the UI/UX but making sure the metadata is
preserved it it is there.

@ellisonbg Is the notebook currently stripping the metadata? If so, this must be happening in the JS since JupyterLab is not stripping it?I don't now the current state of how lab and the notebook are handling this metadata, we would have to do some tests.I've been trying to get PDF export to hide input cells and have done this successfully with tplx templates etc.

My problem now is that hide_input seems to hide the cells even if I disable all extensions?  Is hide_input  actually being used by vanilla notebook? or do I have an extension mysteriously running somewhere?

I don't think the notebook web interface uses any metadata for hiding input yet, though maybe it's gone in without me noticing.

Stuff to check: browser Javascript console, logging from the server, run `jupyter nbextension list`+10, would be perfect if we can edit the meta-data in Jupyter Lab to:
- hide input of cell and only show output
- hide cell numbers, looks tacky.

See Ref. [here](https://github.com/jupyterlab/jupyterlab/issues/4100#issuecomment-370872663).It is my understanding that what @takluyver says is correct (not using the metadata in notebook yet). We do have work in progress to add that handling to lab though.I realize this has been open for a while and there were some difficulties here, but I have been getting a lot of questions regarding why classic jupyter doesn't respect the `jupyter` metadata `source_hidden`. JupyterLab, nbconvert, nbformat, and nteract all respect the field (if I recall correctly).

I see there's a lot of discussion on the DOM structure and how JupyterLab reimplemented that, but it seems like `source_hidden` and `outputs_hidden` wouldn't need drastic changes to enforce (even if classic couldn't edit the attribute easily). My front-end dev skills are a bit rusty but would adding a metadata check to https://github.com/jupyter/notebook/blob/d61cd6eaa7b41dfcdfbcda908a9c8335d581f636/notebook/static/notebook/js/codecell.js#L181 to set `display: None` be 80% of the work for `source_hidden`? Seems like it'd only need to capture initial render and metadata edit events to adjust the display attribute.

Thoughts/comments?