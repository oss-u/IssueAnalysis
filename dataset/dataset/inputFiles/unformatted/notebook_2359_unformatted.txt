I'm using the notebook from a conda env, and have the environment set up with all of my required packages installed. However, when I try to import one of these (seaborn) in the notebook, I get an import error suggesting it is not installed. This works fine from the command line and I can confirm using the `conda` command within the notebook that the package is installed:

![](http://d.pr/i/rkyJ+)

Running notebook 4.4.1 from conda.

Interestingly, when I try to import `notebook` from inside of a notebook, I get the same error:

```
---------------------------------------------------------------------------
ImportError                               Traceback (most recent call last)
<ipython-input-2-09fdb2483669> in <module>()
----> 1 import notebook
      2 
      3 notebook.__version__

ImportError: No module named 'notebook'
```To followup, I have even created a fresh conda env, but I get the exact same error.

Here also is my conda info:

```
Current conda install:

               platform : osx-64
          conda version : 4.2.13
       conda is private : False
      conda-env version : 4.2.13
    conda-build version : 2.0.2
         python version : 3.5.2.final.0
       requests version : 2.13.0
       root environment : /Users/fonnescj/anaconda3  (writable)
    default environment : /Users/fonnescj/anaconda3/envs/dev
       envs directories : /Users/fonnescj/anaconda3/envs
          package cache : /Users/fonnescj/anaconda3/pkgs
           channel URLs : https://conda.anaconda.org/conda-forge/osx-64
                          https://conda.anaconda.org/conda-forge/noarch
                          https://repo.continuum.io/pkgs/free/osx-64
                          https://repo.continuum.io/pkgs/free/noarch
                          https://repo.continuum.io/pkgs/pro/osx-64
                          https://repo.continuum.io/pkgs/pro/noarch
            config file : /Users/fonnescj/.condarc
           offline mode : False
```I can further confirm that installing Seaborn via pip does not fix this issue.Complete reinstallation of Anaconda fixed the issue.As it turns out, this does not fix this issue as I first claimed. It is not restricted to the seaborn package either.This occurs with pip-installed packages as well as conda:

![](http://d.pr/i/6hhK+)I think you need to restart the kernel for this to work. Besides, you have to be sure to be using the right `pip` (e.g. `pip` that comes with Anaconda instead of system `pip`).I've restarted the kernel multiple times, but this continues to occur. I have even tried deactivating and reactivating the conda env. I can also confirm that it is the pip installed into the current env, rather than the one in the root env. I can import this library from the ipython console without issue.

I can also confirm that `sys.executable` is what I expect it to be:

    '/Users/fonnescj/anaconda3/bin/python'Just to clarify, I am using a conda env based on this yml:

```yml
name: dev

channels:
 - conda-forge
 
dependencies:
- python=3.6
- arrow
- basemap
- blaze
- bokeh
- cython
- dask
- engarde
- ipython
- jupyter
- notebook
- ipyparallel
- ipywidgets
- joblib
- jupyter_client
- jupyter_core
- jupyter_contrib_nbextensions
- jupyter_nbextensions_configurator
- jupyterlab
- line_profiler
- mkl-service
- numexpr
- numba
- numpy
- openpyxl
- pandas
- patsy
- pillow
- pip
- pylint
- scikit-learn
- scipy
- seaborn
- snakeviz
- sympy
- tensorflow
- theano
- xlrd
- pip:
  - GPy
  - PyCap
  - pystan
  - rpy2
  - git+https://github.com/GPflow/GPflow.git#egg=GPflow
  - git+https://github.com/pymc-devs/pymc3.git#egg=pymc3
```

The env was created and all packages were installed without error, but some packages can be loaded into the notebook, while others were not.Even installing the old fashioned way with `python setup.py install` does not result in the notebook seeing the package. I'm at a loss here.Tried installing on an AWS instance. Same problem. What if you use a proper terminal instead of trying to run `!pip` in the notebook?I was only using pip in the notebook to list the installed package. It was installed first with conda when I created the env and then using pip from a conventional terminal. I can also confirm that the package is present in the `site-packages` directory for the active env:

```
drwxr-xr-x   24 fonnescj  staff      816 Apr  2 22:17 pymc3
drwxr-xr-x    7 fonnescj  staff      238 Apr  2 22:17 pymc3-3.0-py3.5.egg-info
-rw-r--r--    1 fonnescj  staff  1124023 Apr  2 14:30 pymc3-3.1rc3-py3.5.egg
```

And again, it imports from the IPython console; its only the notebook where it fails.Steps to replicate:

1. Create conda env with:

    conda create --name tester notebook pymc3 numpy ipython

2. Activate environment:

    source activate tester

3. Open IPython, and import pymc3 from the command line. Assert that it imports as expected.

4. Open a Jupyter notebook session:

    jupyter notebook

5. Create a new Python3 notebook and import pymc3. Failure occurs:

```
---------------------------------------------------------------------------
ModuleNotFoundError                       Traceback (most recent call last)
<ipython-input-1-37bf2a3357ff> in <module>()
----> 1 import pymc3

ModuleNotFoundError: No module named 'pymc3'
```I am able to get pymc3 to import if I install it in the root environment, but not in any environments that I create. Check `sys.executable` and `sys.path` inside the notebook - I bet your kernel is not running in the environment you intended it to. Run `jupyter kernelspec list` to see where it finds the `python3` kernel.Wow, that's bizarre. Its an extremely odd list. I've deleted `~/Library/Jupyter/kernels` and that appears to have straightened things out. 

Thanks.@fonnesbeck Even I am facing the similar issue. I have installed keras but I am not able to import it in the notebook. I am using Mac. Where can I find `~/Library/Jupyter/kernels` so that I can follow your strategy?Facing the same issue
@mgooty `!jupyter kernelspec list` will display the path but that didn't solve the issue for me.
Maybe more of a conda question, that fixes the issue for me : http://stuartmumford.uk/blog/jupyter-notebook-and-conda.htmlAlso facing the same issueHaving the same issue, any ideas / solutions?It sounds like you're trying an import in two different installations of Python, or two different environments. Check `sys.executable` to see which Python and environment you're running in, and `sys.path` to see where it looks to import modules.

Python packages must be installed separately for each copy of Python you use, and if you are using virtualenvs or conda envs, packages must be installed into each environment where you need them. Either the package is not installed in one, or a different version of the package is installed.

To install packages to a particular Python installation or environment using pip, you can run it like this:

```shell
path/to/python -m pip install ...
# Replace path/to/python with the path of the Python executable (sys.executable)
```

If you are using conda environments, you can install packages from conda like this:

```shell
source activate myenv  # On Windows, just 'activate myenv' (no 'source')
conda install ...
```

I have written this up as a blog post as well: http://takluyver.github.io/posts/i-cant-import-it.html

[ This is a saved reply because I answer similar questions often - sorry if it doesn't exactly fit your case ]edit: just noticed that this isn't the jupyterlab thread. sorry for the spam. But maybe the problem is transferable. It works for my "normal" Jupyter notebooks 

Thanks for the tips! However: I installed jupyterlab in its own conda env and installed everything in there via conda install ... so it should be there, correct? Still - I cannot import it (restarting kernel, etc. does not work, I am using a python 2.7 kernel, it's running on a Mac). Check `sys.executable` anyway, it might be running the kernel somewhere different to where you expect.ok, `sys.executable` in just python in terminal gives me /Users/hotte/miniconda2/envs/jupyterlab/bin/python 
(after I `source activate` the conda env)
Within the notebook I do the same and it gives me /Users/hotte/miniconda2/bin/python .
Which is pretty puzzling? Any ideas why the notebook itself does not point to my environment that I started it from? (notebook and everything WAS installed from within the environment)There'll be a kernelspec somewhere which is pointing it to a different Python. We really need to redesign that system. Run `jupyter kernelspec list` in a terminal to see what kernels it knows about. It will point you to directories which contain `kernel.json` files - one of those will be pointing it to the wrong Python.Thanks! I reset the path in the kernel.json file as you suggested. Everything works now! 
How to reset the path in the kernel.JSON file? 

```json
{
 "argv": [
  "python",
  "-m",
  "ipykernel_launcher",
  "-f",
  "{connection_file}"
 ],
 "display_name": "Python 3",
 "language": "python"
}
```

the path to where my sys.executable points to at system: 
`/home/whyshock/anaconda3/bin/python`
the path to where my sys.executable points to in the virtualenv named plotly:
`/home/whyshock/vs-workspace/plotly/bin/python`

When I run on terminal
jupyter kernelspec list 
`  python3    /home/whyshock/anaconda3/share/jupyter/kernels/python3`

I'm trying to run the jupyter notebook in the virtual environment when I try to run a program I get a modulenotfoundError but if I try to pip install the module, it says requirement already satisfied!

What am I doing wrong and how can I fix this? 




Where it says `"python"` in that file, give it the path to the Python executable you want it to use.@takluyver Thanks for the blog post!@takluyver 
I'm having the same problem but sys.executable is the same in notebook and console. Below you can see that I can't import a package (installed with `python setup.py develop`) in the notebook but am able to do so from the console.
![image](https://user-images.githubusercontent.com/8452354/33241485-51cfbf56-d2c6-11e7-9564-2f174ce254f7.png)
(I've been restarting notebook kernel many times)Do `print(mypy)` in the console to see where it's imported from. Is it in the working directory? In that case, it will only be picked up when running in that directory. Otherwise, check `sys.path` for differences.The package is not in the working directory. I can see the differences in `sys.path` but I still don't understand why the same python environment started from the same console has the path to this package or not depending on whether it is run via jupyter notebook. :(Having this issue bites...

However this post can help, I'm on a Mac and viola it worked.  In a nut
shell run sys.path in your terminal to locate all your python installs
including those in Anaconda.  Then locate the package you installed and see
what directory it was installed in.  Then go into your Jupyter notebook and
run sys.path to find where your notebook is installed.  If your having
issues with the package you should clearly see they are not in the same
directories.

Follow the steps in http://takluyver.github.io/posts/i-cant-import-it.html to
remedy the issue.

Its frustrating but you'll figure it out.

[image: photo]
*Tarique Hasheem*
510-299-2680
<http://www.linkedin.com/in/tariqueh>
Create your own email signature
<https://wisestamp.com/email-install?utm_source=promotion&utm_medium=signature&utm_campaign=create_your_own>

On Sun, Nov 26, 2017 at 10:37 AM, Mikolaj Magnuski <notifications@github.com
> wrote:

> The package is not in the working directory. I can see the differences in
> sys.path but I still don't understand why the same python environment
> started from the same console has the path to this package or not depending
> on whether it is run via jupyter notebook. :(
>
> â€”
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/jupyter/notebook/issues/2359#issuecomment-347028825>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AYguhTTQI_hankxUuHQk83iqYYsdU0sqks5s6a_QgaJpZM4Mw2Yg>
> .
>
Regarding your last email....

You have to be in your conda env (source activate name_of_your_conda_env).
Then you must install the package with conda install name_of_package.

Otherwise using pip or pip3 will install in a directory you may not want.
If the package is not available via conda install you can go into your py
directory where the conda env is and us pip but make sure to provide the
entire path to the directory for the install to be successful.


[image: photo]
*Tarique Hasheem*
510-299-2680
<http://www.linkedin.com/in/tariqueh>
Create your own email signature
<https://wisestamp.com/email-install?utm_source=promotion&utm_medium=signature&utm_campaign=create_your_own>

On Sun, Nov 26, 2017 at 1:23 PM, Tarique Hasheem <tariqueye@gmail.com>
wrote:

> Having this issue bites...
>
> However this post can help, I'm on a Mac and viola it worked.  In a nut
> shell run sys.path in your terminal to locate all your python installs
> including those in Anaconda.  Then locate the package you installed and see
> what directory it was installed in.  Then go into your Jupyter notebook and
> run sys.path to find where your notebook is installed.  If your having
> issues with the package you should clearly see they are not in the same
> directories.
>
> Follow the steps in http://takluyver.github.io/posts/i-cant-import-it.html to
> remedy the issue.
>
> Its frustrating but you'll figure it out.
>
> [image: photo]
> *Tarique Hasheem*
> 510-299-2680
> <http://www.linkedin.com/in/tariqueh>
> Create your own email signature
> <https://wisestamp.com/email-install?utm_source=promotion&utm_medium=signature&utm_campaign=create_your_own>
>
> On Sun, Nov 26, 2017 at 10:37 AM, Mikolaj Magnuski <
> notifications@github.com> wrote:
>
>> The package is not in the working directory. I can see the differences in
>> sys.path but I still don't understand why the same python environment
>> started from the same console has the path to this package or not depending
>> on whether it is run via jupyter notebook. :(
>>
>> â€”
>> You are receiving this because you commented.
>> Reply to this email directly, view it on GitHub
>> <https://github.com/jupyter/notebook/issues/2359#issuecomment-347028825>,
>> or mute the thread
>> <https://github.com/notifications/unsubscribe-auth/AYguhTTQI_hankxUuHQk83iqYYsdU0sqks5s6a_QgaJpZM4Mw2Yg>
>> .
>>
>
>
@tariqueye 
I have to install some packages from github and still be able to edit so I use `python setup.py develop`. I can add a line of code to append a relevant path to the sys.path, I just found it surprising that I can import from the console and not from the notebook although the same python env is used in both.@all,
I did have the same issue when try to import seaborn. I fixed it by installing seaborn as sudo on ubuntu!
sudo pip install seaborn 

Then I could import it on jupyter notebook. Hope this helps!
@all
For some reason it seems to work on that problematic machine now. ðŸ˜„ I can't identify what helped.To install on notebook and have any effect the correct way to do it is:

```
import sys
!conda install --yes --prefix {sys.prefix} seaborn
```

It will install in all conda environments.

If you do:
```
import sys
!{sys.executable} -m pip install seaborn
```
then it is even better! It will install in all environments (not only conda environments)

@ALL 
I'm having the same issue. I am running python 3.6 on a windows 8 computer and write my code with Notepad++, so i couldn't refer to the conda or jupyter answers. 
my sys.executble gives me 'C:\\Users\\MyName\\AppData\\Local\\Pprograms\\Python\\Python36-32\\python.exe'
sys.path gives me 'C:\\Users\\....\\Pyhton36-32\\lib\\site-packages\\pyinsane2-2.0.2-py3.6-win32.egg' where pyinsane2 is the module I want to use, which is installed and named as "requirement already satisfied " when running >>>import pyinsane2. (I couldn't tell why it is not the pyinsane2 directory in \site-packages instead of the pyinsane2-2.0.2-py3.6-win32.egg )
How do I get python.exe and my package into the same directory?? Thanks@Maier123 Are you running a notebook on conda virtual env?I'm not sure what that means but I only installed Pyhton 3.6 and Notepad++ on my computer to code. Also, My pyhton is added to the path. I run my scripts with C:\Users\MyName>cd path to file + file.py@Maier123 How about trying to follow [these steps](http://jupyter.readthedocs.io/en/latest/install.html) first, then creating [conda](https://conda.io/docs/user-guide/tasks/manage-environments.html#creating-an-environment-with-commands) environment. After that, activate the environment, `pip install ...` whatever you need, and then run `jupyter notebook``conda install nb_conda_kernels`
I tried this. It worked. Original post: https://stackoverflow.com/a/44786736/4110004@Vaishak
Have you solved the problem?
I met the same problem now, and i don't known how to solve it.I was having a similar issue, I install tflearn under a conda environment but was getting 'module not found' when attempting to import it even though I had run jupyter from the correct conda environment.

However, I had _not installed jupyter in that environment_, so it was running from the default installation.
Installing jupyter into the target environment corrected the problem.

I had a similar issue. I was trying to install few python packages in the conda environment. But I was getting `ImportError` in the jupyter notebook. Though it worked fine in the terminal with the conda env on. 

I looked at the `sys.executable` and `sys.path` from inside the jupyter notebook. I found that the kernel wasn't running the intended version of python I wanted. The notebook was taking the python host version since I hadn't installed jupyter in my environment.

So to solve it I installed jupyter notebook from inside of my conda environment. That solved my problem. # For what it's worth

tl;dr I couln't get `import pymc3 as pm` to work on Jupyter Lab so I had to resort to notebook. In the grand scheme of things, I think I'll be ok.

## The missing piece

The last line of the traceback from `import pymc3 as pm` is 
```
RuntimeError: To use MKL 2018 with Theano you MUST set "MKL_THREADING_LAYER=GNU" in your environement.
```
Thus
```
export MKL_THREADING_LAYER=GNU
```
seemed to fix `python`, `notebook` and `ipython`, but not `lab`.

## Results

### Python

This works. Sure there's a warning, but the import actually imports `pymc3`.
```
$ python
Python 3.6.5 |Anaconda, Inc.| (default, Apr 29 2018, 16:14:56) 
[GCC 7.2.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> import pymc3 as pm
/home/emilio/anaconda3/envs/bmh/lib/python3.6/site-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
```

### Jupyter notebook

This gives the same warning, but it works.
```
$ jupyter notebook
# In a cell
In [1] import pymc3 as pm
/home/emilio/anaconda3/envs/bmh/lib/python3.6/site-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
```

### ipython

This gives the same warning as above, but it works.
```
$ ipython
Python 3.6.5 |Anaconda, Inc.| (default, Apr 29 2018, 16:14:56) 
Type 'copyright', 'credits' or 'license' for more information
IPython 6.3.1 -- An enhanced Interactive Python. Type '?' for help.

In [1]: import pymc3 as pm
```

### Jupyter lab

This fails
```
$ jupyer lab
# In a cell
In [1] import pymc3 as pm
---------------------------------------------------------------------------
ModuleNotFoundError                       Traceback (most recent call last)
<ipython-input-1-2e5c536b7c65> in <module>()
----> 1 import pymc3 as pm

ModuleNotFoundError: No module named 'pymc3'
```

## My system

- Ubuntu 18.04
- conda 4.5.2
- jupyter 4.4.0
- jupyter notebook 5.4.1
- jupyter lab 0.31.5
- ipython 6.3.1
- python 3.6.5
- pymc3 3.3

## Conclusion

I've spent enough time on this so I'm just going to use the notebook. I'd love to use Jupyter Lab, but there's a limit to the time I can allocate to troubleshooting environments.had the same problem (installed python module works in python but not in ipython/jupyter).  I found a simple solution to this problem: just look up manually the location of the module and add to the sys.path.  

For example, I installed the tensorflow in a conda environment named 'tensorflow3'. The location of tensorflow module can be found as following:

wei@wei-Precision-T7600:~$ `source activate tensorflow3`
(tensorflow3) wei@wei-Precision-T7600:~$ `python`
Python 3.6.4 |Anaconda, Inc.| (default, Mar 13 2018, 01:15:57) 
[GCC 7.2.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> `import tensorflow`
>>>` tensorflow.__file__`
'/home/wei/anaconda3/envs/tensorflow3/lib/python3.6/site-packages/tensorflow/__init__.py'
>>> 


Now I just add the path: '/home/wei/anaconda3/envs/tensorflow3/lib/python3.6/site-packages' to sys.path in ipython / jupyter, and then the tensorflow module can be imported in ipython or jupyter notebook !

In [1]: sys.path.append('/home/wei/anaconda3/envs/tensorflow3/lib/python3.6/site-packages')

In [3]: import tensorflow as tf
/home/wei/anaconda3/lib/python3.6/site-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters

In [4]:

Wish this helps.

I faced the same issue too. What was happening was that my ipython notebook was using the global instance of notebook installation since my newly created conda environment did not have jupyter notebook installed in it. And it was also searching for all the packages referenced in the notebook globally.

The fix was : conda install jupyter-notebook in the newly created environment.

After doing this, when I launched ipynb, it started using the packages in my environment and not the global ones. I also used conda install command for installing all the packages. 

To test whether it is a global/environment issue export your ipynb as .python file and try running it from bash. If it works in the environment's bash, you know that your notebook is trying to find packages in the global env.I also had the problem of differences in the `sys.executable` for the console and the jupyter notebook.
Both point to different pythons within the same virtual environment.
My solution was to install jupyter notebook in the virtual environment
`source activate <your virtual env>`
`conda install jupyter notebook`
After killing and restarting jupyter notebook they are the same :-)
Despite all the helpful comments, it took me a while to figure this one out. I'm using pip, not conda, and I got it to work reliably without having to manually change the Python executable path as follows: 

1) Enter virtual environment: `source venv/bin/activate`
2) Make sure to reinstall jupyter: `pip3 install jupyter`
3) **Restart venv** by deactivating and reactivating.

Checking `sys.executable` should now point to the venv's Python kernel. I prefer this method over manually changing `kernel.json` since that would get tedious if working with multiple different venvs. Pretty much the same idea as @vtslab Install jupyter in that particular environment. 
Thanks @iamjli ! The bit I was missing was actually re-activating the environment after `pip3 install jupyter`.

Run the following in the jupyter notebook cell:

import sys

sys.path

sys.executable

It may not be pointing to your virtual environment but to the root

The fix is to install the jupyter notebook from inside your virtual environment

$ . your_env/bin/activiate

(your_env)$ python -m pip install jupyter

Now you can import tensorflow or keras
Thanks all for the infomatic post for the issue that I also encountered. And agree with @sandsece 
i.e. 

==========
### PROBLEM:

From within myENV created from conda, run jupyter notebook, but in this notebook some module that could be loaded from myENV just through out error like:
---------------------------------------------------------------------------
ModuleNotFoundError                       Traceback (most recent call last)
<ipython-input-6-ae142f98063f> in <module>()
      1 # import libraries
----> 2 import folium

ModuleNotFoundError: No module named 'folium'


===========
### Check:

1. `which jupyter`
since even sys.path show correct path of myENV, the sys.executable can be different in myENV and in Jupyter notebook. This can simply because the jupyter you run is not installed in myENV and it has to fallback to the base install. It happens that in the base environment the module you want to use is not installed. ----> error!!!

===========
### Solution: 
For the case above, it is straightforward:
`conda install jupyter`


Hope this will help. 

BR//Kangqiao

For me, I installed Jupyter after creating an environment, but then was trying to run a module installed from the base env. I found by "jupyter kernelspec list" (https://github.com/jupyter/notebook/issues/2563), my kernel.json at C:\Users\username\Anaconda37\share\jupyter\kernels\python3\kernel.json was pointing to the python.exe in my working env. Changed the path and solved it. 

[This ](https://stackoverflow.com/questions/897792/where-is-pythons-sys-path-initialized-from)was an exhaustive description of python path setting. And [here](https://stackoverflow.com/questions/46634660/jupyter-notebook-wrong-sys-path-and-sys-executable) is my solution.> Complete reinstallation of Anaconda fixed the issue.

can you please suggest the better way to solve this issueMy problem solved by install Jupyternotebook in the conda environment and use it there. The packages can be imported in the same environment.

Without this step, I think you are using Jupyternotebook from the general setting, for that import packages in a specific conda environment is not working.
Hey, 
I just had the same problem and it was a stupid mistake. I have cloned the environment and started it. After opening jupyter notebook it took the Kernel from previous session. It happened too be that it had similar name since it comes from similar environment. well...always double check before you blame and say bad things to your PC :D> There'll be a kernelspec somewhere which is pointing it to a different Python. We really need to redesign that system. Run `jupyter kernelspec list` in a terminal to see what kernels it knows about. It will point you to directories which contain `kernel.json` files - one of those will be pointing it to the wrong Python.

What if everything is fine as everyone's told here but still it doesn't work ?Ok, I solved this problem in my case:

- Windows 10
- Anaconda 3
- installed tensorflow venv

When I use **Python3 kernel** - `import seaborn as sns` works fine. 
When I switched to **tf-gpu kernel**- it's fires "No module named 'seaborn'

But in previous cases, when I install other modules via jupyter in cell (!conda install <package> or !pip install <package>) everything worked ok.
But in seaborn case it didn't
So I opened terminal > activate tf-gpu > conda install seaborn 
And problem were fixedI had no issues with install on my MacBook, however, on my Windows 10 64-System, I had the same problem. I resolved it as such:

Try running anaconda prompt as 'administrator', then use:
> conda install -c conda-forge pydotplusOn Ubuntu, I found that using `sudo ~/anaconda3/bin/pip` instead of `pip` or `pip3` worked for me.

Additionally, I've just started using an alias for pip for convenience with `alias pip="sudo ~/anaconda3/bin/pip"` in the terminal.> On Ubuntu, I found that using `sudo ~/anaconda3/bin/pip` instead of `pip` or `pip3` worked for me.
> 
> Additionally, I've just started using an alias for pip for convenience with `alias pip="sudo ~/anaconda3/bin/pip"` in the terminal.

this worked for me as wellhow to import apriori package in jupyter? I have already installed it in anaconda prompt but jupyter does not import it
@1998anwesha 
Just check where is the Python Interpreter is running? Are they same or different?
Both Jupyter and your interpreter must have same interpreter.

`
import sys
print(sys.executable)
`@amandalmia14 Thank you
I was having the same issue and as our system contains many instances of python, many times jupyter notebook starts using some other version and hence we can't do anything but solve the issue by bare hands by changing the package.json file present in the path given by 
    `sys.executable`I would recommend everyone to use different virtual environment for every project or different environments in Anaconda. (Will insist on using Anaconda because of its great library  version management)  
Well if it will only work if we install a new `jupyter notebook` in each new environment, what on earth is the point of having these stupid `kernelspec` files and separate kernels in the base jupyter notebook installation? Also the recommended way of handling multiple environments according to the docs is to use kernels and kernelspecs. But this doesn't seem to work, instead everyone is doing this workaround of installing a new jupyter notebook on each environment.  

Why is this issue closed? It is still WIDE open in my opinion!@awa5114 I installed [nb_conda_kernels](https://github.com/Anaconda-Platform/nb_conda_kernels) my base conda environment which did what the expected behaviour is of the kernelspecmanager by installing a new one. This fixed the issue for me and now each conda environments has its own kernel. I can now choose which kernel aka conda environment my notebooks uses. I'm not sure if we are using the same instance of Jupyter though. I'm using Jupyterhub, but maybe this doesn't make much of a difference in this case. Hope this helps!

Otherwise, this might be to some help: https://jupyter-client.readthedocs.io/en/latest/kernel_providers.htmlSame issue here, just installed sklearn by conda, by: `conda install scikit-leanr`
I can import it from command line, but not from jupyter.same here. 
what resolved my problem is that I first checked available kernels by 'jupyter kernelspec list'
This listed me available kernels, but I noticed that it was using another kernel that I am not in
Then I removed that kernel completely and it was resolved.I had the same problem. Changing kernels did not work for me.
 I installed pandas in my venv but It wont show up in jupyter which I ran through my venv.

I have Ubuntu, with a virtual env in python 3.7 
`python3.7 -m venv my_env`
Then I added the venv python site-packages folder to system path and it worked. Added following code to jupyter notebook and it was able to find pandas easily

```
import sys
sys.path.append('/home/aseem/venv/general_venv/lib/python3.7/site-packages')
```


I've tried summarizing options and common troubles in this Q&A:
https://stackoverflow.com/questions/58068818/how-to-use-jupyter-notebooks-in-a-conda-environmentThis is quite a weird bug. Like @iamjli mentioned, if I just reactivate the env by deactivating and activating again, it works fine, even though literally nothing else changed. 
So that means if you install package and jupyter at the same time, without reactivating env, it will not be able to import, until you reactivate. I just tested this again in a new virtualenv, it proved to be correct.

```bash
mkdir -p /tmp/test
cd /tmp/test
virtualenv -p python3 .venv
source .venv/bin/activate
pip install numpy && pip install jupyter && jupyter notebook
```

create a new notebook and try to import numpy. It **failed**.
Try deactivate, and activate again, it works fine. 
I have a hard time believing such fundamental issue has existed since 2017 and remain unfixed. 

On a side note: it has nothing to do with the path inside `kernel.json` or sys path not appended or anything.My problem was that jupyter was not installed in the environment i was using. I installed jupyter in that conda environment and newly installed packages were imported correctly> I had the same problem. Changing kernels did not work for me.
> I installed pandas in my venv but It wont show up in jupyter which I ran through my venv.
> 
> I have Ubuntu, with a virtual env in python 3.7
> `python3.7 -m venv my_env`
> Then I added the venv python site-packages folder to system path and it worked. Added following code to jupyter notebook and it was able to find pandas easily
> 
> ```
> import sys
> sys.path.append('/home/aseem/venv/general_venv/lib/python3.7/site-packages')
> ```

This worked for me and seems like a very easy solution. I had the same issue.
Changing the kernel.json file did not work for me.
I noticed that sys.executable was different between my terminal and the notebook. The notebook did not take the environment into account.
I followed this: 
https://stackoverflow.com/questions/58645807/change-interpreter-in-jupyter-notebook
And it solved the issueI did `conda list` in both my `base` and my `new_env` and noticed that both `jupyterlab` and `jupyterlab_server` were missing in `new_env`.
So basically I just did `conda install -c conda-forge jupyterlab` while having `new_env` activated and now everything runs well.

I thought to look into this because `new_env` was being used whenever I ran my notebook on JupyterNotebook but not when I ran it on JupyterLab.If u are using conda;
1. type: jupyter kernelspec list
   inside jupyter notebook
2. open kernel.json file for python
3. edit and paste
```
{
 "argv": ["python3", "-m", "IPython.kernel",
          "-f", "{connection_file}"],
 "display_name": "Python 3",
 "language": "python"
}
```
Reference: https://jupyter-client.readthedocs.io/en/stable/kernels.html

@Vaishak
> 
> 
> How to reset the path in the kernel.JSON file?
> 
> ```json
> {
>  "argv": [
>   "python",
>   "-m",
>   "ipykernel_launcher",
>   "-f",
>   "{connection_file}"
>  ],
>  "display_name": "Python 3",
>  "language": "python"
> }
> ```
> 
> the path to where my sys.executable points to at system:
> `/home/whyshock/anaconda3/bin/python`
> the path to where my sys.executable points to in the virtualenv named plotly:
> `/home/whyshock/vs-workspace/plotly/bin/python`
> 
> When I run on terminal
> jupyter kernelspec list
> ` python3 /home/whyshock/anaconda3/share/jupyter/kernels/python3`
> 
> I'm trying to run the jupyter notebook in the virtual environment when I try to run a program I get a modulenotfoundError but if I try to pip install the module, it says requirement already satisfied!
> 
> What am I doing wrong and how can I fix this?

replace
```
 "argv": [
>   "python",
```
by
```
 "argv": [
>   "python3",
```> Wow, that's bizarre. Its an extremely odd list. I've deleted `~/Library/Jupyter/kernels` and that appears to have straightened things out.
> 
> Thanks. It worked
Hi people. So what i did was i actually ran 

> pip install seaborn

In Jupyter notebook,after restarting the kernel i imported seaborn, and it worked Same problem, for me the package is `mpld3`. Installed fresh conda environment from a yml, added the kernel to jupyter with 
```
python -m ipykernel install --user --name=helioml_ch2
```
Import of `mpld3` works in ipython command line but not jupyter. It seems that even if there is a workaround, this issue should still be open because the expected behavior does not occur. Debugged the issue, at least for my case. (Note that as I was debugging this, I found that I did _sometimes_ have to delete the corresponding folder in ~/Library/Jupyter/kernels/ else jupyter would not update, e.g., different versions of the same package even though ipython did).

This doesn't work: 
```
conda env create -f environment.yml -n test
python -m ipykernel install --user --name=test
jupyter lab
```
Same issue here: import works when in ipython command line but not in jupyter (notebook or lab). 

This _does_ work: 
```
conda env create -f environmentyml -n test
source activate test
ipython kernel install --user --name=test
jupyter lab
```
Haven't tested doing `conda activate test` but imagine that should work too. Thank you!  Deleting the corresponding Jupyter kernel in ~/Library/Jupyter/kernels/ (or moving it aside, if one is paranoid), worked for imports to start working in Jupyter Lab.  In my case, it was "~/Library/Jupyter/kernels/python3".> `conda install nb_conda_kernels`
> I tried this. It worked. Original post: https://stackoverflow.com/a/44786736/4110004

This works! Thank you.The solution for me was to see what the actual python executable was being used:
```
import sys
print(sys.executable)
```

In my case, I had installed my Jupyterhub into `/opt/conda/`, so my pip install was over in `/opt/conda/`. Running 

```
!/opt/conda/bin/pip3 install torch
```

then restarting the kernel worked.Hi guys,

After all these years this problem is still annoying. I just wanted to quote what I did to solve a similar problem started by @fonnesbeck a time ago.

After checking the comment of @Vaishak I decided to open my `kernel.json` file that is inside the environment that I created for my project:
/anaconda/envs/MYPROJECT/share/jupyter/kernels/python3

and I changed "python" by "/Users/myname/anaconda/envs/MYPROJECT/bin/python"

```
{
 "argv": [
  "/Users/myname/anaconda/envs/MYPROJECT/bin/python",
  "-m",
  "ipykernel_launcher",
  "-f",
  "{connection_file}"
 ],
 "display_name": "Python 3",
 "language": "python"
}
```
This was possible because of the discussion between @ShayekhBinIslam  and @Vaishak I faced a similar issue. While the imports were working fine on terminal in the virtual environment, they failed to import in the jupyter notebook. The problem was that I had not installed a local jupyter package for the virtual environment. Therefore, the jupyter notebook on my newly created virtual environment was using the global instance of notebook installation, i.e. from the base environment.

I used the command  
> conda install jupyter notebook

to install notebook on my virtual environment, and this fixed all issues for me. I could import all the packages local to the newly created virtual environment.> Complete reinstallation of Anaconda fixed the issue.

I fixed the problem by uninstalling Python 3.9 interpreter and only keeping Anaconda's interpreter. The steps I followed are:

1. Uninstall any Python interpreter installed in your OS, except Conda.
2. Execute Conda's enviornment and reinstall Jupyter: pip install jupyter.

This worked for me. In my case ,  I wasn't using the other interpreter. To test if this works, execute sys.executable in Jupyter and it should show your Conda's Python enviornment path.Check this tutorial for creating a notebook pointing to your desired environment:
[Jupyter/IPython kernels for venvs](https://ocefpaf.github.io/python4oceanographers/blog/2014/09/01/ipython_kernel/ )