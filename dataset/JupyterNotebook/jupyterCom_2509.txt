[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/302869212",
    "html_url": "https://github.com/jupyter/notebook/pull/2509#issuecomment-302869212",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2509",
    "id": 302869212,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjg2OTIxMg==",
    "user": {
      "login": "stevengj",
      "id": 2913679,
      "node_id": "MDQ6VXNlcjI5MTM2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2913679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stevengj",
      "html_url": "https://github.com/stevengj",
      "followers_url": "https://api.github.com/users/stevengj/followers",
      "following_url": "https://api.github.com/users/stevengj/following{/other_user}",
      "gists_url": "https://api.github.com/users/stevengj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stevengj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stevengj/subscriptions",
      "organizations_url": "https://api.github.com/users/stevengj/orgs",
      "repos_url": "https://api.github.com/users/stevengj/repos",
      "events_url": "https://api.github.com/users/stevengj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stevengj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-20T12:10:09Z",
    "updated_at": "2017-05-20T12:10:18Z",
    "author_association": "NONE",
    "body": "Can you increment something in the protocol version so that in IJulia we can disable our workaround if this patch is present?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/302897461",
    "html_url": "https://github.com/jupyter/notebook/pull/2509#issuecomment-302897461",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2509",
    "id": 302897461,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjg5NzQ2MQ==",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-20T20:40:38Z",
    "updated_at": "2017-05-20T20:40:38Z",
    "author_association": "MEMBER",
    "body": "Since this is fixing a bug in this repo where it failed to implement the existing spec correctly, I'm not sure that updating the protocol version is appropriate. Unless we want to retroactively change the v5.1 protocol spec to describe the buggy behavior and then define v5.2 to be exactly as v5.1 is now.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/302931305",
    "html_url": "https://github.com/jupyter/notebook/pull/2509#issuecomment-302931305",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2509",
    "id": 302931305,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjkzMTMwNQ==",
    "user": {
      "login": "stevengj",
      "id": 2913679,
      "node_id": "MDQ6VXNlcjI5MTM2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2913679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stevengj",
      "html_url": "https://github.com/stevengj",
      "followers_url": "https://api.github.com/users/stevengj/followers",
      "following_url": "https://api.github.com/users/stevengj/following{/other_user}",
      "gists_url": "https://api.github.com/users/stevengj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stevengj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stevengj/subscriptions",
      "organizations_url": "https://api.github.com/users/stevengj/orgs",
      "repos_url": "https://api.github.com/users/stevengj/repos",
      "events_url": "https://api.github.com/users/stevengj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stevengj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-21T11:38:20Z",
    "updated_at": "2017-05-21T11:38:20Z",
    "author_association": "NONE",
    "body": "I'm just wondering how to implement support for both the new and old versions of Jupyter.\r\n\r\nArguably, this is a de facto change in the protocol, since up to now Jupyter has apparently always been using UTF-16 code units for cursor positions.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/302946997",
    "html_url": "https://github.com/jupyter/notebook/pull/2509#issuecomment-302946997",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2509",
    "id": 302946997,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjk0Njk5Nw==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-21T16:25:02Z",
    "updated_at": "2017-05-21T16:25:02Z",
    "author_association": "MEMBER",
    "body": "Well technically it's only the notebook frontend that does that. We would\nhave to check how nteract, hydrogen, qtconsole, jupyterlab and\nsagemathcloud behave. If they all behaved inappropriately then it may make\nsens. But he notebook is just one of the implementation.\n\nOn May 21, 2017 04:38, \"Steven G. Johnson\" <notifications@github.com> wrote:\n\n> I'm just wondering how to implement support for both the new and old\n> versions of Jupyter.\n>\n> Arguably, this is a de facto change in the protocol, since up to now\n> Jupyter has apparently always been using UTF-16 code units for cursor\n> positions.\n>\n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/jupyter/notebook/pull/2509#issuecomment-302931305>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAUez9qkqqigm6sRdcD4s-Wdfx1vvS2lks5r8CIsgaJpZM4NhFxD>\n> .\n>\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/303079293",
    "html_url": "https://github.com/jupyter/notebook/pull/2509#issuecomment-303079293",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2509",
    "id": 303079293,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzA3OTI5Mw==",
    "user": {
      "login": "blink1073",
      "id": 2096628,
      "node_id": "MDQ6VXNlcjIwOTY2Mjg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2096628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/blink1073",
      "html_url": "https://github.com/blink1073",
      "followers_url": "https://api.github.com/users/blink1073/followers",
      "following_url": "https://api.github.com/users/blink1073/following{/other_user}",
      "gists_url": "https://api.github.com/users/blink1073/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/blink1073/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/blink1073/subscriptions",
      "organizations_url": "https://api.github.com/users/blink1073/orgs",
      "repos_url": "https://api.github.com/users/blink1073/repos",
      "events_url": "https://api.github.com/users/blink1073/events{/privacy}",
      "received_events_url": "https://api.github.com/users/blink1073/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-22T11:56:07Z",
    "updated_at": "2017-05-22T11:56:07Z",
    "author_association": "MEMBER",
    "body": "I opened https://github.com/jupyterlab/jupyterlab/issues/2255 to track this in JupyterLab.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/303113544",
    "html_url": "https://github.com/jupyter/notebook/pull/2509#issuecomment-303113544",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2509",
    "id": 303113544,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzExMzU0NA==",
    "user": {
      "login": "stevengj",
      "id": 2913679,
      "node_id": "MDQ6VXNlcjI5MTM2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2913679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stevengj",
      "html_url": "https://github.com/stevengj",
      "followers_url": "https://api.github.com/users/stevengj/followers",
      "following_url": "https://api.github.com/users/stevengj/following{/other_user}",
      "gists_url": "https://api.github.com/users/stevengj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stevengj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stevengj/subscriptions",
      "organizations_url": "https://api.github.com/users/stevengj/orgs",
      "repos_url": "https://api.github.com/users/stevengj/repos",
      "events_url": "https://api.github.com/users/stevengj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stevengj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-22T14:18:58Z",
    "updated_at": "2017-05-23T16:04:13Z",
    "author_association": "NONE",
    "body": "Hydrogen seems to have the [same bug](https://github.com/nteract/hydrogen/blob/dfa09179dd606571e7d5a80ef768753a8eeed88d/lib/zmq-kernel.js#L221), since it passes `code.length` as the `cursor_pos`: my understanding is that this is the length in UTF-16 code units, not Unicode characters (& CoffeeScript's string indexing is identical to JavaScript's).",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/303115041",
    "html_url": "https://github.com/jupyter/notebook/pull/2509#issuecomment-303115041",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2509",
    "id": 303115041,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzExNTA0MQ==",
    "user": {
      "login": "stevengj",
      "id": 2913679,
      "node_id": "MDQ6VXNlcjI5MTM2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2913679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stevengj",
      "html_url": "https://github.com/stevengj",
      "followers_url": "https://api.github.com/users/stevengj/followers",
      "following_url": "https://api.github.com/users/stevengj/following{/other_user}",
      "gists_url": "https://api.github.com/users/stevengj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stevengj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stevengj/subscriptions",
      "organizations_url": "https://api.github.com/users/stevengj/orgs",
      "repos_url": "https://api.github.com/users/stevengj/repos",
      "events_url": "https://api.github.com/users/stevengj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stevengj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-22T14:24:01Z",
    "updated_at": "2017-05-22T14:24:01Z",
    "author_association": "NONE",
    "body": "sagemathcloud seems to have [copied the IPython notebook code](https://github.com/sagemath/cloud/blob/cd8b0069210369e5b019d5043e7f814d8ed2b97c/static/ipython/notebook/js/completer.js#L119), so it appears to have the same bug.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/303115796",
    "html_url": "https://github.com/jupyter/notebook/pull/2509#issuecomment-303115796",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2509",
    "id": 303115796,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzExNTc5Ng==",
    "user": {
      "login": "stevengj",
      "id": 2913679,
      "node_id": "MDQ6VXNlcjI5MTM2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2913679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stevengj",
      "html_url": "https://github.com/stevengj",
      "followers_url": "https://api.github.com/users/stevengj/followers",
      "following_url": "https://api.github.com/users/stevengj/following{/other_user}",
      "gists_url": "https://api.github.com/users/stevengj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stevengj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stevengj/subscriptions",
      "organizations_url": "https://api.github.com/users/stevengj/orgs",
      "repos_url": "https://api.github.com/users/stevengj/repos",
      "events_url": "https://api.github.com/users/stevengj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stevengj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-22T14:26:06Z",
    "updated_at": "2017-05-22T14:26:06Z",
    "author_association": "NONE",
    "body": "nteract seems to have the [same bug](https://github.com/nteract/nteract/blob/6383c940f38017088ff3612c2ff3f2d072055983/packages/editor/src/complete.js#L45-L46).",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/303118230",
    "html_url": "https://github.com/jupyter/notebook/pull/2509#issuecomment-303118230",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2509",
    "id": 303118230,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzExODIzMA==",
    "user": {
      "login": "stevengj",
      "id": 2913679,
      "node_id": "MDQ6VXNlcjI5MTM2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2913679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stevengj",
      "html_url": "https://github.com/stevengj",
      "followers_url": "https://api.github.com/users/stevengj/followers",
      "following_url": "https://api.github.com/users/stevengj/following{/other_user}",
      "gists_url": "https://api.github.com/users/stevengj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stevengj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stevengj/subscriptions",
      "organizations_url": "https://api.github.com/users/stevengj/orgs",
      "repos_url": "https://api.github.com/users/stevengj/repos",
      "events_url": "https://api.github.com/users/stevengj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stevengj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-22T14:34:27Z",
    "updated_at": "2017-05-22T18:11:20Z",
    "author_association": "NONE",
    "body": "qtconsole seems to use [whatever Python's indexing is](https://github.com/jupyter/qtconsole/blob/7876323e4eddabcfaecb644a04e9033a13faac54/qtconsole/frontend_widget.py#L770-L780)?   On Python 3.3 or later, this will be unicode characters, but on previous Python versions it will be UTF-16 code units.  Or maybe it's set by Qt?  A little hard for me to tell without trying it.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/303118658",
    "html_url": "https://github.com/jupyter/notebook/pull/2509#issuecomment-303118658",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2509",
    "id": 303118658,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzExODY1OA==",
    "user": {
      "login": "stevengj",
      "id": 2913679,
      "node_id": "MDQ6VXNlcjI5MTM2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2913679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stevengj",
      "html_url": "https://github.com/stevengj",
      "followers_url": "https://api.github.com/users/stevengj/followers",
      "following_url": "https://api.github.com/users/stevengj/following{/other_user}",
      "gists_url": "https://api.github.com/users/stevengj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stevengj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stevengj/subscriptions",
      "organizations_url": "https://api.github.com/users/stevengj/orgs",
      "repos_url": "https://api.github.com/users/stevengj/repos",
      "events_url": "https://api.github.com/users/stevengj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stevengj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-22T14:35:56Z",
    "updated_at": "2017-05-22T18:31:04Z",
    "author_association": "NONE",
    "body": "In short, regarding @Carreau's comment, it seems that almost all existing Jupyter clients in fact implement the buggy UTF-16 behavior.  So, it might make sense to retroactively change the spec to reflect this behavior (UTF-16 code units), and then change the spec going forward to use codepoints.\r\n\r\n(Or, alternatively, change the spec retroactively to use UTF-16 code units and keep it that way going forward.  Either way, some kernels and/or clients will have to compensate.)",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/303178821",
    "html_url": "https://github.com/jupyter/notebook/pull/2509#issuecomment-303178821",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2509",
    "id": 303178821,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzE3ODgyMQ==",
    "user": {
      "login": "stevengj",
      "id": 2913679,
      "node_id": "MDQ6VXNlcjI5MTM2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2913679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stevengj",
      "html_url": "https://github.com/stevengj",
      "followers_url": "https://api.github.com/users/stevengj/followers",
      "following_url": "https://api.github.com/users/stevengj/following{/other_user}",
      "gists_url": "https://api.github.com/users/stevengj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stevengj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stevengj/subscriptions",
      "organizations_url": "https://api.github.com/users/stevengj/orgs",
      "repos_url": "https://api.github.com/users/stevengj/repos",
      "events_url": "https://api.github.com/users/stevengj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stevengj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-22T18:15:48Z",
    "updated_at": "2017-05-22T18:31:20Z",
    "author_association": "NONE",
    "body": "I just tried qtconsole on my Mac with Python 2.7 and it seems to have the same bug.  Pasting `𝐚𝐚` followed by tab results in a `complete_request` message with `code=\"𝐚𝐚\"` and `cursor_pos=4`.  Dunno about Python 3.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/303182838",
    "html_url": "https://github.com/jupyter/notebook/pull/2509#issuecomment-303182838",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2509",
    "id": 303182838,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzE4MjgzOA==",
    "user": {
      "login": "rgbkrk",
      "id": 836375,
      "node_id": "MDQ6VXNlcjgzNjM3NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/836375?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rgbkrk",
      "html_url": "https://github.com/rgbkrk",
      "followers_url": "https://api.github.com/users/rgbkrk/followers",
      "following_url": "https://api.github.com/users/rgbkrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/rgbkrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rgbkrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rgbkrk/subscriptions",
      "organizations_url": "https://api.github.com/users/rgbkrk/orgs",
      "repos_url": "https://api.github.com/users/rgbkrk/repos",
      "events_url": "https://api.github.com/users/rgbkrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rgbkrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-22T18:31:33Z",
    "updated_at": "2017-05-22T18:31:33Z",
    "author_association": "MEMBER",
    "body": "> nteract seems to have the same bug.\r\n\r\nNoted, adding an issue there to track.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/303235309",
    "html_url": "https://github.com/jupyter/notebook/pull/2509#issuecomment-303235309",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2509",
    "id": 303235309,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzIzNTMwOQ==",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-22T22:18:14Z",
    "updated_at": "2017-05-22T22:18:14Z",
    "author_association": "MEMBER",
    "body": "I've tested with QtConsole on py27 as well, and it was correct.  Python 2 has the *option* to store unicode as UCS-2 or UCS-4 (reflected in `sys.maxunicode`), chosen at build time (one of the many things fixed in Python 3). On Linux, I believe UCS-4 is default on 64b builds (~all users these days) and UCS-2 on 32b. It's UCS-2 by default on most darwin builds, for some reason. If it uses UCS-4, offsets will be correct, if it's UCS-2 they will have the same issue as js. So for the most part, Python frontends behave correctly, but javascript frontends have this bug.\r\n\r\nEncoding this bug into released versions of the spec means that all of the correctly-behaving frontends (Python-based ones, such as QtConsole, jupyter-console, etc.) would retroactively get the inverse bug introduced, breaking code that was correct.\r\n\r\nThis is a case where it would have been really nice to include the frontend name and version in message headers, because changing the spec to backdate bugs introducing the same bug into packages that didn't have problems causes problems of its own.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/303276499",
    "html_url": "https://github.com/jupyter/notebook/pull/2509#issuecomment-303276499",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2509",
    "id": 303276499,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzI3NjQ5OQ==",
    "user": {
      "login": "stevengj",
      "id": 2913679,
      "node_id": "MDQ6VXNlcjI5MTM2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2913679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stevengj",
      "html_url": "https://github.com/stevengj",
      "followers_url": "https://api.github.com/users/stevengj/followers",
      "following_url": "https://api.github.com/users/stevengj/following{/other_user}",
      "gists_url": "https://api.github.com/users/stevengj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stevengj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stevengj/subscriptions",
      "organizations_url": "https://api.github.com/users/stevengj/orgs",
      "repos_url": "https://api.github.com/users/stevengj/repos",
      "events_url": "https://api.github.com/users/stevengj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stevengj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-23T02:57:31Z",
    "updated_at": "2017-05-23T03:00:17Z",
    "author_association": "NONE",
    "body": "Given that there is no way to detect the frontend, in IJulia we've opted to just assume that the bug is present.  This will be true for the vast majority of our users (of whom qtconsole users are a minuscule minority).\r\n\r\nMy biggest concern is what to do going forward: once you merge this fix, how do we detect it if you don't bump the protocol version?  (And bumping the protocol version would also notify kernels and frontends of the effective change in wire protocol.)\r\n\r\nI agree that enshrining the bug retroactively in the spec is ugly, and would technically break things, but apparently only for Linux or python3-based qtconsole and jupyter-console users who use non-BMP characters in their source code.  This is apparently an incredibly small fraction of users since no one has noticed this problem until now.  (Unicode identifiers are still pretty uncommon to begin with, especially outside of Julia, and on top of that you only see this problem for \"astral plane\" chars.)",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/303458672",
    "html_url": "https://github.com/jupyter/notebook/pull/2509#issuecomment-303458672",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2509",
    "id": 303458672,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzQ1ODY3Mg==",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-23T16:32:11Z",
    "updated_at": "2017-05-23T16:32:11Z",
    "author_association": "MEMBER",
    "body": "@stevengj yeah, I'm trying to figure out the best solution and nothing seems perfect. Bumping the version does make sense, but I'd describe the bug in previous versions as **MAY** have this bug (i.e. it's ambiguous) with a note about affected frontends, rather than backdating the definition to the buggy implementations, and let kernels make their choice about which frontends they want to interact with incorrectly for ambiguous versions.\r\n\r\nI'll draft an update to the protocol with a proposal and cc folks here.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/303466495",
    "html_url": "https://github.com/jupyter/notebook/pull/2509#issuecomment-303466495",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2509",
    "id": 303466495,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzQ2NjQ5NQ==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-23T17:00:22Z",
    "updated_at": "2017-05-23T17:00:22Z",
    "author_association": "MEMBER",
    "body": "we can still add a key in the metadata field on completion request that says \"this is fixed\". It does not bump the spec and can include client names. We just need a pseudo-standard until we get the next spec version right ? ",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/303469013",
    "html_url": "https://github.com/jupyter/notebook/pull/2509#issuecomment-303469013",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2509",
    "id": 303469013,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzQ2OTAxMw==",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-23T17:09:50Z",
    "updated_at": "2017-05-23T17:09:50Z",
    "author_association": "MEMBER",
    "body": "That's another option, to include a 'unicode_fixed' key or similar. I'm not sure a temporary pseudo-standard helps if we are doing a minor bump anyway, since we can push that out pretty quickly. I'm okay with defining 5.2 as \"5.1 with this ambiguity resolved\" immediately, for instance.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/303472232",
    "html_url": "https://github.com/jupyter/notebook/pull/2509#issuecomment-303472232",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2509",
    "id": 303472232,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzQ3MjIzMg==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-23T17:21:46Z",
    "updated_at": "2017-05-23T17:21:46Z",
    "author_association": "MEMBER",
    "body": "This definition of 5.2 suits me as well. I was just offering alternative. \r\n\r\nBTW, isn't the server negotiating the protocol version ? In which case other clients that talk to the kernel via the server may be wrong, in which case bumping the version number is not useful ? ",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/303485446",
    "html_url": "https://github.com/jupyter/notebook/pull/2509#issuecomment-303485446",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2509",
    "id": 303485446,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzQ4NTQ0Ng==",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-23T18:10:08Z",
    "updated_at": "2017-05-23T18:10:08Z",
    "author_association": "MEMBER",
    "body": "Thanks! Good to have alternatives to compare.\r\n\r\n>  isn't the server negotiating the protocol version ? In which case other clients that talk to the kernel via the server may be wrong, in which case bumping the version number is not useful ?\r\n\r\nI was just looking into this, and the protocol version comes from the javascript, so it's currently identifying as 5.0 and bumping the version in the js to 5.2 should do everything right, as far as I can tell. If this weren't the case, I think the extra key would probably be a more appropriate band-aid.\r\n\r\nThe Python frontends, on the other hand, are importing the version from jupyter_client right now, so protocol version info will not correctly signal changes in the application after an upgrade to jupyter_client. But in general, the version should be coming from the individual applications, not the defaults in jupyter_client, so we can and should fix this in jupyter_console and qtconsole. But these frontends also don't have the issue on Python 3, so it's of less immediate importance. The answer to unicode issues on Python 2 has always been to upgrade to Python 3 :).",
    "performed_via_github_app": null
  }
]
