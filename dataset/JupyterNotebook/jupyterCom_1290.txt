[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/204388895",
    "html_url": "https://github.com/jupyter/notebook/issues/1290#issuecomment-204388895",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1290",
    "id": 204388895,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDM4ODg5NQ==",
    "user": {
      "login": "ZlodeiBaal",
      "id": 5827156,
      "node_id": "MDQ6VXNlcjU4MjcxNTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5827156?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ZlodeiBaal",
      "html_url": "https://github.com/ZlodeiBaal",
      "followers_url": "https://api.github.com/users/ZlodeiBaal/followers",
      "following_url": "https://api.github.com/users/ZlodeiBaal/following{/other_user}",
      "gists_url": "https://api.github.com/users/ZlodeiBaal/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ZlodeiBaal/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ZlodeiBaal/subscriptions",
      "organizations_url": "https://api.github.com/users/ZlodeiBaal/orgs",
      "repos_url": "https://api.github.com/users/ZlodeiBaal/repos",
      "events_url": "https://api.github.com/users/ZlodeiBaal/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ZlodeiBaal/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-01T12:56:51Z",
    "updated_at": "2016-04-01T12:56:51Z",
    "author_association": "NONE",
    "body": "Ok, i found solution, but still think that it's some problem with notebook: it's not take system variables and not using the ones that i load in code.\nSolution:\nGenerate config file:\n`jupyter notebook --generate-config`\nIt will be stored i:\n`jupyter --config-dir`\nAdd this code at start:\n\n```\nimport os\nc = get_config()\nos.environ['LD_LIBRARY_PATH'] = '/usr/local/cuda-7.5/lib64:usr/local/cuda-7.5/lib64/libcudart.so.7.5'\nc.Spawner.env.update('LD_LIBRARY_PATH')\n```\n\nAnd everything work\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/206064636",
    "html_url": "https://github.com/jupyter/notebook/issues/1290#issuecomment-206064636",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1290",
    "id": 206064636,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNjA2NDYzNg==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-06T01:25:35Z",
    "updated_at": "2016-04-06T01:25:35Z",
    "author_association": "MEMBER",
    "body": "This line isn't going to do what you think:\n\n```\nos.system('export LD_LIBRARY_PATH=/usr/local/cuda-7.5/lib64:$LD_LIBRARY_PATH')\n```\n\n`os.system()` starts a new process to run the system command. You're changing the environment variable in the new process, and then it's immediately getting closed. Child processes can't affect environment variables in their parent. To change an environment variable inside a Python process, you have to use `os.environ`, as you found.\n\nI don't think the `Spawner` config is relevant to you - spawners are part of Jupyterhub, an extra layer on top of the notebook to support multiple users. If you're using regular `jupyter notebook`, that line is probably having no effect.\n",
    "performed_via_github_app": null
  }
]
