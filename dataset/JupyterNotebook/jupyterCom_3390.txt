[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/370435377",
    "html_url": "https://github.com/jupyter/notebook/issues/3390#issuecomment-370435377",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3390",
    "id": 370435377,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDQzNTM3Nw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-05T14:26:52Z",
    "updated_at": "2018-03-05T14:26:52Z",
    "author_association": "MEMBER",
    "body": "Maybe it's the GPU's memory getting full, rather than Python variables (which would all be in normal memory), and restarting the process causes it to be cleared up? I don't know much about how GPU memory is managed.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/377078906",
    "html_url": "https://github.com/jupyter/notebook/issues/3390#issuecomment-377078906",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3390",
    "id": 377078906,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzA3ODkwNg==",
    "user": {
      "login": "gabefair",
      "id": 2096785,
      "node_id": "MDQ6VXNlcjIwOTY3ODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2096785?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gabefair",
      "html_url": "https://github.com/gabefair",
      "followers_url": "https://api.github.com/users/gabefair/followers",
      "following_url": "https://api.github.com/users/gabefair/following{/other_user}",
      "gists_url": "https://api.github.com/users/gabefair/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gabefair/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gabefair/subscriptions",
      "organizations_url": "https://api.github.com/users/gabefair/orgs",
      "repos_url": "https://api.github.com/users/gabefair/repos",
      "events_url": "https://api.github.com/users/gabefair/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gabefair/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-29T00:09:58Z",
    "updated_at": "2018-03-29T00:11:30Z",
    "author_association": "NONE",
    "body": "I'm having the same issue for the past month on windows 10 pro x64 on a 16gb laptop with a dedicated GPU (GTX 960M). Using the latest version of Jupyter notebooks. I'm not having the issue with JupyterLabs. I would provide more info but this issue isn't consistent and I haven't pinned down a controlled test yet. I mention the dedicated laptop b/c I do notice the problem is worse when I have multiple monitors plugged in. So maybe its the GPU vRAM getting full?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/377510924",
    "html_url": "https://github.com/jupyter/notebook/issues/3390#issuecomment-377510924",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3390",
    "id": 377510924,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzUxMDkyNA==",
    "user": {
      "login": "cod3licious",
      "id": 1093567,
      "node_id": "MDQ6VXNlcjEwOTM1Njc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1093567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cod3licious",
      "html_url": "https://github.com/cod3licious",
      "followers_url": "https://api.github.com/users/cod3licious/followers",
      "following_url": "https://api.github.com/users/cod3licious/following{/other_user}",
      "gists_url": "https://api.github.com/users/cod3licious/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cod3licious/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cod3licious/subscriptions",
      "organizations_url": "https://api.github.com/users/cod3licious/orgs",
      "repos_url": "https://api.github.com/users/cod3licious/repos",
      "events_url": "https://api.github.com/users/cod3licious/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cod3licious/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-30T12:06:14Z",
    "updated_at": "2018-03-30T12:15:17Z",
    "author_association": "NONE",
    "body": "Yeah, it's probably the memory. If I train a neural network with a lot of different settings, then first it gets slower and at some point the program even crashes with a ResourceExhaustedError. This is really annoying especially when you let something run over night, and I think it really should not happen, since I'm not using any extra memory but overwriting variables.\r\n\r\nI don't know how garbage collection for GPU memory works or whatever, but apparently something is being done when restarting the kernel that fixes this issue and maybe it would help if what is being done there would also be executed more often while the notebook is still running normally?\r\n\r\n@gabefair I haven't tested that yet but just found [here](http://forums.fast.ai/t/how-could-i-release-gpu-memory-of-keras/2023/11) that `keras.backend.clear_session()` might help in clearing the GPU memory. ",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/377596555",
    "html_url": "https://github.com/jupyter/notebook/issues/3390#issuecomment-377596555",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3390",
    "id": 377596555,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzU5NjU1NQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-30T18:56:57Z",
    "updated_at": "2018-03-30T18:56:57Z",
    "author_association": "MEMBER",
    "body": "I think you'll have to talk to Tensorflow about that. We (Jupyter) don't do anything specific about the GPU when you restart the kernel.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/392972267",
    "html_url": "https://github.com/jupyter/notebook/issues/3390#issuecomment-392972267",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3390",
    "id": 392972267,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5Mjk3MjI2Nw==",
    "user": {
      "login": "anch2150",
      "id": 19624820,
      "node_id": "MDQ6VXNlcjE5NjI0ODIw",
      "avatar_url": "https://avatars.githubusercontent.com/u/19624820?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/anch2150",
      "html_url": "https://github.com/anch2150",
      "followers_url": "https://api.github.com/users/anch2150/followers",
      "following_url": "https://api.github.com/users/anch2150/following{/other_user}",
      "gists_url": "https://api.github.com/users/anch2150/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/anch2150/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anch2150/subscriptions",
      "organizations_url": "https://api.github.com/users/anch2150/orgs",
      "repos_url": "https://api.github.com/users/anch2150/repos",
      "events_url": "https://api.github.com/users/anch2150/events{/privacy}",
      "received_events_url": "https://api.github.com/users/anch2150/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-29T22:47:34Z",
    "updated_at": "2018-05-29T22:47:34Z",
    "author_association": "NONE",
    "body": "I had similar issues. I tried keras.backend.get_session().close() but it's not helpful.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/424962507",
    "html_url": "https://github.com/jupyter/notebook/issues/3390#issuecomment-424962507",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3390",
    "id": 424962507,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDk2MjUwNw==",
    "user": {
      "login": "goldflower",
      "id": 7734671,
      "node_id": "MDQ6VXNlcjc3MzQ2NzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7734671?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/goldflower",
      "html_url": "https://github.com/goldflower",
      "followers_url": "https://api.github.com/users/goldflower/followers",
      "following_url": "https://api.github.com/users/goldflower/following{/other_user}",
      "gists_url": "https://api.github.com/users/goldflower/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/goldflower/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/goldflower/subscriptions",
      "organizations_url": "https://api.github.com/users/goldflower/orgs",
      "repos_url": "https://api.github.com/users/goldflower/repos",
      "events_url": "https://api.github.com/users/goldflower/events{/privacy}",
      "received_events_url": "https://api.github.com/users/goldflower/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-27T05:21:54Z",
    "updated_at": "2018-09-27T05:21:54Z",
    "author_association": "NONE",
    "body": "Similar issue here. \r\nThe speed of training and saving models becomes extremely slow after several experiments.\r\nInstead I'm using tensorflow cpu version as backend.\r\nSo this issue may not come from GPU usage.\r\nAfter I restart jupyter (restart notebook didn't work), everything works normal again and same issue still happened.\r\nIn my opinion, this issue caused by jupyter but I don't know how to solve it.\r\n\r\nEnvironment:\r\nWindows10\r\npython3.6\r\nkeras 2.2.2\r\ntensorflow 1.10\r\njupyter 4.4",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/449842100",
    "html_url": "https://github.com/jupyter/notebook/issues/3390#issuecomment-449842100",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3390",
    "id": 449842100,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0OTg0MjEwMA==",
    "user": {
      "login": "ashishgupta1350",
      "id": 24922775,
      "node_id": "MDQ6VXNlcjI0OTIyNzc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/24922775?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ashishgupta1350",
      "html_url": "https://github.com/ashishgupta1350",
      "followers_url": "https://api.github.com/users/ashishgupta1350/followers",
      "following_url": "https://api.github.com/users/ashishgupta1350/following{/other_user}",
      "gists_url": "https://api.github.com/users/ashishgupta1350/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ashishgupta1350/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ashishgupta1350/subscriptions",
      "organizations_url": "https://api.github.com/users/ashishgupta1350/orgs",
      "repos_url": "https://api.github.com/users/ashishgupta1350/repos",
      "events_url": "https://api.github.com/users/ashishgupta1350/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ashishgupta1350/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-25T11:24:57Z",
    "updated_at": "2018-12-25T11:24:57Z",
    "author_association": "NONE",
    "body": "At least the mouse works. My PC won't even let me use the mouse once it hangs. ",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/604104070",
    "html_url": "https://github.com/jupyter/notebook/issues/3390#issuecomment-604104070",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3390",
    "id": 604104070,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNDEwNDA3MA==",
    "user": {
      "login": "Zhen-Lu-Thras",
      "id": 61759315,
      "node_id": "MDQ6VXNlcjYxNzU5MzE1",
      "avatar_url": "https://avatars.githubusercontent.com/u/61759315?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Zhen-Lu-Thras",
      "html_url": "https://github.com/Zhen-Lu-Thras",
      "followers_url": "https://api.github.com/users/Zhen-Lu-Thras/followers",
      "following_url": "https://api.github.com/users/Zhen-Lu-Thras/following{/other_user}",
      "gists_url": "https://api.github.com/users/Zhen-Lu-Thras/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Zhen-Lu-Thras/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Zhen-Lu-Thras/subscriptions",
      "organizations_url": "https://api.github.com/users/Zhen-Lu-Thras/orgs",
      "repos_url": "https://api.github.com/users/Zhen-Lu-Thras/repos",
      "events_url": "https://api.github.com/users/Zhen-Lu-Thras/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Zhen-Lu-Thras/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-25T21:44:27Z",
    "updated_at": "2020-03-25T21:44:27Z",
    "author_association": "NONE",
    "body": "> Yeah, it's probably the memory. If I train a neural network with a lot of different settings, then first it gets slower and at some point the program even crashes with a ResourceExhaustedError. This is really annoying especially when you let something run over night, and I think it really should not happen, since I'm not using any extra memory but overwriting variables.\r\n> \r\n> I don't know how garbage collection for GPU memory works or whatever, but apparently something is being done when restarting the kernel that fixes this issue and maybe it would help if what is being done there would also be executed more often while the notebook is still running normally?\r\n> \r\n> @gabefair I haven't tested that yet but just found [here](http://forums.fast.ai/t/how-could-i-release-gpu-memory-of-keras/2023/11) that `keras.backend.clear_session()` might help in clearing the GPU memory.\r\n\r\nThe function keras.backend.clear_session() helps!",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/716055005",
    "html_url": "https://github.com/jupyter/notebook/issues/3390#issuecomment-716055005",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3390",
    "id": 716055005,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNjA1NTAwNQ==",
    "user": {
      "login": "lizard24",
      "id": 61787722,
      "node_id": "MDQ6VXNlcjYxNzg3NzIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/61787722?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lizard24",
      "html_url": "https://github.com/lizard24",
      "followers_url": "https://api.github.com/users/lizard24/followers",
      "following_url": "https://api.github.com/users/lizard24/following{/other_user}",
      "gists_url": "https://api.github.com/users/lizard24/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lizard24/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lizard24/subscriptions",
      "organizations_url": "https://api.github.com/users/lizard24/orgs",
      "repos_url": "https://api.github.com/users/lizard24/repos",
      "events_url": "https://api.github.com/users/lizard24/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lizard24/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-24T21:05:26Z",
    "updated_at": "2020-10-24T21:05:26Z",
    "author_association": "NONE",
    "body": "> > Yeah, it's probably the memory. If I train a neural network with a lot of different settings, then first it gets slower and at some point the program even crashes with a ResourceExhaustedError. This is really annoying especially when you let something run over night, and I think it really should not happen, since I'm not using any extra memory but overwriting variables.\r\n> > I don't know how garbage collection for GPU memory works or whatever, but apparently something is being done when restarting the kernel that fixes this issue and maybe it would help if what is being done there would also be executed more often while the notebook is still running normally?\r\n> > @gabefair I haven't tested that yet but just found [here](http://forums.fast.ai/t/how-could-i-release-gpu-memory-of-keras/2023/11) that `keras.backend.clear_session()` might help in clearing the GPU memory.\r\n> \r\n> The function keras.backend.clear_session() helps!\r\n\r\nThat worked for me! I was calculating SSIM indices in tf for a numpy array in a for loop and I could see in the task manager that memory was adding up so much that it slowed down within a few loops. Deleting arrays or using garbage collector did not help, but clearing the session solved the problem. Thanks!",
    "performed_via_github_app": null
  }
]
