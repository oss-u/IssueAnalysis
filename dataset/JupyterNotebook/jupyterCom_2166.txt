[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/278621827",
    "html_url": "https://github.com/jupyter/notebook/issues/2166#issuecomment-278621827",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2166",
    "id": 278621827,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3ODYyMTgyNw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-09T11:57:35Z",
    "updated_at": "2017-02-09T11:57:35Z",
    "author_association": "MEMBER",
    "body": "@tacaswell ?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/279826506",
    "html_url": "https://github.com/jupyter/notebook/issues/2166#issuecomment-279826506",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2166",
    "id": 279826506,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTgyNjUwNg==",
    "user": {
      "login": "tacaswell",
      "id": 199813,
      "node_id": "MDQ6VXNlcjE5OTgxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/199813?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tacaswell",
      "html_url": "https://github.com/tacaswell",
      "followers_url": "https://api.github.com/users/tacaswell/followers",
      "following_url": "https://api.github.com/users/tacaswell/following{/other_user}",
      "gists_url": "https://api.github.com/users/tacaswell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tacaswell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tacaswell/subscriptions",
      "organizations_url": "https://api.github.com/users/tacaswell/orgs",
      "repos_url": "https://api.github.com/users/tacaswell/repos",
      "events_url": "https://api.github.com/users/tacaswell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tacaswell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-14T20:30:35Z",
    "updated_at": "2017-02-14T20:30:35Z",
    "author_association": "NONE",
    "body": "Adding `plt.gcf().canvas.draw()` in a subsequent cell re-draws it (but at the wrong size?!).  My guess at what is going on here is that the notebook backend code is relying on the 'standard' clean-up of a cell to set some state / properly inject it's self into the dom and set up the web-sockets.\r\n\r\nThis behaves properly with ipympl (https://github.com/matplotlib/jupyter-matplotlib)\r\n\r\n```python\r\nimport ipympl\r\nimport matplotlib.pyplot as plt\r\n\r\ndef plot_something():\r\n    plt.figure()\r\n    plt.plot([0,2],[0,2],'-')\r\n    plt.show()\r\n\r\nplot_something()\r\nraise Exception\r\n```\r\n\r\nNeed to check with @SylvainCorlay if that is ready for prime-time yet and start advertising it!",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/279930062",
    "html_url": "https://github.com/jupyter/notebook/issues/2166#issuecomment-279930062",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2166",
    "id": 279930062,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTkzMDA2Mg==",
    "user": {
      "login": "odedbd",
      "id": 721123,
      "node_id": "MDQ6VXNlcjcyMTEyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/721123?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/odedbd",
      "html_url": "https://github.com/odedbd",
      "followers_url": "https://api.github.com/users/odedbd/followers",
      "following_url": "https://api.github.com/users/odedbd/following{/other_user}",
      "gists_url": "https://api.github.com/users/odedbd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/odedbd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/odedbd/subscriptions",
      "organizations_url": "https://api.github.com/users/odedbd/orgs",
      "repos_url": "https://api.github.com/users/odedbd/repos",
      "events_url": "https://api.github.com/users/odedbd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/odedbd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-15T06:42:08Z",
    "updated_at": "2017-02-15T06:42:08Z",
    "author_association": "NONE",
    "body": "@tacaswell - thank you for your suggestion. I upgraded matplotlib and install ipympl and it works almost as expected.\r\n\r\nThe behavior I am seeing is different for the first time I run the cell and the next times. It is also different for different level of browser zoom levels (I am using Chrome 56.0.2924.87 on Windows 8.1)-\r\n\r\nFirst time that the cell is run -\r\nThe figure appears but is not fully rendered (see image)-\r\n![notebook_matplotlib_exception_ipympl](https://cloud.githubusercontent.com/assets/721123/22962876/5eed393c-f358-11e6-8d84-047a50ace0d7.jpg)\r\nIf I then resize the figure using the GUI (bottom right corner), the behavior changes based on browser zoom level-\r\n1. When using 100% zoom level (default), the figure is rendered too small. When in this state the zoom rectangle is drawn offset from the mouse pointer. The zooming is determined by the mouse pointer, it is just the drawing of the rectangle that is off.\r\n2. When using 90% zoom level (ctrl^- once), the figure is rendered to size and the zoom rectangle is working fine.\r\n\r\nWhen I rerun the cell the figure is re-rendered properly without need for resizing and independent of zoom level.\r\n\r\nAlso, do you think there could be a workaround for this using matplotlib < 2.0 and nbAgg? \r\n\r\nfrom playing around quickly with ipympl it seems taht while it looks really great, there are still some important issues in progress. for example closing figures when clearing cell input doesn't seem to work, so it is not drop-in replacement ready just yet. Also, I am unsure how quickly I can get our codebase to upgrade to matplotlib 2.0 so a solution using matplotlib 1.5.3 would be great.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/280676430",
    "html_url": "https://github.com/jupyter/notebook/issues/2166#issuecomment-280676430",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2166",
    "id": 280676430,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDY3NjQzMA==",
    "user": {
      "login": "tacaswell",
      "id": 199813,
      "node_id": "MDQ6VXNlcjE5OTgxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/199813?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tacaswell",
      "html_url": "https://github.com/tacaswell",
      "followers_url": "https://api.github.com/users/tacaswell/followers",
      "following_url": "https://api.github.com/users/tacaswell/following{/other_user}",
      "gists_url": "https://api.github.com/users/tacaswell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tacaswell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tacaswell/subscriptions",
      "organizations_url": "https://api.github.com/users/tacaswell/orgs",
      "repos_url": "https://api.github.com/users/tacaswell/repos",
      "events_url": "https://api.github.com/users/tacaswell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tacaswell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-17T15:14:41Z",
    "updated_at": "2017-02-17T15:14:41Z",
    "author_association": "NONE",
    "body": "There will be no more 1.5.x releases, so any fix would have to be locally applied.\r\n\r\nCan you report those bugs again ipympl?\r\n\r\nA vast majority of the the changes in 2.0 were style based.  Unless you have some custom Image artists, it should be a smaller change than the normal minor releases (from an API point of view).",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/294690305",
    "html_url": "https://github.com/jupyter/notebook/issues/2166#issuecomment-294690305",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2166",
    "id": 294690305,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDY5MDMwNQ==",
    "user": {
      "login": "odedbd",
      "id": 721123,
      "node_id": "MDQ6VXNlcjcyMTEyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/721123?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/odedbd",
      "html_url": "https://github.com/odedbd",
      "followers_url": "https://api.github.com/users/odedbd/followers",
      "following_url": "https://api.github.com/users/odedbd/following{/other_user}",
      "gists_url": "https://api.github.com/users/odedbd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/odedbd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/odedbd/subscriptions",
      "organizations_url": "https://api.github.com/users/odedbd/orgs",
      "repos_url": "https://api.github.com/users/odedbd/repos",
      "events_url": "https://api.github.com/users/odedbd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/odedbd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-18T05:38:31Z",
    "updated_at": "2017-04-18T05:38:31Z",
    "author_association": "NONE",
    "body": "I'm not sure what's changed in my setup (still using matplotlib 1.5.3, could be that jupyter-client was upgraded, using 4.3) but calling plt.gcf().canvas.draw() now seems to work as expected. I can even use the following in a subsequent cell to draw several figures that were left unrendered due to an exception-\r\n\r\n    for fig_num in plt.get_fignums():\r\n        plt.figure(fig_num).canvas.draw()\r\n\r\nI am closing the issue as I can no longer reproduce it. \r\n\r\n@tacaswell - if you can still reproduce this with some setup and think it's worthwhile to keep alive please reopen.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/319910457",
    "html_url": "https://github.com/jupyter/notebook/issues/2166#issuecomment-319910457",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2166",
    "id": 319910457,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTkxMDQ1Nw==",
    "user": {
      "login": "SergiyKolesnikov",
      "id": 6048022,
      "node_id": "MDQ6VXNlcjYwNDgwMjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6048022?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SergiyKolesnikov",
      "html_url": "https://github.com/SergiyKolesnikov",
      "followers_url": "https://api.github.com/users/SergiyKolesnikov/followers",
      "following_url": "https://api.github.com/users/SergiyKolesnikov/following{/other_user}",
      "gists_url": "https://api.github.com/users/SergiyKolesnikov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SergiyKolesnikov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SergiyKolesnikov/subscriptions",
      "organizations_url": "https://api.github.com/users/SergiyKolesnikov/orgs",
      "repos_url": "https://api.github.com/users/SergiyKolesnikov/repos",
      "events_url": "https://api.github.com/users/SergiyKolesnikov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SergiyKolesnikov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-03T08:57:22Z",
    "updated_at": "2017-08-03T09:01:45Z",
    "author_association": "NONE",
    "body": "@odedbd Thanks for describing the cause of the problem and a workaround! Please reopen this issue, because the problem is still there and using `plt.figure(fig_num).canvas.draw()` is a non-obvious workaround.\r\n\r\nIn my notebook I had a lot of plots and the exception was thrown in one of the last cells that I used as scratch. The plots were not rendered when I ran 'restart kernel and run all cells' command and it was absolutely not obvious what caused the problem and how to deal with it. I wanted to report the bug and found your issue.\r\n\r\n`%matplotlib inline` does not have this problem and all plots are rendered even if an exceptions is thrown before the rendering is completed.\r\n\r\nmatplotlib 2.0.2  \r\njupyter-client 5.0.1  \r\nnotebook 5.0.0  \r\npython 3.5",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/355386761",
    "html_url": "https://github.com/jupyter/notebook/issues/2166#issuecomment-355386761",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2166",
    "id": 355386761,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTM4Njc2MQ==",
    "user": {
      "login": "EricGallimore",
      "id": 3065703,
      "node_id": "MDQ6VXNlcjMwNjU3MDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3065703?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/EricGallimore",
      "html_url": "https://github.com/EricGallimore",
      "followers_url": "https://api.github.com/users/EricGallimore/followers",
      "following_url": "https://api.github.com/users/EricGallimore/following{/other_user}",
      "gists_url": "https://api.github.com/users/EricGallimore/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/EricGallimore/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/EricGallimore/subscriptions",
      "organizations_url": "https://api.github.com/users/EricGallimore/orgs",
      "repos_url": "https://api.github.com/users/EricGallimore/repos",
      "events_url": "https://api.github.com/users/EricGallimore/events{/privacy}",
      "received_events_url": "https://api.github.com/users/EricGallimore/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-04T20:13:46Z",
    "updated_at": "2018-01-04T20:13:46Z",
    "author_association": "NONE",
    "body": "I'm currently running into this issue. `plt.gcf().canvas.draw()` is an effective workaround (thanks!), but I agree that it should be addressed.\r\n\r\nI'm using:\r\nmatplotlib 2.1.1\r\njupyter-client 5.2.1\r\nnotebook 5.2.2\r\nPython 3.5.2 on Ubuntu Server 16.04.3\r\n\r\nI'm using `%matplotlib ipympl`, but I see the same behavior with `%matplotlib notebook`.\r\n\r\nIt seems like there is a timing or execution speed component related to when the exception is thrown relative to when figures get drawn.\r\n\r\nI would welcome suggestions for further troubleshooting, since I'm not familiar enough with all the moving parts to make any progress.  I can also provide access (privately) to a notebook server that shows this behavior if it would help diagnose this problem.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/363238047",
    "html_url": "https://github.com/jupyter/notebook/issues/2166#issuecomment-363238047",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2166",
    "id": 363238047,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MzIzODA0Nw==",
    "user": {
      "login": "tacaswell",
      "id": 199813,
      "node_id": "MDQ6VXNlcjE5OTgxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/199813?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tacaswell",
      "html_url": "https://github.com/tacaswell",
      "followers_url": "https://api.github.com/users/tacaswell/followers",
      "following_url": "https://api.github.com/users/tacaswell/following{/other_user}",
      "gists_url": "https://api.github.com/users/tacaswell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tacaswell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tacaswell/subscriptions",
      "organizations_url": "https://api.github.com/users/tacaswell/orgs",
      "repos_url": "https://api.github.com/users/tacaswell/repos",
      "events_url": "https://api.github.com/users/tacaswell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tacaswell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-05T22:08:56Z",
    "updated_at": "2018-02-05T22:08:56Z",
    "author_association": "NONE",
    "body": "I think this issue should be closed with no action. `fig.canvas.draw()` is the standard way to force a re-draw of an interactive Matplotlib figure, it does not show up when using `ipympl` (which is properly integrated with the widgets framework), and this only shows up when something goes wrong enough that an exception is raised.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/363386491",
    "html_url": "https://github.com/jupyter/notebook/issues/2166#issuecomment-363386491",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2166",
    "id": 363386491,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MzM4NjQ5MQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-06T10:54:40Z",
    "updated_at": "2018-02-06T10:54:40Z",
    "author_association": "MEMBER",
    "body": "OK, thanks.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/364544521",
    "html_url": "https://github.com/jupyter/notebook/issues/2166#issuecomment-364544521",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2166",
    "id": 364544521,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDU0NDUyMQ==",
    "user": {
      "login": "EricGallimore",
      "id": 3065703,
      "node_id": "MDQ6VXNlcjMwNjU3MDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3065703?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/EricGallimore",
      "html_url": "https://github.com/EricGallimore",
      "followers_url": "https://api.github.com/users/EricGallimore/followers",
      "following_url": "https://api.github.com/users/EricGallimore/following{/other_user}",
      "gists_url": "https://api.github.com/users/EricGallimore/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/EricGallimore/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/EricGallimore/subscriptions",
      "organizations_url": "https://api.github.com/users/EricGallimore/orgs",
      "repos_url": "https://api.github.com/users/EricGallimore/repos",
      "events_url": "https://api.github.com/users/EricGallimore/events{/privacy}",
      "received_events_url": "https://api.github.com/users/EricGallimore/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-09T19:52:02Z",
    "updated_at": "2018-02-09T19:52:02Z",
    "author_association": "NONE",
    "body": "I'd like to propose we re-open this.  It *does* occur using `ipympl`, and it's not clear to the user what's going on (until you Google long enough to find this issue).",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/364940304",
    "html_url": "https://github.com/jupyter/notebook/issues/2166#issuecomment-364940304",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2166",
    "id": 364940304,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDk0MDMwNA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-12T14:35:15Z",
    "updated_at": "2018-02-12T14:35:15Z",
    "author_association": "MEMBER",
    "body": "I don't know the machinery involved very well, but it doesn't sound like there's anything to fix in IPython. Though if the ipympl or matplotlib maintainers identify a change that's needed in IPython, we can look at that.\r\n\r\nIt looks like @odedbd already opened an issue for ipympl: https://github.com/matplotlib/jupyter-matplotlib/issues/10",
    "performed_via_github_app": null
  }
]
