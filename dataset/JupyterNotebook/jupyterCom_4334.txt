[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/454908891",
    "html_url": "https://github.com/jupyter/notebook/issues/4334#issuecomment-454908891",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4334",
    "id": 454908891,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDkwODg5MQ==",
    "user": {
      "login": "stas00",
      "id": 10676103,
      "node_id": "MDQ6VXNlcjEwNjc2MTAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/10676103?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stas00",
      "html_url": "https://github.com/stas00",
      "followers_url": "https://api.github.com/users/stas00/followers",
      "following_url": "https://api.github.com/users/stas00/following{/other_user}",
      "gists_url": "https://api.github.com/users/stas00/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stas00/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stas00/subscriptions",
      "organizations_url": "https://api.github.com/users/stas00/orgs",
      "repos_url": "https://api.github.com/users/stas00/repos",
      "events_url": "https://api.github.com/users/stas00/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stas00/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-16T19:30:41Z",
    "updated_at": "2019-01-16T19:30:41Z",
    "author_association": "NONE",
    "body": "Is it possible to receive some guidance at how to debug this problem? \r\n\r\nI surely understand you can't fix it if you can't reproduce it, but perhaps you have some insights at where to look for the cause.\r\n\r\nThis problem makes the notebook environment very problematic to use as it screws up all the navigation in the notebook.\r\n\r\nThank you.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/455414349",
    "html_url": "https://github.com/jupyter/notebook/issues/4334#issuecomment-455414349",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4334",
    "id": 455414349,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NTQxNDM0OQ==",
    "user": {
      "login": "stas00",
      "id": 10676103,
      "node_id": "MDQ6VXNlcjEwNjc2MTAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/10676103?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stas00",
      "html_url": "https://github.com/stas00",
      "followers_url": "https://api.github.com/users/stas00/followers",
      "following_url": "https://api.github.com/users/stas00/following{/other_user}",
      "gists_url": "https://api.github.com/users/stas00/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stas00/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stas00/subscriptions",
      "organizations_url": "https://api.github.com/users/stas00/orgs",
      "repos_url": "https://api.github.com/users/stas00/repos",
      "events_url": "https://api.github.com/users/stas00/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stas00/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-18T03:19:11Z",
    "updated_at": "2019-01-18T03:23:53Z",
    "author_association": "NONE",
    "body": "I gave it another go and went even further back in time until I found a working scenario and then proceeded forward until I hit the problem, and here is what I found:\r\n\r\nLast working (no busy cells):  python-3.5.6\r\n```\r\nconda create -y python=3.5.6 --name work35\r\nconda activate work35\r\nconda install -y ipython==6.5.0 ipykernel=4.10.0 notebook\r\n```\r\nFirst not working (busy cells): python-3.6.0\r\n```\r\nconda create -y python=3.6.0 --name work36\r\nconda activate work36\r\nconda install -y ipython==6.5.0 ipykernel=4.10.0 notebook\r\n```\r\nI compared identical setups, hence the restrictions on version numbers, since py35 has no conda packages for latest versions. The resulting environments have slightly varying packages as not all dependencies had the same versions built for both python versions.  \r\n\r\nI also tried to build the whole env with pip instead of conda with the same results.\r\n\r\nSo, if I did everything correctly it indicates that **some change in python-3.6.0 introduced this problem**. There is a huge list of [changes](https://docs.python.org/3.6/whatsnew/changelog.html#python-3-6-0-final), I won't know what to look for. \r\n\r\nDo note that I first tested with python27 and had no problems there either.\r\n\r\nSo I'm happy I found that some earlier python versions did work just fine and that the problem doesn't have anything to do with extensions, custom config or browser versions.\r\n\r\nUnfortunately, I need at least python-3.6 to work. So the working 3.5.6 setup isn't helpful :(\r\n\r\nAny suggestions on how to proceed?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/455908595",
    "html_url": "https://github.com/jupyter/notebook/issues/4334#issuecomment-455908595",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4334",
    "id": 455908595,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NTkwODU5NQ==",
    "user": {
      "login": "stas00",
      "id": 10676103,
      "node_id": "MDQ6VXNlcjEwNjc2MTAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/10676103?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stas00",
      "html_url": "https://github.com/stas00",
      "followers_url": "https://api.github.com/users/stas00/followers",
      "following_url": "https://api.github.com/users/stas00/following{/other_user}",
      "gists_url": "https://api.github.com/users/stas00/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stas00/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stas00/subscriptions",
      "organizations_url": "https://api.github.com/users/stas00/orgs",
      "repos_url": "https://api.github.com/users/stas00/repos",
      "events_url": "https://api.github.com/users/stas00/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stas00/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-20T22:29:01Z",
    "updated_at": "2019-01-23T03:14:07Z",
    "author_association": "NONE",
    "body": "Oh great, I found I can share a notebook online and you can run it and see the problem for yourself!\r\n\r\nPlease run: \r\nhttps://mybinder.org/v2/gh/stas00/fastai-misc/master?filepath=debug%2Fjupyter%2Fstuck.ipynb\r\n\r\nLuckily the problem appears there too.\r\n\r\nSo now you can clearly see that it's a bug in the notebook project and it's unrelated to the user's setup.\r\n\r\nI updated the first post to include the link to the live notebook.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/460133699",
    "html_url": "https://github.com/jupyter/notebook/issues/4334#issuecomment-460133699",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4334",
    "id": 460133699,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MDEzMzY5OQ==",
    "user": {
      "login": "stas00",
      "id": 10676103,
      "node_id": "MDQ6VXNlcjEwNjc2MTAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/10676103?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stas00",
      "html_url": "https://github.com/stas00",
      "followers_url": "https://api.github.com/users/stas00/followers",
      "following_url": "https://api.github.com/users/stas00/following{/other_user}",
      "gists_url": "https://api.github.com/users/stas00/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stas00/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stas00/subscriptions",
      "organizations_url": "https://api.github.com/users/stas00/orgs",
      "repos_url": "https://api.github.com/users/stas00/repos",
      "events_url": "https://api.github.com/users/stas00/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stas00/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-04T05:17:32Z",
    "updated_at": "2019-02-04T05:28:20Z",
    "author_association": "NONE",
    "body": "I further debugged this by instrumenting `notebook/static/services/kernels/kernel.js`, with:\r\n\r\n```\r\n  Kernel.prototype._finish_ws_message = function (msg) {\r\n    console.log(\"_finish_ws_message\", msg)\r\n```\r\n\r\nand basically what happens is that `execute_reply` \"shell\" messages stop arriving as soon as some forward running slow cell starts executing, so the cells that missed their opportunity to receive `execute_reply` will not get that opportunity until all other cells complete. Which means that no cells from that moment on will receive  `execute_reply` until the notebook is complete, and then they all get this message in a row.\r\n\r\nMost likely the flow needs to be changed to await `execute_reply` from the currently running cell, before starting a new one - if at all possible.\r\n\r\nFWIW, \"iopub\" channel receives `execution_state: \"idle\"` in the right timing, but it's the `_handle_execute_reply` in `codecell.js` that clears the busy state:\r\n```\r\nthis.set_input_prompt(msg.content.execution_count);\r\n````\r\nand it's configured to run upon `execute_reply` msg on the \"shell\"  channel.\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/460167868",
    "html_url": "https://github.com/jupyter/notebook/issues/4334#issuecomment-460167868",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4334",
    "id": 460167868,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MDE2Nzg2OA==",
    "user": {
      "login": "ginward",
      "id": 6193977,
      "node_id": "MDQ6VXNlcjYxOTM5Nzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6193977?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ginward",
      "html_url": "https://github.com/ginward",
      "followers_url": "https://api.github.com/users/ginward/followers",
      "following_url": "https://api.github.com/users/ginward/following{/other_user}",
      "gists_url": "https://api.github.com/users/ginward/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ginward/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ginward/subscriptions",
      "organizations_url": "https://api.github.com/users/ginward/orgs",
      "repos_url": "https://api.github.com/users/ginward/repos",
      "events_url": "https://api.github.com/users/ginward/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ginward/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-04T08:39:30Z",
    "updated_at": "2019-02-04T08:41:26Z",
    "author_association": "NONE",
    "body": "Same problem here. Only occurs after upgrading to python3 (no such problem in python 2).\r\n\r\n```\r\n\r\npyzmq                     17.1.2\r\nipykernel                 5.1.0 \r\nnotebook                  5.7.4 \r\njupyter                   1.0.0                    \r\njupyter_client            5.2.4                   \r\njupyter_console           6.0.0                 \r\njupyter_core              4.4.0                    \r\njupyterlab                0.35.3                     \r\njupyterlab_server         0.2.0                    \r\npython                    3.7.1\r\npandas                    0.23.4\r\n\r\n```\r\nIt seems to happen when I use pandas to read large csv files.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/464423453",
    "html_url": "https://github.com/jupyter/notebook/issues/4334#issuecomment-464423453",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4334",
    "id": 464423453,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NDQyMzQ1Mw==",
    "user": {
      "login": "noklam",
      "id": 18221871,
      "node_id": "MDQ6VXNlcjE4MjIxODcx",
      "avatar_url": "https://avatars.githubusercontent.com/u/18221871?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/noklam",
      "html_url": "https://github.com/noklam",
      "followers_url": "https://api.github.com/users/noklam/followers",
      "following_url": "https://api.github.com/users/noklam/following{/other_user}",
      "gists_url": "https://api.github.com/users/noklam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/noklam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/noklam/subscriptions",
      "organizations_url": "https://api.github.com/users/noklam/orgs",
      "repos_url": "https://api.github.com/users/noklam/repos",
      "events_url": "https://api.github.com/users/noklam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/noklam/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-17T06:59:30Z",
    "updated_at": "2019-02-17T06:59:30Z",
    "author_association": "NONE",
    "body": "> Oh great, I found I can share a notebook online and you can run it and see the problem for yourself!\r\n> \r\n> Please run:\r\n> https://mybinder.org/v2/gh/stas00/fastai-misc/master?filepath=debug%2Fjupyter%2Fstuck.ipynb\r\n> \r\n> Luckily the problem appears there too.\r\n> \r\n> So now you can clearly see that it's a bug in the notebook project and it's unrelated to the user's setup.\r\n> \r\n> I updated the first post to include the link to the live notebook.\r\n\r\nThanks @stas00, I am able to reproduce the same behavior, it almost always stuck in the same cell, although 1 out of 20~30 trial it behave normally.\r\n\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/464426576",
    "html_url": "https://github.com/jupyter/notebook/issues/4334#issuecomment-464426576",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4334",
    "id": 464426576,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NDQyNjU3Ng==",
    "user": {
      "login": "pkampofo",
      "id": 31295435,
      "node_id": "MDQ6VXNlcjMxMjk1NDM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/31295435?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pkampofo",
      "html_url": "https://github.com/pkampofo",
      "followers_url": "https://api.github.com/users/pkampofo/followers",
      "following_url": "https://api.github.com/users/pkampofo/following{/other_user}",
      "gists_url": "https://api.github.com/users/pkampofo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pkampofo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pkampofo/subscriptions",
      "organizations_url": "https://api.github.com/users/pkampofo/orgs",
      "repos_url": "https://api.github.com/users/pkampofo/repos",
      "events_url": "https://api.github.com/users/pkampofo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pkampofo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-17T07:55:33Z",
    "updated_at": "2019-02-17T07:55:33Z",
    "author_association": "NONE",
    "body": "Any fix found yet? I'm encountering the same issue.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/464430932",
    "html_url": "https://github.com/jupyter/notebook/issues/4334#issuecomment-464430932",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4334",
    "id": 464430932,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NDQzMDkzMg==",
    "user": {
      "login": "noklam",
      "id": 18221871,
      "node_id": "MDQ6VXNlcjE4MjIxODcx",
      "avatar_url": "https://avatars.githubusercontent.com/u/18221871?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/noklam",
      "html_url": "https://github.com/noklam",
      "followers_url": "https://api.github.com/users/noklam/followers",
      "following_url": "https://api.github.com/users/noklam/following{/other_user}",
      "gists_url": "https://api.github.com/users/noklam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/noklam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/noklam/subscriptions",
      "organizations_url": "https://api.github.com/users/noklam/orgs",
      "repos_url": "https://api.github.com/users/noklam/repos",
      "events_url": "https://api.github.com/users/noklam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/noklam/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-17T08:58:37Z",
    "updated_at": "2019-02-17T08:58:37Z",
    "author_association": "NONE",
    "body": "@stas00 found the issue appears after python 3.6 is quite interesting, I would expect the issue is coming from update of jupyter.\r\n\r\nI have done some more testing on a __Window 10__ Machine and find that the issue is only exist in python 3.6.\r\nI have test the same notebook with\r\n* python 3.5.5\r\n* python 3.6.0\r\n* python 3.7.0\r\n\r\n```bash\r\n# py35\r\nconda create -n py35\r\nconda install python==3.5.5 jupyter\r\n# py36\r\nconda create -n py36\r\nconda install python==3.6.0 jupyter\r\n# py37\r\nconda create -n py37\r\nconda install python==3.7.0 jupyter\r\n```\r\n\r\nEnvironment | Result\r\n------------|-------\r\npy35 | Normal\r\npy36 | Stuck\r\npy37 | Normal\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/464430994",
    "html_url": "https://github.com/jupyter/notebook/issues/4334#issuecomment-464430994",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4334",
    "id": 464430994,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NDQzMDk5NA==",
    "user": {
      "login": "noklam",
      "id": 18221871,
      "node_id": "MDQ6VXNlcjE4MjIxODcx",
      "avatar_url": "https://avatars.githubusercontent.com/u/18221871?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/noklam",
      "html_url": "https://github.com/noklam",
      "followers_url": "https://api.github.com/users/noklam/followers",
      "following_url": "https://api.github.com/users/noklam/following{/other_user}",
      "gists_url": "https://api.github.com/users/noklam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/noklam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/noklam/subscriptions",
      "organizations_url": "https://api.github.com/users/noklam/orgs",
      "repos_url": "https://api.github.com/users/noklam/repos",
      "events_url": "https://api.github.com/users/noklam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/noklam/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-17T08:59:24Z",
    "updated_at": "2019-02-17T09:02:41Z",
    "author_association": "NONE",
    "body": "Unfortunately after I mistakenly install a different version of python in my base (was python3.7.0), I start to get the same bug........ but I am pretty sure I had a python 3.7.0 running smoothly before. At first I was thinking this maybe a Window vs Linux issue, but now I couldn't reproduce an working environment in 3.7.0",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/464433137",
    "html_url": "https://github.com/jupyter/notebook/issues/4334#issuecomment-464433137",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4334",
    "id": 464433137,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NDQzMzEzNw==",
    "user": {
      "login": "noklam",
      "id": 18221871,
      "node_id": "MDQ6VXNlcjE4MjIxODcx",
      "avatar_url": "https://avatars.githubusercontent.com/u/18221871?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/noklam",
      "html_url": "https://github.com/noklam",
      "followers_url": "https://api.github.com/users/noklam/followers",
      "following_url": "https://api.github.com/users/noklam/following{/other_user}",
      "gists_url": "https://api.github.com/users/noklam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/noklam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/noklam/subscriptions",
      "organizations_url": "https://api.github.com/users/noklam/orgs",
      "repos_url": "https://api.github.com/users/noklam/repos",
      "events_url": "https://api.github.com/users/noklam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/noklam/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-17T09:22:24Z",
    "updated_at": "2019-02-17T09:26:12Z",
    "author_association": "NONE",
    "body": "@stas00 Ok, so I have made some progress, this confirm my initial finding that python>3.6.0 can works too. Here is what I have done to create an __working__ environment with python 3.6.0.\r\n\r\nHere is my exact steps to create such an environment\r\n1. conda create -n py35\r\n2. conda install jupyter python==3.5.5\r\n3. pip install jupyter jupyter_client ipython --upgrade\r\n4. conda install python==3.6.0\r\n\r\nI am guessing step 3 is not that related, as I do step 1-3 and still getting the same bug, only after I do step 4 I get a working environment. I then do `conda intsall python==3.7.0` in the same environment and it works as well! @pkampofo not sure if it counts as a solution, the root cause is unknown.\r\n\r\n```\r\n\r\n\r\n# packages in environment at C:\\Users\\lrcno\\AppData\\Local\\Continuum\\anaconda3\\envs\\py35:\r\n#\r\n# Name                    Version                   Build  Channel\r\nbackcall                  0.1.0                    py36_0\r\nbleach                    3.1.0                    py36_0\r\nca-certificates           2019.1.23                     0\r\ncertifi                   2018.11.29               py36_0\r\ncolorama                  0.4.1                    py36_0\r\ndecorator                 4.3.2                    py36_0\r\nentrypoints               0.3                      py36_0\r\nhtml5lib                  1.0.1                    py36_0\r\nicu                       58.2                 ha66f8fd_1\r\nipykernel                 4.10.0                   py35_0\r\nipython                   7.2.0                    pypi_0    pypi\r\nipython_genutils          0.2.0            py36h3c5d0ee_0\r\nipywidgets                7.4.1                    py35_0\r\njedi                      0.13.2                   py36_0\r\njinja2                    2.10                     py36_0\r\njpeg                      9b                   hb83a4c4_2\r\njsonschema                2.6.0            py36h7636477_0\r\njupyter                   1.0.0                    py35_7\r\njupyter-client            5.2.4                    pypi_0    pypi\r\njupyter_console           5.2.0                    py35_1\r\njupyter_core              4.4.0                    py36_0\r\nlibpng                    1.6.34               h79bbb47_0\r\nlibsodium                 1.0.16               h9d3ae62_0\r\nm2w64-gcc-libgfortran     5.3.0                         6\r\nm2w64-gcc-libs            5.3.0                         7\r\nm2w64-gcc-libs-core       5.3.0                         7\r\nm2w64-gmp                 6.1.0                         2\r\nm2w64-libwinpthread-git   5.0.0.4634.697f757               2\r\nmarkupsafe                1.0              py36hfa6e2cd_1\r\nmistune                   0.8.3            py36hfa6e2cd_1\r\nmsys2-conda-epoch         20160418                      1\r\nnbconvert                 5.3.1                    py35_0\r\nnbformat                  4.4.0            py36h3a5bc1b_0\r\nnotebook                  5.5.0                    py35_0\r\nopenssl                   1.0.2p               hfa6e2cd_0\r\npandoc                    2.2.3.2                       0\r\npandocfilters             1.4.2                    py36_1\r\nparso                     0.3.2                    py36_0\r\npickleshare               0.7.5                    py36_0\r\npip                       19.0.1                   py36_0\r\nprompt-toolkit            2.0.8                    pypi_0    pypi\r\npygments                  2.3.1                    py36_0\r\npyqt                      5.9.2            py36h6538335_2\r\npython                    3.6.0                         0\r\npython-dateutil           2.7.5                    py36_0\r\npywinpty                  0.5.5                 py36_1000\r\npyzmq                     17.1.2           py36hfa6e2cd_0\r\nqt                        5.9.6            vc14h62aca36_0\r\nqtconsole                 4.4.1                    py35_0\r\nsend2trash                1.5.0                    py36_0\r\nsetuptools                40.7.3                   py36_0\r\nsimplegeneric             0.8.1                    py36_2\r\nsip                       4.19.8           py36h6538335_0\r\nsix                       1.12.0                   py36_0\r\nsqlite                    3.25.2               hfa6e2cd_0\r\nterminado                 0.8.1                    py36_1\r\ntestpath                  0.4.2                    py36_0\r\ntornado                   5.1.1            py36hfa6e2cd_0\r\ntraitlets                 4.3.2            py36h096827d_0\r\nvc                        14                   h0510ff6_3\r\nvs2015_runtime            14.15.26706          h3a45250_0\r\nwcwidth                   0.1.7            py36h3d5aa90_0\r\nwebencodings              0.5.1                    py36_1\r\nwheel                     0.32.3                   py36_0\r\nwidgetsnbextension        3.4.1                    py35_0\r\nwin_unicode_console       0.5              py36hcdbd4b5_0\r\nwincertstore              0.2              py36h7fe50ca_0\r\nwinpty                    0.4.3                         4\r\nzeromq                    4.2.5                he025d50_1\r\nzlib                      1.2.11               h8395fce_2\r\n```",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/464495573",
    "html_url": "https://github.com/jupyter/notebook/issues/4334#issuecomment-464495573",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4334",
    "id": 464495573,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NDQ5NTU3Mw==",
    "user": {
      "login": "stas00",
      "id": 10676103,
      "node_id": "MDQ6VXNlcjEwNjc2MTAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/10676103?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stas00",
      "html_url": "https://github.com/stas00",
      "followers_url": "https://api.github.com/users/stas00/followers",
      "following_url": "https://api.github.com/users/stas00/following{/other_user}",
      "gists_url": "https://api.github.com/users/stas00/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stas00/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stas00/subscriptions",
      "organizations_url": "https://api.github.com/users/stas00/orgs",
      "repos_url": "https://api.github.com/users/stas00/repos",
      "events_url": "https://api.github.com/users/stas00/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stas00/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-17T19:02:25Z",
    "updated_at": "2019-02-17T19:02:25Z",
    "author_association": "NONE",
    "body": "yay, thank you for digging more into it, @noklam . Following your steps I did some more bisecting and now found the real culprit. It's ipykernel=5.0.0 that breaks it. Can you please double check?\r\n\r\nthis works:\r\n```\r\nconda create -y python=3.7.1 --name work37\r\nconda activate work37\r\nconda install -y notebook ipykernel=4.10.0\r\n```\r\nthis breaks:\r\n```\r\nconda create -y python=3.7.1 --name work37-maybe\r\nconda activate work37-maybe\r\nconda install -y notebook ipykernel=5.0.0\r\n```\r\nDifference between envs:\r\n```\r\nconda-env-compare.pl work37 work37-maybe\r\nComparing installed packages in environments: work37 and work37-maybe\r\nenvironment       work37 work37-maybe                  work37            work37-maybe\r\npackage name      version      version                  source                  source\r\n-------------------------------------------------------------------------------------------\r\nipykernel       4.10.0        5.0.0         py37_0/anaconda py37h39e3cac_0/anaconda\r\n```\r\n\r\n* [conda-env-compare.pl](https://github.com/stas00/conda-tools)\r\n\r\nI also updated my normal environment to force downgrade to ipykernel=4.10.0 and it no longer gets stuck - yay!\r\n\r\nBut, of course, ipykernel still needs to be fixed.\r\n\r\n\r\n\r\n\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/464496905",
    "html_url": "https://github.com/jupyter/notebook/issues/4334#issuecomment-464496905",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4334",
    "id": 464496905,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NDQ5NjkwNQ==",
    "user": {
      "login": "stas00",
      "id": 10676103,
      "node_id": "MDQ6VXNlcjEwNjc2MTAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/10676103?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stas00",
      "html_url": "https://github.com/stas00",
      "followers_url": "https://api.github.com/users/stas00/followers",
      "following_url": "https://api.github.com/users/stas00/following{/other_user}",
      "gists_url": "https://api.github.com/users/stas00/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stas00/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stas00/subscriptions",
      "organizations_url": "https://api.github.com/users/stas00/orgs",
      "repos_url": "https://api.github.com/users/stas00/repos",
      "events_url": "https://api.github.com/users/stas00/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stas00/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-17T19:15:09Z",
    "updated_at": "2019-02-17T19:22:04Z",
    "author_association": "NONE",
    "body": "further bisected into ipykernel and found the commit that broke it: https://github.com/ipython/ipykernel/commit/3b1f632528e3577539e96340f9d751723bf5c7cc\r\n```\r\n3b1f632528e3577539e96340f9d751723bf5c7cc is the first bad commit\r\ncommit 3b1f632528e3577539e96340f9d751723bf5c7cc\r\nAuthor: Min RK <benjaminrk@gmail.com>\r\nDate:   Wed Sep 5 13:53:27 2018 +0200\r\n\r\n    use PriorityQueue for messages\r\n\r\n    ensures control messages maintain priority\r\n\r\n:040000 040000 28a56cc56df07170b7a939c5fad721f116c06af0 3f56c2b17276897e406107919ae57d7d9b3f7a3f M      ipykernel\r\n```\r\n\r\nOpened an Issue https://github.com/ipython/ipykernel/issues/389\r\nSince there is so much debug info here, I will keep this issue open for now and will close it once we have a resolution at ipykernel.\r\n\r\nThank you all who helped to find the culprit and your support!",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/464543741",
    "html_url": "https://github.com/jupyter/notebook/issues/4334#issuecomment-464543741",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4334",
    "id": 464543741,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NDU0Mzc0MQ==",
    "user": {
      "login": "noklam",
      "id": 18221871,
      "node_id": "MDQ6VXNlcjE4MjIxODcx",
      "avatar_url": "https://avatars.githubusercontent.com/u/18221871?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/noklam",
      "html_url": "https://github.com/noklam",
      "followers_url": "https://api.github.com/users/noklam/followers",
      "following_url": "https://api.github.com/users/noklam/following{/other_user}",
      "gists_url": "https://api.github.com/users/noklam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/noklam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/noklam/subscriptions",
      "organizations_url": "https://api.github.com/users/noklam/orgs",
      "repos_url": "https://api.github.com/users/noklam/repos",
      "events_url": "https://api.github.com/users/noklam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/noklam/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-18T01:23:47Z",
    "updated_at": "2019-02-18T01:23:47Z",
    "author_association": "NONE",
    "body": "@stas00 I can confirm when I switch from ipykernel==4.10.0 -> 5.0.0 the bug starts to appear. Except that I don't have a nice conda-tools like you and I don't know a good way to show diff file in Window (Normally I just check them in VS code, I cannot find a way to output the diff).\r\n\r\nSo I turn into a web diff tools instead:\r\nhttps://www.diffchecker.com/AxgRYVqv",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/492717864",
    "html_url": "https://github.com/jupyter/notebook/issues/4334#issuecomment-492717864",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4334",
    "id": 492717864,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjcxNzg2NA==",
    "user": {
      "login": "lmsanch",
      "id": 3156487,
      "node_id": "MDQ6VXNlcjMxNTY0ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3156487?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lmsanch",
      "html_url": "https://github.com/lmsanch",
      "followers_url": "https://api.github.com/users/lmsanch/followers",
      "following_url": "https://api.github.com/users/lmsanch/following{/other_user}",
      "gists_url": "https://api.github.com/users/lmsanch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lmsanch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lmsanch/subscriptions",
      "organizations_url": "https://api.github.com/users/lmsanch/orgs",
      "repos_url": "https://api.github.com/users/lmsanch/repos",
      "events_url": "https://api.github.com/users/lmsanch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lmsanch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-15T16:03:42Z",
    "updated_at": "2019-05-15T16:36:24Z",
    "author_association": "NONE",
    "body": "I am having a similar issue, and keep having the problem with different versions of python 3.6, 3.7 and ipykernel. I don't think just downgrading to ipykernel=4.10.0 solves the issue.\r\nThe latest env I tried is python 3.7 and ipkernel 4.10.0 (downgrade from 5.1.0.) Does not work.\r\n\r\n![Screen Shot 2019-05-15 at 11 29 21 AM](https://user-images.githubusercontent.com/3156487/57788215-b57db600-7704-11e9-8182-bab397599698.png)\r\n\r\nThe behavior is bizarre: The jupyter notebook does all the calculations and displays them very fast, but the kernel shows busy, even after doing all the calculations and displaying them correctly. Then, if I do a new cell, or update a value in a previously calculated cell and recalc, the * (kernel busy) stays there until:\r\n\r\n1) waiting for several seconds OR\r\n2) pressing stop and recalc. \r\n\r\nIf I do \"stop\" and recalc, the calculation is fast and displayed promptly as usual, but the kernel remains \"busy\" for a while. So it looks to me that there is a buffer of \"junk\" somewhere that is not allowing calculations on new cells until the \"junk\" is processed.\r\n\r\nThe video below (zippped and youtube link) better illustrates the issue.\r\n\r\nI have not tried a python-3.5.6 with ipkernel 4.10.0 as @noklam  and @stas00 suggested.\r\n\r\n[demo_error.mp4.zip](https://github.com/jupyter/notebook/files/3183317/demo_error.mp4.zip)\r\nhttps://youtu.be/nRHP3QDVGdE\r\n\r\n**update**\r\ninstalled python 3.5 with  ipkernel 4.10.0; my jupyter notebooks crashes when selecting the 3.5 kernel.\r\n![Screen Shot 2019-05-15 at 12 32 24 PM](https://user-images.githubusercontent.com/3156487/57792844-f928ed80-770d-11e9-83e4-f75e864d8f9f.png)\r\n",
    "performed_via_github_app": null
  }
]
