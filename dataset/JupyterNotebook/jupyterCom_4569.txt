[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/494959346",
    "html_url": "https://github.com/jupyter/notebook/issues/4569#issuecomment-494959346",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4569",
    "id": 494959346,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NDk1OTM0Ng==",
    "user": {
      "login": "jsbangsund",
      "id": 16615323,
      "node_id": "MDQ6VXNlcjE2NjE1MzIz",
      "avatar_url": "https://avatars.githubusercontent.com/u/16615323?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jsbangsund",
      "html_url": "https://github.com/jsbangsund",
      "followers_url": "https://api.github.com/users/jsbangsund/followers",
      "following_url": "https://api.github.com/users/jsbangsund/following{/other_user}",
      "gists_url": "https://api.github.com/users/jsbangsund/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jsbangsund/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jsbangsund/subscriptions",
      "organizations_url": "https://api.github.com/users/jsbangsund/orgs",
      "repos_url": "https://api.github.com/users/jsbangsund/repos",
      "events_url": "https://api.github.com/users/jsbangsund/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jsbangsund/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-22T20:28:42Z",
    "updated_at": "2019-05-22T20:48:32Z",
    "author_association": "NONE",
    "body": "I think I am having the same (or almost the same) issue as you. I'm also on Windows 10. If I launch jupyter from my base environment and then switch kernels to one of my virtual environments, I get the same error:\r\n\r\n    ImportError: DLL load failed: The specified module could not be found\r\n\r\nBut only for packages which aren't installed in the base environment. If jupyter is launched from the virtual environment, this is not an issue. \r\n\r\nEdit: to clarify, this only seems to happen when I import a package which depends on numpy, which is not installed in my base environment.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/517928066",
    "html_url": "https://github.com/jupyter/notebook/issues/4569#issuecomment-517928066",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4569",
    "id": 517928066,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNzkyODA2Ng==",
    "user": {
      "login": "oronimbus",
      "id": 11311783,
      "node_id": "MDQ6VXNlcjExMzExNzgz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11311783?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oronimbus",
      "html_url": "https://github.com/oronimbus",
      "followers_url": "https://api.github.com/users/oronimbus/followers",
      "following_url": "https://api.github.com/users/oronimbus/following{/other_user}",
      "gists_url": "https://api.github.com/users/oronimbus/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oronimbus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oronimbus/subscriptions",
      "organizations_url": "https://api.github.com/users/oronimbus/orgs",
      "repos_url": "https://api.github.com/users/oronimbus/repos",
      "events_url": "https://api.github.com/users/oronimbus/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oronimbus/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-03T14:20:47Z",
    "updated_at": "2019-08-03T14:20:47Z",
    "author_association": "NONE",
    "body": "I'm experiencing the same issue - has anyone found a fix? importing packages inside conda works, as soon as I try it on my remote server via Jupyter Lab I get the above import error. ",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/517932972",
    "html_url": "https://github.com/jupyter/notebook/issues/4569#issuecomment-517932972",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4569",
    "id": 517932972,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNzkzMjk3Mg==",
    "user": {
      "login": "jsbangsund",
      "id": 16615323,
      "node_id": "MDQ6VXNlcjE2NjE1MzIz",
      "avatar_url": "https://avatars.githubusercontent.com/u/16615323?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jsbangsund",
      "html_url": "https://github.com/jsbangsund",
      "followers_url": "https://api.github.com/users/jsbangsund/followers",
      "following_url": "https://api.github.com/users/jsbangsund/following{/other_user}",
      "gists_url": "https://api.github.com/users/jsbangsund/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jsbangsund/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jsbangsund/subscriptions",
      "organizations_url": "https://api.github.com/users/jsbangsund/orgs",
      "repos_url": "https://api.github.com/users/jsbangsund/repos",
      "events_url": "https://api.github.com/users/jsbangsund/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jsbangsund/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-03T15:28:37Z",
    "updated_at": "2019-08-03T15:28:37Z",
    "author_association": "NONE",
    "body": "I havenâ€™t found a fix, other than the work-around of only running notebooks in a kernel of the same environment that the server was launched from.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/521002976",
    "html_url": "https://github.com/jupyter/notebook/issues/4569#issuecomment-521002976",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4569",
    "id": 521002976,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMTAwMjk3Ng==",
    "user": {
      "login": "mansenfranzen",
      "id": 18086180,
      "node_id": "MDQ6VXNlcjE4MDg2MTgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/18086180?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mansenfranzen",
      "html_url": "https://github.com/mansenfranzen",
      "followers_url": "https://api.github.com/users/mansenfranzen/followers",
      "following_url": "https://api.github.com/users/mansenfranzen/following{/other_user}",
      "gists_url": "https://api.github.com/users/mansenfranzen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mansenfranzen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mansenfranzen/subscriptions",
      "organizations_url": "https://api.github.com/users/mansenfranzen/orgs",
      "repos_url": "https://api.github.com/users/mansenfranzen/repos",
      "events_url": "https://api.github.com/users/mansenfranzen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mansenfranzen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-13T20:48:02Z",
    "updated_at": "2019-08-13T20:48:02Z",
    "author_association": "NONE",
    "body": "I'm having the exact same issue. Everything worked well on win 7 having a separate environment for jupyterlab and individual environments for all other kernels.\r\n\r\nMoving to win 10, the same setup breaks when using conda. I'm also getting `ImportError: DLL load failed: The specified module could not be found`.\r\n\r\nThe only workaround that worked for me so far is to create an empty environment with conda like `conda create -n env_test python=3.6` and then install all relevant packages via pip into this environment. When using pip, no import errors are raised when using the the `env_test` interpreter from within jupyterlab (including packages like numpy etc...). However, this workaround almost only uses conda for installing the python interpreter :-(.\r\n\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/521007423",
    "html_url": "https://github.com/jupyter/notebook/issues/4569#issuecomment-521007423",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4569",
    "id": 521007423,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMTAwNzQyMw==",
    "user": {
      "login": "matmel",
      "id": 6333189,
      "node_id": "MDQ6VXNlcjYzMzMxODk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6333189?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matmel",
      "html_url": "https://github.com/matmel",
      "followers_url": "https://api.github.com/users/matmel/followers",
      "following_url": "https://api.github.com/users/matmel/following{/other_user}",
      "gists_url": "https://api.github.com/users/matmel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matmel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matmel/subscriptions",
      "organizations_url": "https://api.github.com/users/matmel/orgs",
      "repos_url": "https://api.github.com/users/matmel/repos",
      "events_url": "https://api.github.com/users/matmel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matmel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-13T21:01:01Z",
    "updated_at": "2019-08-13T21:01:01Z",
    "author_association": "NONE",
    "body": "Hi, I solved this issue by making sure that I am \"activating\" the environment that runs the jupyterlab server. I changed my laptop since then, but the workflow would go like this: in anaconda prompt activate the jupyterlab environment, and launch the command `jupter-lab`. Then the other kernels should work well.\r\n\r\nI think there is a possibility to tweak start links on your desktop to make sure the environment is activated before launching the server but I don't remember how.\r\n\r\nI knew that we had to \"activate\" the environment to make sure commands work due to the way anaconda (the company) patched the python source code related to the dll loading on windows. Maybe @msarahan could confirm that hypothesis.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/521013136",
    "html_url": "https://github.com/jupyter/notebook/issues/4569#issuecomment-521013136",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4569",
    "id": 521013136,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMTAxMzEzNg==",
    "user": {
      "login": "msarahan",
      "id": 38393,
      "node_id": "MDQ6VXNlcjM4Mzkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/38393?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/msarahan",
      "html_url": "https://github.com/msarahan",
      "followers_url": "https://api.github.com/users/msarahan/followers",
      "following_url": "https://api.github.com/users/msarahan/following{/other_user}",
      "gists_url": "https://api.github.com/users/msarahan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/msarahan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/msarahan/subscriptions",
      "organizations_url": "https://api.github.com/users/msarahan/orgs",
      "repos_url": "https://api.github.com/users/msarahan/repos",
      "events_url": "https://api.github.com/users/msarahan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/msarahan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-13T21:18:30Z",
    "updated_at": "2019-08-13T21:18:30Z",
    "author_association": "NONE",
    "body": "It's not really because of our patches. All of our DLL files live in the library/bin folder. Unfortunately, python does not search that folder when loading DLLs. Activation sets PATH so that python does look in that folder. There is something we call \"hacktivate\" where we patch python such that its DLL search path works without activation. It should be used with care, because it make python behave differently from other things on your system, and that can be confusing. There are some notes on hacktivation here: https://conda.io/projects/conda/en/latest/user-guide/troubleshooting.html#numpy-mkl-library-load-failed\r\n\r\nCreating shortcuts is a bit more hairy. There it is best to copy one of the existing shortcuts. Right click one of them, and look for something like \"show on folder\". From that explorer window you can copy any of them. Right click a copy and edit its properties to change what command gets run.\r\n\r\nThere are better, less hacky ways, but they're more involved.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/609901011",
    "html_url": "https://github.com/jupyter/notebook/issues/4569#issuecomment-609901011",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4569",
    "id": 609901011,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwOTkwMTAxMQ==",
    "user": {
      "login": "jeschwar",
      "id": 36767735,
      "node_id": "MDQ6VXNlcjM2NzY3NzM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/36767735?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jeschwar",
      "html_url": "https://github.com/jeschwar",
      "followers_url": "https://api.github.com/users/jeschwar/followers",
      "following_url": "https://api.github.com/users/jeschwar/following{/other_user}",
      "gists_url": "https://api.github.com/users/jeschwar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jeschwar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jeschwar/subscriptions",
      "organizations_url": "https://api.github.com/users/jeschwar/orgs",
      "repos_url": "https://api.github.com/users/jeschwar/repos",
      "events_url": "https://api.github.com/users/jeschwar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jeschwar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-06T16:32:13Z",
    "updated_at": "2020-04-06T16:32:13Z",
    "author_association": "NONE",
    "body": "I have been struggling with this issue on Windows 10 because none of my recent jupyterlab notebooks will work with any of my projects which rely on `numpy`. This problem only applies to using a notebook in jupyterlab, i.e., everything is normal when running the same commands from an IPython terminal.  I am only seeing this problem when using project environments based on Python 3.7: the `<env_dir>/Library/bin` directory does not get added to the system path and therefore `numpy` can not find the right DLLs.  Everything was fine up to and including Python 3.6.  I want to use some APIs written for only Python 3.7 so I needed to figure something out.\r\n\r\nI am using the following code in my `~/.ipython/profile_default/startup/ipython_startup.py` file to add the correct directory to the system path which allows me to import `numpy` in my notebook as expected:\r\n\r\n```python\r\nimport sys\r\nimport os\r\nfrom pathlib import Path\r\n\r\n\r\n# get directory of virtual environment\r\np_env = Path(sys.executable).parent\r\n\r\n# directory which should contain all the DLLs\r\np_dlls = p_env / 'Library' / 'bin'\r\n\r\n# effectively prepend this DLL directory to $PATH\r\n# semi-colon used here as sep on Windows\r\nos.environ['PATH'] = '{};{}'.format(p_dlls, os.environ['PATH'])\r\n\r\n```\r\n\r\nHaving this code at the beginning of the IPython startup file means it will automatically run whenever starting a new notebook.  Hopefully this will help someone until the problem is properly corrected.\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/659121745",
    "html_url": "https://github.com/jupyter/notebook/issues/4569#issuecomment-659121745",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4569",
    "id": 659121745,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1OTEyMTc0NQ==",
    "user": {
      "login": "jeffheaton",
      "id": 462761,
      "node_id": "MDQ6VXNlcjQ2Mjc2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/462761?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jeffheaton",
      "html_url": "https://github.com/jeffheaton",
      "followers_url": "https://api.github.com/users/jeffheaton/followers",
      "following_url": "https://api.github.com/users/jeffheaton/following{/other_user}",
      "gists_url": "https://api.github.com/users/jeffheaton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jeffheaton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jeffheaton/subscriptions",
      "organizations_url": "https://api.github.com/users/jeffheaton/orgs",
      "repos_url": "https://api.github.com/users/jeffheaton/repos",
      "events_url": "https://api.github.com/users/jeffheaton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jeffheaton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-16T02:37:12Z",
    "updated_at": "2020-07-16T02:37:12Z",
    "author_association": "NONE",
    "body": "One note, this problem only seems to occur on Windows.\r\n\r\nSo why even allow Jupyter to switch between environments on Windows?  If you are required to launch Jupyter in the specific environment that you wish to use, it seems like an extra step to also have to pick that same environment in Jupyter.  And a potential source of confusion that the Jupyter environment/kernel selector does not work on Windows.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/705619646",
    "html_url": "https://github.com/jupyter/notebook/issues/4569#issuecomment-705619646",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4569",
    "id": 705619646,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNTYxOTY0Ng==",
    "user": {
      "login": "dzanaga",
      "id": 8113766,
      "node_id": "MDQ6VXNlcjgxMTM3NjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8113766?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dzanaga",
      "html_url": "https://github.com/dzanaga",
      "followers_url": "https://api.github.com/users/dzanaga/followers",
      "following_url": "https://api.github.com/users/dzanaga/following{/other_user}",
      "gists_url": "https://api.github.com/users/dzanaga/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dzanaga/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dzanaga/subscriptions",
      "organizations_url": "https://api.github.com/users/dzanaga/orgs",
      "repos_url": "https://api.github.com/users/dzanaga/repos",
      "events_url": "https://api.github.com/users/dzanaga/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dzanaga/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-08T14:44:35Z",
    "updated_at": "2020-10-08T14:44:35Z",
    "author_association": "NONE",
    "body": "Had the same issue with `geopandas` and `tensorflow`, the workaround from @jeschwar did it for me.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/782809018",
    "html_url": "https://github.com/jupyter/notebook/issues/4569#issuecomment-782809018",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4569",
    "id": 782809018,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MjgwOTAxOA==",
    "user": {
      "login": "meeseeksmachine",
      "id": 39504233,
      "node_id": "MDQ6VXNlcjM5NTA0MjMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39504233?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meeseeksmachine",
      "html_url": "https://github.com/meeseeksmachine",
      "followers_url": "https://api.github.com/users/meeseeksmachine/followers",
      "following_url": "https://api.github.com/users/meeseeksmachine/following{/other_user}",
      "gists_url": "https://api.github.com/users/meeseeksmachine/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meeseeksmachine/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meeseeksmachine/subscriptions",
      "organizations_url": "https://api.github.com/users/meeseeksmachine/orgs",
      "repos_url": "https://api.github.com/users/meeseeksmachine/repos",
      "events_url": "https://api.github.com/users/meeseeksmachine/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meeseeksmachine/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-21T06:36:59Z",
    "updated_at": "2021-02-21T06:36:59Z",
    "author_association": "NONE",
    "body": "This issue has been mentioned on **Jupyter Community Forum**. There might be relevant details there:\n\nhttps://discourse.jupyter.org/t/unable-to-reliably-use-single-jypyterlab-server-with-multiple-conda-environments/7979/4\n",
    "performed_via_github_app": null
  }
]
