[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/329768630",
    "html_url": "https://github.com/jupyter/notebook/issues/2841#issuecomment-329768630",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2841",
    "id": 329768630,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTc2ODYzMA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-15T12:29:10Z",
    "updated_at": "2017-09-15T12:29:10Z",
    "author_association": "MEMBER",
    "body": "Many (most?) extensions do not depend on the kernel, so it wouldn't make sense to install them per-kernel. Part of the point of nbextensions is to provide functionality that works across different kernels.\r\n\r\nKernels get a `kernel.js` file which is loaded in the frontend when the kernel starts. Customisation can be done there. See e.g. [IRkernel's kernel.js](https://github.com/IRkernel/IRkernel/blob/master/inst/kernelspec/kernel.js). You can also put files in the nbextensions directory but not configure them as an nbextension, and then use a `require()` call to load them - either from `kernel.js` or from Javascript output produced by running code. [Mobilechelonian](https://github.com/takluyver/mobilechelonian) uses this technique, for example.\r\n\r\nIf you tell us a bit more about what you're trying to achieve, we may be able to point you to more ideas.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/331774737",
    "html_url": "https://github.com/jupyter/notebook/issues/2841#issuecomment-331774737",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2841",
    "id": 331774737,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTc3NDczNw==",
    "user": {
      "login": "ksze",
      "id": 381556,
      "node_id": "MDQ6VXNlcjM4MTU1Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/381556?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ksze",
      "html_url": "https://github.com/ksze",
      "followers_url": "https://api.github.com/users/ksze/followers",
      "following_url": "https://api.github.com/users/ksze/following{/other_user}",
      "gists_url": "https://api.github.com/users/ksze/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ksze/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ksze/subscriptions",
      "organizations_url": "https://api.github.com/users/ksze/orgs",
      "repos_url": "https://api.github.com/users/ksze/repos",
      "events_url": "https://api.github.com/users/ksze/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ksze/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-25T04:32:10Z",
    "updated_at": "2017-09-27T06:08:11Z",
    "author_association": "NONE",
    "body": "A prime example is widgetsnbextension from ipywidgets, which, ironically, is an \"official\" jupyter notebook extension. widgetsnbextension requires both JavaScript and Python module to work, but if your notebook server serves up the JavaScript for widgetsnbextension version 2.0.0 while your kernel has the widgetsnbextension version 3.0.0 Python package, it won't work: the notebook would complain about incompatibility.\r\n\r\nBut why should I expect that every kernel has the same widgetsnbextension version 2.0.0 Python package? It's entirely possible that different notebooks depend on different kernels, which are based on different virtualenvs, which have different versions of the widgetsnbextension Python package.\r\n\r\nIf I understand correctly, the current mechanism installs and enables extensions either per-user (`--user`) or per-virtualenv (`--sys-prefix`). But even in the per-virtualenv case, extension JavaScript is loaded from the virtualenv that is used to run the notebook _server_ (this includes `jupyter notebook` and `jupyterhub-singleuser` instances spawned by JupyterHub). Extension JavaScript is not loaded from the virtualenv of the notebook's _kernel_. This mechanism seems really broken to me.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/332067700",
    "html_url": "https://github.com/jupyter/notebook/issues/2841#issuecomment-332067700",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2841",
    "id": 332067700,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjA2NzcwMA==",
    "user": {
      "login": "ksze",
      "id": 381556,
      "node_id": "MDQ6VXNlcjM4MTU1Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/381556?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ksze",
      "html_url": "https://github.com/ksze",
      "followers_url": "https://api.github.com/users/ksze/followers",
      "following_url": "https://api.github.com/users/ksze/following{/other_user}",
      "gists_url": "https://api.github.com/users/ksze/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ksze/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ksze/subscriptions",
      "organizations_url": "https://api.github.com/users/ksze/orgs",
      "repos_url": "https://api.github.com/users/ksze/repos",
      "events_url": "https://api.github.com/users/ksze/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ksze/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-26T02:26:43Z",
    "updated_at": "2017-09-26T06:46:18Z",
    "author_association": "NONE",
    "body": "I'm also not sure how putting `require()` in kernel.js helps. In order for that to work, the notebook server would need to be able to serve static files from the kernel, but that appears to have been an ongoing issue since 2015 (#320).\r\n\r\nFor the moment, it appears that the best workaround is to read the JavaScript file content in the kernel and serve it up via `IPython.display.Javascript`. It's trivial for the Python module to find its own static files (through a combination of `os.path.join()` and `__file__`). It may be relatively inefficient, but it saves me the trouble of trying to match JavaScript and Python module versions among the notebook server and the kernels.\r\n\r\nEDIT:\r\nIn fact, I could do a similar thing with widgetsnbextension's JavaScript, and do away with installing and enabling the notebook extension. Something like:\r\n```python\r\nimport os\r\nfrom IPython.display import display, Javascript\r\nimport widgetsnbextension\r\n\r\njs_path = os.path.join(os.path.dirname(widgetsnbextension.__file__), 'static', 'extension.js')\r\n\r\nwith open(js_path, 'r') as js_file:\r\n    js = js_file.read()\r\n\r\ndisplay(Javascript(js))\r\n```\r\n\r\nMy remaining hurdle is figuring out how to wrap around the anonymous `define()` in extension.js, so that [requirejs doesn't blow up](http://requirejs.org/docs/errors.html#mismatch).",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/346187881",
    "html_url": "https://github.com/jupyter/notebook/issues/2841#issuecomment-346187881",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2841",
    "id": 346187881,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NjE4Nzg4MQ==",
    "user": {
      "login": "mlucool",
      "id": 1813603,
      "node_id": "MDQ6VXNlcjE4MTM2MDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1813603?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mlucool",
      "html_url": "https://github.com/mlucool",
      "followers_url": "https://api.github.com/users/mlucool/followers",
      "following_url": "https://api.github.com/users/mlucool/following{/other_user}",
      "gists_url": "https://api.github.com/users/mlucool/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mlucool/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mlucool/subscriptions",
      "organizations_url": "https://api.github.com/users/mlucool/orgs",
      "repos_url": "https://api.github.com/users/mlucool/repos",
      "events_url": "https://api.github.com/users/mlucool/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mlucool/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-21T22:53:19Z",
    "updated_at": "2017-11-21T22:53:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ksze did you ever fully solve this?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/347157652",
    "html_url": "https://github.com/jupyter/notebook/issues/2841#issuecomment-347157652",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2841",
    "id": 347157652,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NzE1NzY1Mg==",
    "user": {
      "login": "marvinxu-free",
      "id": 33946057,
      "node_id": "MDQ6VXNlcjMzOTQ2MDU3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33946057?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marvinxu-free",
      "html_url": "https://github.com/marvinxu-free",
      "followers_url": "https://api.github.com/users/marvinxu-free/followers",
      "following_url": "https://api.github.com/users/marvinxu-free/following{/other_user}",
      "gists_url": "https://api.github.com/users/marvinxu-free/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marvinxu-free/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marvinxu-free/subscriptions",
      "organizations_url": "https://api.github.com/users/marvinxu-free/orgs",
      "repos_url": "https://api.github.com/users/marvinxu-free/repos",
      "events_url": "https://api.github.com/users/marvinxu-free/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marvinxu-free/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-27T11:41:16Z",
    "updated_at": "2017-11-27T11:41:16Z",
    "author_association": "NONE",
    "body": "if i have virtualenv for python2 and python3, how can i install nbextensions for each virtualenv?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/347170031",
    "html_url": "https://github.com/jupyter/notebook/issues/2841#issuecomment-347170031",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2841",
    "id": 347170031,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NzE3MDAzMQ==",
    "user": {
      "login": "rolweber",
      "id": 12234414,
      "node_id": "MDQ6VXNlcjEyMjM0NDE0",
      "avatar_url": "https://avatars.githubusercontent.com/u/12234414?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rolweber",
      "html_url": "https://github.com/rolweber",
      "followers_url": "https://api.github.com/users/rolweber/followers",
      "following_url": "https://api.github.com/users/rolweber/following{/other_user}",
      "gists_url": "https://api.github.com/users/rolweber/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rolweber/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rolweber/subscriptions",
      "organizations_url": "https://api.github.com/users/rolweber/orgs",
      "repos_url": "https://api.github.com/users/rolweber/repos",
      "events_url": "https://api.github.com/users/rolweber/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rolweber/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-27T12:38:56Z",
    "updated_at": "2017-11-27T12:38:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "@marvinxu-free: The notebook extension must be installed in the environment from which you run Jupyter. If you want to run it from either environment, install it twice. Switch to one virtualenv and follow the installation instructions of the notebook extension. Then switch to the other virtualenv and repeat.\r\n\r\nIf you want to run Jupyter only from one envirnment, but you have kernels defined from both environments, you still need to install the notebook extensions only once, in the environment from which you run Jupyter.\r\n\r\nSometimes, this is complicated by packaging. For example, widgetsnbextensions is a notebook extension that needs to be installed only once. ipywidgets are a Python package that needs to be installed for each kernel. But because ipywidgets defines a dependency on widgetsnbextensions, you're likely to have the extensions installed twice, too. Which doesn't hurt, by the way.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/347210721",
    "html_url": "https://github.com/jupyter/notebook/issues/2841#issuecomment-347210721",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2841",
    "id": 347210721,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NzIxMDcyMQ==",
    "user": {
      "login": "ksze",
      "id": 381556,
      "node_id": "MDQ6VXNlcjM4MTU1Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/381556?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ksze",
      "html_url": "https://github.com/ksze",
      "followers_url": "https://api.github.com/users/ksze/followers",
      "following_url": "https://api.github.com/users/ksze/following{/other_user}",
      "gists_url": "https://api.github.com/users/ksze/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ksze/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ksze/subscriptions",
      "organizations_url": "https://api.github.com/users/ksze/orgs",
      "repos_url": "https://api.github.com/users/ksze/repos",
      "events_url": "https://api.github.com/users/ksze/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ksze/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-27T15:09:13Z",
    "updated_at": "2017-11-27T15:09:13Z",
    "author_association": "NONE",
    "body": "@mlucool No. I never got to the bottom of it. For now I just let nbextension have its way and install in both the notebook kernel and the jupyter server's virtualenv.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/358685243",
    "html_url": "https://github.com/jupyter/notebook/issues/2841#issuecomment-358685243",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2841",
    "id": 358685243,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODY4NTI0Mw==",
    "user": {
      "login": "jasongrout",
      "id": 192614,
      "node_id": "MDQ6VXNlcjE5MjYxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/192614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jasongrout",
      "html_url": "https://github.com/jasongrout",
      "followers_url": "https://api.github.com/users/jasongrout/followers",
      "following_url": "https://api.github.com/users/jasongrout/following{/other_user}",
      "gists_url": "https://api.github.com/users/jasongrout/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jasongrout/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jasongrout/subscriptions",
      "organizations_url": "https://api.github.com/users/jasongrout/orgs",
      "repos_url": "https://api.github.com/users/jasongrout/repos",
      "events_url": "https://api.github.com/users/jasongrout/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jasongrout/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-18T15:40:40Z",
    "updated_at": "2018-01-18T15:40:40Z",
    "author_association": "MEMBER",
    "body": "> Sometimes, this is complicated by packaging. For example, widgetsnbextensions is a notebook extension that needs to be installed only once. ipywidgets are a Python package that needs to be installed for each kernel. But because ipywidgets defines a dependency on widgetsnbextensions, you're likely to have the extensions installed twice, too. Which doesn't hurt, by the way.\r\n\r\nFYI, there are conversations about breaking up this dependency relationship: https://github.com/jupyter-widgets/ipywidgets/issues/1892",
    "performed_via_github_app": null
  }
]
