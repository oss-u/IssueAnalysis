[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/368508296",
    "html_url": "https://github.com/jupyter/notebook/issues/3365#issuecomment-368508296",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3365",
    "id": 368508296,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODUwODI5Ng==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-26T13:45:49Z",
    "updated_at": "2018-02-26T13:45:49Z",
    "author_association": "MEMBER",
    "body": "That's interesting. I've seen something similar running Selenium tests with Firefox, but I haven't seen it in actual use yet. With the tests, it only seemed to affect Firefox 58,  so I told it to install v57 as a workaround. Are you using 58 as well?\r\n\r\nAuthentication uses cookies, so it could be that something is deleting our authentication cookie. Next time you see this happen, can you open the developer tools, go to the storage tab and check what cookies you see?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/368744978",
    "html_url": "https://github.com/jupyter/notebook/issues/3365#issuecomment-368744978",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3365",
    "id": 368744978,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODc0NDk3OA==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-27T04:37:59Z",
    "updated_at": "2018-02-27T04:45:22Z",
    "author_association": "NONE",
    "body": "I am also using Firefox, v58.0.2 on Fedora 27. When doing as you suggest, when I first open a jupyter notebook from the terminal, I see 2 cookies. The first is named, _xsrf, domain of localhost, expires on session, a value string, httponly of false; the second has a name of username-localhost-8888, domain of localhost, expires in a month, a different value string, and httponly set to true. When I then open any .ipynb from the tree after I login (I use a password), the second cookie always disappears. \r\n\r\nMeanwhile, over in Vivaldi (based of chromium) navigating to the stored cookies, both remain. Ideas? Something to do with the httponly setting? ",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/368851398",
    "html_url": "https://github.com/jupyter/notebook/issues/3365#issuecomment-368851398",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3365",
    "id": 368851398,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODg1MTM5OA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-27T12:00:48Z",
    "updated_at": "2018-02-27T12:00:48Z",
    "author_association": "MEMBER",
    "body": "`username-localhost-8888` is our login cookie, so if that disappears, it makes sense that Jupyter would say you're unauthenticated.\r\n\r\nWe did make some changes to a method that's used to clear the login cookie (#3207). It sounds like you can reproduce the error readily, so could you try commenting out these lines in your local installation, starting a new notebook server and seeing if that makes any difference?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/368851456",
    "html_url": "https://github.com/jupyter/notebook/issues/3365#issuecomment-368851456",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3365",
    "id": 368851456,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODg1MTQ1Ng==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-27T12:00:57Z",
    "updated_at": "2018-02-27T12:00:57Z",
    "author_association": "MEMBER",
    "body": "Sorry, forgot the link. These lines:\r\n\r\nhttps://github.com/jupyter/notebook/blob/2aac713937c0487dd2193c85a69f02e9556421fe/notebook/base/handlers.py#L126-L131",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/368869795",
    "html_url": "https://github.com/jupyter/notebook/issues/3365#issuecomment-368869795",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3365",
    "id": 368869795,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODg2OTc5NQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-27T13:17:14Z",
    "updated_at": "2018-02-27T13:17:14Z",
    "author_association": "MEMBER",
    "body": "I've investigated a bit more. Do you have `base_url` set? That was one way I was able to trigger it. Do you have any Jupyter extensions enabled?\r\n\r\nOn any request which is missing the cookie, the server's response clears the cookie stored in the browser. The comments indicate that this is to prevent unnecessary warnings:\r\n\r\nhttps://github.com/jupyter/notebook/blob/2aac713937c0487dd2193c85a69f02e9556421fe/notebook/auth/login.py#L178-L179\r\n\r\nHowever, when the token is scope to a path (base_url), it's easy to make a request outside that scope which won't include the cookie. The server sees that unauthenticated request and erroneously deletes your cookie entirely.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/368876791",
    "html_url": "https://github.com/jupyter/notebook/issues/3365#issuecomment-368876791",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3365",
    "id": 368876791,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODg3Njc5MQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-27T13:37:53Z",
    "updated_at": "2018-02-27T13:37:53Z",
    "author_association": "MEMBER",
    "body": "#3380 fixes the example I could reproduce - could you try that? It's a small change, so it might be easiest to apply it manually to your local installation rather than [installing from source](http://jupyter-notebook.readthedocs.io/en/stable/contributing.html#setting-up-a-development-environment) (though of course we always welcome people installing from source).",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/368881118",
    "html_url": "https://github.com/jupyter/notebook/issues/3365#issuecomment-368881118",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3365",
    "id": 368881118,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODg4MTExOA==",
    "user": {
      "login": "SteliosStefanatos",
      "id": 18383630,
      "node_id": "MDQ6VXNlcjE4MzgzNjMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/18383630?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SteliosStefanatos",
      "html_url": "https://github.com/SteliosStefanatos",
      "followers_url": "https://api.github.com/users/SteliosStefanatos/followers",
      "following_url": "https://api.github.com/users/SteliosStefanatos/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteliosStefanatos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SteliosStefanatos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteliosStefanatos/subscriptions",
      "organizations_url": "https://api.github.com/users/SteliosStefanatos/orgs",
      "repos_url": "https://api.github.com/users/SteliosStefanatos/repos",
      "events_url": "https://api.github.com/users/SteliosStefanatos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SteliosStefanatos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-27T13:47:05Z",
    "updated_at": "2018-02-27T13:47:05Z",
    "author_association": "NONE",
    "body": "Hi,\r\n\r\nThanks a lot for looking into this!\r\n\r\nI also use Firefox v.58.0.2 and have multiple `jupyter_contrib_nbextensions` enabled, if that's of any help. Note that the issue started appearing around the time I updated the extensions with their latest release, but this may have just been a coincidence, I don't know. \r\n\r\nThe thing is that I cannot reproduce the issue on demand. It just appears randomly. Today everything seems to work fine. \r\n\r\nI am afraid I can't follow the technical details, maybe someone else can.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/368911923",
    "html_url": "https://github.com/jupyter/notebook/issues/3365#issuecomment-368911923",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3365",
    "id": 368911923,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODkxMTkyMw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-27T15:16:09Z",
    "updated_at": "2018-02-27T15:16:09Z",
    "author_association": "MEMBER",
    "body": "That's OK. How often do you see it? If it's reasonably often, you could try applying the change and using it for a few days to see if the problem reappears. If it does, the next step will be trying to figure out if any particular extension causes it.\r\n\r\nRandom issues are always the trickies to debug, so if you find any way to make it occur reliably, that's useful. You could try running the server with `--debug` to see what requests are made just before it logs you out, but there are a lot of requests going on, so it might not be all that obvious.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/368939450",
    "html_url": "https://github.com/jupyter/notebook/issues/3365#issuecomment-368939450",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3365",
    "id": 368939450,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODkzOTQ1MA==",
    "user": {
      "login": "SteliosStefanatos",
      "id": 18383630,
      "node_id": "MDQ6VXNlcjE4MzgzNjMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/18383630?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SteliosStefanatos",
      "html_url": "https://github.com/SteliosStefanatos",
      "followers_url": "https://api.github.com/users/SteliosStefanatos/followers",
      "following_url": "https://api.github.com/users/SteliosStefanatos/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteliosStefanatos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SteliosStefanatos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteliosStefanatos/subscriptions",
      "organizations_url": "https://api.github.com/users/SteliosStefanatos/orgs",
      "repos_url": "https://api.github.com/users/SteliosStefanatos/repos",
      "events_url": "https://api.github.com/users/SteliosStefanatos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SteliosStefanatos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-27T16:32:47Z",
    "updated_at": "2018-02-27T16:33:15Z",
    "author_association": "NONE",
    "body": "@takluyver \r\n\r\nAlmost every single day. There was one day I did not see it, thinking that it was \"gone\", but it returned the following day. Today it went smoothly. I will keep you posted. \r\n\r\nThanks again for your assistance!",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/368999631",
    "html_url": "https://github.com/jupyter/notebook/issues/3365#issuecomment-368999631",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3365",
    "id": 368999631,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODk5OTYzMQ==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-27T19:36:51Z",
    "updated_at": "2018-02-27T19:42:39Z",
    "author_association": "NONE",
    "body": ">  #3380 fixes the example I could reproduce - could you try that? It's a small change, so it might be easiest to apply it manually to your local installation rather than installing from source (though of course we always welcome people installing from source).\r\n\r\nGoing ahead deleting lines 178-179, and changing them to the new lines in the associated git commit in #3380, in my local install of login.py, seems to have rectified the issue for me. \r\n\r\nSpecifically, commit 61972480b9c48b41c0d5a42c100e86bdd1456740 seemingly solved the issue.\r\n\r\nI am able to open, edit and save .ipynb files without issue now. \r\n\r\nThanks for looking into it.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/369317919",
    "html_url": "https://github.com/jupyter/notebook/issues/3365#issuecomment-369317919",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3365",
    "id": 369317919,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTMxNzkxOQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-28T17:33:49Z",
    "updated_at": "2018-02-28T17:33:49Z",
    "author_association": "MEMBER",
    "body": "Thanks @BobbyTables42 for confirming that. :-)",
    "performed_via_github_app": null
  }
]
