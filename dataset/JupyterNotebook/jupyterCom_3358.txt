[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/368519979",
    "html_url": "https://github.com/jupyter/notebook/issues/3358#issuecomment-368519979",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3358",
    "id": 368519979,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODUxOTk3OQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-26T14:27:21Z",
    "updated_at": "2018-02-26T14:27:21Z",
    "author_association": "MEMBER",
    "body": "By design, untrusted notebooks cannot run code when they are loaded. They used to a few years ago, but we realised that it's a security issue: Javascript code on a notebook page can interact with the notebook server and its kernels, so it's not effectively sandboxed like Javascript code normally is.\r\n\r\nSo asking all your users to install an extension is probably the only way to do this. ",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/369540899",
    "html_url": "https://github.com/jupyter/notebook/issues/3358#issuecomment-369540899",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3358",
    "id": 369540899,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTU0MDg5OQ==",
    "user": {
      "login": "ketch",
      "id": 697763,
      "node_id": "MDQ6VXNlcjY5Nzc2Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/697763?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ketch",
      "html_url": "https://github.com/ketch",
      "followers_url": "https://api.github.com/users/ketch/followers",
      "following_url": "https://api.github.com/users/ketch/following{/other_user}",
      "gists_url": "https://api.github.com/users/ketch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ketch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ketch/subscriptions",
      "organizations_url": "https://api.github.com/users/ketch/orgs",
      "repos_url": "https://api.github.com/users/ketch/repos",
      "events_url": "https://api.github.com/users/ketch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ketch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-01T10:01:33Z",
    "updated_at": "2018-03-01T10:01:33Z",
    "author_association": "NONE",
    "body": "Thanks for your attention to this, @takluyver .  I think it's one of the major obstacles to developing a large project like a book in Jupyter.\r\n\r\nOkay, I've renamed the issue since I don't really need to execute code.  I just need to add latex macros; this can currently be accomplished by \"running\" a markdown cell, so there must not be any security issue with that.  I merely want to be able to do it through notebook metadata rather than through a markdown cell.\r\n\r\nCould you please reopen the issue?  Or should I raise a new one instead?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/369572534",
    "html_url": "https://github.com/jupyter/notebook/issues/3358#issuecomment-369572534",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3358",
    "id": 369572534,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTU3MjUzNA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-01T12:10:00Z",
    "updated_at": "2018-03-01T12:10:00Z",
    "author_association": "MEMBER",
    "body": "Can you elucidate more on what defining them in markdown cells breaks for conversion to latex with nbconvert?\r\n\r\ncc @mpacer ",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/369591747",
    "html_url": "https://github.com/jupyter/notebook/issues/3358#issuecomment-369591747",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3358",
    "id": 369591747,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTU5MTc0Nw==",
    "user": {
      "login": "ketch",
      "id": 697763,
      "node_id": "MDQ6VXNlcjY5Nzc2Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/697763?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ketch",
      "html_url": "https://github.com/ketch",
      "followers_url": "https://api.github.com/users/ketch/followers",
      "following_url": "https://api.github.com/users/ketch/following{/other_user}",
      "gists_url": "https://api.github.com/users/ketch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ketch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ketch/subscriptions",
      "organizations_url": "https://api.github.com/users/ketch/orgs",
      "repos_url": "https://api.github.com/users/ketch/repos",
      "events_url": "https://api.github.com/users/ketch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ketch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-01T13:30:42Z",
    "updated_at": "2018-03-01T13:30:42Z",
    "author_association": "NONE",
    "body": ">Can you elucidate more on what defining them in markdown cells breaks for conversion to latex with nbconvert?\r\n\r\nIn a regular latex document, one typically defines macros outside of any math environment; the macros are then in effect throughout the document.  In the jupyter notebook (though I think this is a mathjax \"feature\") one instead defines macros inside a math environment (so that the parser picks them up as a math thing, I guess) and they are somehow made to have effect throughout the notebook.\r\n\r\nWhen nbconvert converts a notebook to latex, it (naturally) leaves the macros inside a math environment.  But in the latex document, that means the macros take effect **only within that particular math environment; i.e., between the surrounding delimiters only**.\r\n\r\nThat's the main problem when dealing with a single notebook.  One may fix it manually by removing the math delimiters around sets of macros in the .tex file.  \r\n\r\nWhen dealing with a set of notebooks that will be merged into a single .tex document, the workaround just mention fails, since repeated definitions of the same macro are not allowed (and one would typically redefine certain macros in multiple notebooks).\r\n\r\nI've also tried using an nbconvert template to insert my macros, but again I get errors because the macros are redefined by the commands copied from the notebook.\r\n\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/369592720",
    "html_url": "https://github.com/jupyter/notebook/issues/3358#issuecomment-369592720",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3358",
    "id": 369592720,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTU5MjcyMA==",
    "user": {
      "login": "ketch",
      "id": 697763,
      "node_id": "MDQ6VXNlcjY5Nzc2Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/697763?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ketch",
      "html_url": "https://github.com/ketch",
      "followers_url": "https://api.github.com/users/ketch/followers",
      "following_url": "https://api.github.com/users/ketch/following{/other_user}",
      "gists_url": "https://api.github.com/users/ketch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ketch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ketch/subscriptions",
      "organizations_url": "https://api.github.com/users/ketch/orgs",
      "repos_url": "https://api.github.com/users/ketch/repos",
      "events_url": "https://api.github.com/users/ketch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ketch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-01T13:34:41Z",
    "updated_at": "2018-03-01T13:34:41Z",
    "author_association": "NONE",
    "body": "By the way, the same thing has been requested [here](https://groups.google.com/forum/#!topic/jupyter/Wlu-eS5LlTo) and (essentially) [here](https://github.com/jupyter/nbconvert/issues/312).  I strongly suspect that this is a significant issue for a fairly large number of people.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/369921994",
    "html_url": "https://github.com/jupyter/notebook/issues/3358#issuecomment-369921994",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3358",
    "id": 369921994,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTkyMTk5NA==",
    "user": {
      "login": "jfbercher",
      "id": 7596356,
      "node_id": "MDQ6VXNlcjc1OTYzNTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7596356?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jfbercher",
      "html_url": "https://github.com/jfbercher",
      "followers_url": "https://api.github.com/users/jfbercher/followers",
      "following_url": "https://api.github.com/users/jfbercher/following{/other_user}",
      "gists_url": "https://api.github.com/users/jfbercher/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jfbercher/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jfbercher/subscriptions",
      "organizations_url": "https://api.github.com/users/jfbercher/orgs",
      "repos_url": "https://api.github.com/users/jfbercher/repos",
      "events_url": "https://api.github.com/users/jfbercher/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jfbercher/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-02T13:34:49Z",
    "updated_at": "2018-03-02T13:34:49Z",
    "author_association": "NONE",
    "body": "@ketch Perhaps can you have a look at [latex_envs](https://github.com/jfbercher/jupyter_latex_envs/). \r\n\r\nFor the problem mentioned, *if I understand well*, it enables to load a user defined file `latexdefs.tex` of latex macros in live notebooks, essentially [this function](https://github.com/jfbercher/jupyter_latex_envs/blob/master/src/latex_envs/static/initNb.js#L50-L60). \r\n\r\nIt also provides a custom exporter, which directly includes the `latexdefs.tex` in the template when exporting to LaTeX, or reload the defs in \"mathjax style\" when exporting to html or html slides, using [these lines](https://github.com/jfbercher/jupyter_latex_envs/blob/master/src/latex_envs/latex_envs.py#L201-L213). ",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/370220032",
    "html_url": "https://github.com/jupyter/notebook/issues/3358#issuecomment-370220032",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3358",
    "id": 370220032,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDIyMDAzMg==",
    "user": {
      "login": "ketch",
      "id": 697763,
      "node_id": "MDQ6VXNlcjY5Nzc2Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/697763?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ketch",
      "html_url": "https://github.com/ketch",
      "followers_url": "https://api.github.com/users/ketch/followers",
      "following_url": "https://api.github.com/users/ketch/following{/other_user}",
      "gists_url": "https://api.github.com/users/ketch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ketch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ketch/subscriptions",
      "organizations_url": "https://api.github.com/users/ketch/orgs",
      "repos_url": "https://api.github.com/users/ketch/repos",
      "events_url": "https://api.github.com/users/ketch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ketch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-04T11:02:26Z",
    "updated_at": "2018-03-04T11:02:57Z",
    "author_association": "NONE",
    "body": "@jfbercher Thanks!  I had seen latex_envs, but couldn't get it to do this (and still can't).  I've installed and enabled it, and put some macros in a file call `latexdefs.tex` (which I've tried copying to various directories, but to no avail.  Looking through the source code for the extension, I don't see where this function gets called.  I also can't find any mention of it in the various versions of the documentation for latex_envs.  Do you know how to get it to work?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/370222305",
    "html_url": "https://github.com/jupyter/notebook/issues/3358#issuecomment-370222305",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3358",
    "id": 370222305,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDIyMjMwNQ==",
    "user": {
      "login": "jfbercher",
      "id": 7596356,
      "node_id": "MDQ6VXNlcjc1OTYzNTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7596356?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jfbercher",
      "html_url": "https://github.com/jfbercher",
      "followers_url": "https://api.github.com/users/jfbercher/followers",
      "following_url": "https://api.github.com/users/jfbercher/following{/other_user}",
      "gists_url": "https://api.github.com/users/jfbercher/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jfbercher/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jfbercher/subscriptions",
      "organizations_url": "https://api.github.com/users/jfbercher/orgs",
      "repos_url": "https://api.github.com/users/jfbercher/repos",
      "events_url": "https://api.github.com/users/jfbercher/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jfbercher/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-04T11:40:48Z",
    "updated_at": "2018-03-04T11:40:48Z",
    "author_association": "NONE",
    "body": "This is mentioned [here](https://rawgit.com/jfbercher/jupyter_latex_envs/master/src/latex_envs/static/doc/latex_env_doc.html#Configuration-toolbar) in the doc -- Yes, there are lot of things and it could be indicated better. The function in called in [initNb.js](https://github.com/jfbercher/jupyter_latex_envs/blob/master/src/latex_envs/static/initNb.js#L50-L60) where the various options are defined/updated. \r\n\r\nYou have to push the wrench on the main toolbar to show the latex configuration toolbar. Then toggle on \"LaTeX user definitions\" (it is off by default). The file must reside in the same directory as the notebook. \r\n\r\n![image](https://user-images.githubusercontent.com/7596356/36945047-5e99d490-1fa8-11e8-955c-de32d47d7bf7.png)\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/370229256",
    "html_url": "https://github.com/jupyter/notebook/issues/3358#issuecomment-370229256",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3358",
    "id": 370229256,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDIyOTI1Ng==",
    "user": {
      "login": "ketch",
      "id": 697763,
      "node_id": "MDQ6VXNlcjY5Nzc2Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/697763?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ketch",
      "html_url": "https://github.com/ketch",
      "followers_url": "https://api.github.com/users/ketch/followers",
      "following_url": "https://api.github.com/users/ketch/following{/other_user}",
      "gists_url": "https://api.github.com/users/ketch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ketch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ketch/subscriptions",
      "organizations_url": "https://api.github.com/users/ketch/orgs",
      "repos_url": "https://api.github.com/users/ketch/repos",
      "events_url": "https://api.github.com/users/ketch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ketch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-04T13:25:47Z",
    "updated_at": "2018-03-04T13:25:47Z",
    "author_association": "NONE",
    "body": "Thanks, that worked!\r\n\r\nI don't think this solves the issue that I have, though:\r\n\r\n- It looks like the user will need to manually enable the macros (using the \"Toggles\" menu) for each notebook.  Is that correct?\r\n- After al the math is rendered correctly, If I save the notebook, close it, and reopen it, the macros do not render unless I manually trigger the math to be re-rendered.\r\n- The latex_env extension seems to invoke Mathjax a huge number of times.  At least, when I open a notebook with it enabled, it takes >10s to finish rendering all the math, and in the meantime there is a lot of flickering as it changes what appears in the places where there is math.  This is repeated when re-rendering math.\r\n\r\nPerhaps I can extract just the `loadlatexuserdefs` function to have something more lightweight that does what I need.  Would that be okay with you, @jfbercher ?  And do you know if there is a way to have the notebook automatically run that function when loading?\r\n\r\nThanks so much for your help.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/370229446",
    "html_url": "https://github.com/jupyter/notebook/issues/3358#issuecomment-370229446",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3358",
    "id": 370229446,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDIyOTQ0Ng==",
    "user": {
      "login": "ketch",
      "id": 697763,
      "node_id": "MDQ6VXNlcjY5Nzc2Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/697763?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ketch",
      "html_url": "https://github.com/ketch",
      "followers_url": "https://api.github.com/users/ketch/followers",
      "following_url": "https://api.github.com/users/ketch/following{/other_user}",
      "gists_url": "https://api.github.com/users/ketch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ketch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ketch/subscriptions",
      "organizations_url": "https://api.github.com/users/ketch/orgs",
      "repos_url": "https://api.github.com/users/ketch/repos",
      "events_url": "https://api.github.com/users/ketch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ketch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-04T13:29:03Z",
    "updated_at": "2018-03-05T05:18:45Z",
    "author_association": "NONE",
    "body": "Also, I notice that the `latex_env` extension causes a lot of my math to not get rendered properly at all (it seems to be getting rendered as markdown instead).  Is this a known issue?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/370238391",
    "html_url": "https://github.com/jupyter/notebook/issues/3358#issuecomment-370238391",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3358",
    "id": 370238391,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDIzODM5MQ==",
    "user": {
      "login": "jfbercher",
      "id": 7596356,
      "node_id": "MDQ6VXNlcjc1OTYzNTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7596356?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jfbercher",
      "html_url": "https://github.com/jfbercher",
      "followers_url": "https://api.github.com/users/jfbercher/followers",
      "following_url": "https://api.github.com/users/jfbercher/following{/other_user}",
      "gists_url": "https://api.github.com/users/jfbercher/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jfbercher/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jfbercher/subscriptions",
      "organizations_url": "https://api.github.com/users/jfbercher/orgs",
      "repos_url": "https://api.github.com/users/jfbercher/repos",
      "events_url": "https://api.github.com/users/jfbercher/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jfbercher/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-04T15:36:23Z",
    "updated_at": "2018-03-04T15:57:36Z",
    "author_association": "NONE",
    "body": "> -  It looks like the user will need to manually enable the macros (using the \"Toggles\" menu) for each notebook. Is that correct?\r\n\r\nYes.\r\n\r\n> After al the math is rendered correctly, If I save the notebook, close it, and reopen it, the macros do not render unless I manually trigger the math to be re-rendered.\r\n\r\nThis is not normal. The macros are automatically reloaded once they have been defined (the state is saved in the notebook's metadata). You shouldn't have to manually retrigger rendering, this is done automatically.   \r\n\r\n> The latex_env extension seems to invoke Mathjax a huge number of times. At least, when I open a notebook with it enabled, it takes >10s to finish rendering all the math, and in the meantime there is a lot of flickering as it changes what appears in the places where there is math. This is repeated when re-rendering math.\r\n\r\nThat is the price to pay to have all equations, environments like theorems, definitions, remaks, etc automatically numbered document-wide. 10s is really huge though. \r\nThere is usually a small overload at loading, but not that important! Connected to the fact that not all your maths are rendered (your last comment), I think that your notebook might be very big (is it?) and you may experiment a bug in the notebook itself, cf https://github.com/jupyter/notebook/issues/2075\r\n\r\n> Perhaps I can extract just the loadlatexuserdefs function to have something more lightweight that does what I need. Would that be okay with you, @jfbercher ? And do you know if there is a way to have the notebook automatically run that function when loading?\r\n\r\nyes, no problem. \r\nThis is easy to do: essentially the nbextension could be something like (haven't tried it)\r\n```\r\ndefine(function(require, exports, module) {\r\n    var Jupyter = require('base/js/namespace');\r\n\r\nfunction loadLatexUserDefs() { ...}\r\n\r\nfunction rerenderMaths() { // probably something like that\r\n        MathJax.Hub.Queue(\r\n          [\"PreProcess\", MathJax.Hub], [\"Reprocess\", MathJax.Hub]\r\n        );\r\n}\r\n\r\nfunction load_ipython_extension() {\r\n     \"use strict\";\r\n   \r\n    if (Jupyter.notebook._fully_loaded) {  \r\n        loadLatexUserDefs();       \r\n        rerenderMaths(); \r\n    } else {\r\n        $([Jupyter.events]).on(\"notebook_loaded.Notebook\", function() {\r\n                   loadLatexUserDefs();   \r\n                  rerenderMaths();  \r\n        })\r\n    }\r\nreturn {\r\n        load_ipython_extension: load_ipython_extension,\r\n    };\r\n})\r\n```\r\nIf/when it works, you may upload it to https://github.com/ipython-contrib/jupyter_contrib_nbextensions/..\r\n\r\nIf you need to continue the discussion, may be [here](https://github.com/jfbercher/jupyter_latex_envs/issues=?)?\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/370321871",
    "html_url": "https://github.com/jupyter/notebook/issues/3358#issuecomment-370321871",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3358",
    "id": 370321871,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDMyMTg3MQ==",
    "user": {
      "login": "ketch",
      "id": 697763,
      "node_id": "MDQ6VXNlcjY5Nzc2Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/697763?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ketch",
      "html_url": "https://github.com/ketch",
      "followers_url": "https://api.github.com/users/ketch/followers",
      "following_url": "https://api.github.com/users/ketch/following{/other_user}",
      "gists_url": "https://api.github.com/users/ketch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ketch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ketch/subscriptions",
      "organizations_url": "https://api.github.com/users/ketch/orgs",
      "repos_url": "https://api.github.com/users/ketch/repos",
      "events_url": "https://api.github.com/users/ketch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ketch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-05T06:26:14Z",
    "updated_at": "2018-03-05T06:26:14Z",
    "author_association": "NONE",
    "body": "Thanks for the help, @jfbercher !  I've posted a PR to nbextensions, and this issue is resolved.",
    "performed_via_github_app": null
  }
]
