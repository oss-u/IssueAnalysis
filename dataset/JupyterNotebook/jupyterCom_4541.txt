[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/479953369",
    "html_url": "https://github.com/jupyter/notebook/issues/4541#issuecomment-479953369",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4541",
    "id": 479953369,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3OTk1MzM2OQ==",
    "user": {
      "login": "ThewBear",
      "id": 26767607,
      "node_id": "MDQ6VXNlcjI2NzY3NjA3",
      "avatar_url": "https://avatars.githubusercontent.com/u/26767607?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ThewBear",
      "html_url": "https://github.com/ThewBear",
      "followers_url": "https://api.github.com/users/ThewBear/followers",
      "following_url": "https://api.github.com/users/ThewBear/following{/other_user}",
      "gists_url": "https://api.github.com/users/ThewBear/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ThewBear/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ThewBear/subscriptions",
      "organizations_url": "https://api.github.com/users/ThewBear/orgs",
      "repos_url": "https://api.github.com/users/ThewBear/repos",
      "events_url": "https://api.github.com/users/ThewBear/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ThewBear/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-04T15:47:03Z",
    "updated_at": "2019-04-04T15:47:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think it's come from https://github.com/jupyter/notebook/blob/9560e0cf4c3a3612f7e0f869035e7e3eeb5853a0/notebook/base/handlers.py#L446-L466",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/495161189",
    "html_url": "https://github.com/jupyter/notebook/issues/4541#issuecomment-495161189",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4541",
    "id": 495161189,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NTE2MTE4OQ==",
    "user": {
      "login": "sangramga",
      "id": 9406431,
      "node_id": "MDQ6VXNlcjk0MDY0MzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9406431?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sangramga",
      "html_url": "https://github.com/sangramga",
      "followers_url": "https://api.github.com/users/sangramga/followers",
      "following_url": "https://api.github.com/users/sangramga/following{/other_user}",
      "gists_url": "https://api.github.com/users/sangramga/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sangramga/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sangramga/subscriptions",
      "organizations_url": "https://api.github.com/users/sangramga/orgs",
      "repos_url": "https://api.github.com/users/sangramga/repos",
      "events_url": "https://api.github.com/users/sangramga/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sangramga/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-23T10:23:58Z",
    "updated_at": "2019-05-23T10:23:58Z",
    "author_association": "NONE",
    "body": "@minrk I am facing the same issue on Chrome and Firefox. Any way around this?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/495488994",
    "html_url": "https://github.com/jupyter/notebook/issues/4541#issuecomment-495488994",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4541",
    "id": 495488994,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NTQ4ODk5NA==",
    "user": {
      "login": "sangramga",
      "id": 9406431,
      "node_id": "MDQ6VXNlcjk0MDY0MzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9406431?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sangramga",
      "html_url": "https://github.com/sangramga",
      "followers_url": "https://api.github.com/users/sangramga/followers",
      "following_url": "https://api.github.com/users/sangramga/following{/other_user}",
      "gists_url": "https://api.github.com/users/sangramga/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sangramga/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sangramga/subscriptions",
      "organizations_url": "https://api.github.com/users/sangramga/orgs",
      "repos_url": "https://api.github.com/users/sangramga/repos",
      "events_url": "https://api.github.com/users/sangramga/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sangramga/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-24T06:28:49Z",
    "updated_at": "2019-05-24T06:45:15Z",
    "author_association": "NONE",
    "body": "The same issue can be reproduced (On all chrome and firefox browsers) when jupyterhub is hosted behind a Nginx reverse proxy on domain \"https://test.domain.com\" and internal IP where jupyterhub and notebooks are hosted is 10.0.0.128:8000. And Notebook Servers are spawned in dockers.\r\n\r\nHere the <b>Referer: https://test.domain.com </b>and <b>Host: 10.0.0.128:8000 </b>\r\nWhen I try to download a file from the Single user Notebook Server - I get the follwoing Error logs:\r\n\r\n```\r\n[W 2019-05-24 05:14:56.119 SingleUserNotebookApp handlers:442] Blocking Cross Origin request for /ns/user/user1/files/sampleDlsdata.csv.  Referer: https://test.domain.com, Host: 10.0.0.128:8000\r\n\r\n[W 2019-05-24 05:14:56.120 SingleUserNotebookApp web:1667] 403 GET /ns/user/user1/files/sampleDlsdata.csv?download=1 (::ffff:10.0.0.109): Block\r\ning Cross Origin request from https://test.domain.com/ns/user/user1/tree.\r\n\r\n[D 2019-05-24 05:14:56.120 SingleUserNotebookApp handlers:260] Using contents: services/contents\r\n[D 2019-05-24 05:14:56.120 SingleUserNotebookApp handlers:260] Using contents: services/contents\r\n\r\n[W 2019-05-24 05:14:56.125 SingleUserNotebookApp log:122] 403 GET /ns/user/user1/files/sampleDlsdata.csv?download=1 (tenant1admin@::ffff:10.0.0\r\n.109) 6.55ms\r\n```\r\nThis may be caused due to `check_xsrf_cookie()` in `notebook/files/handlers.py` in this commit d7becafd593c2958d8a241928412ddf4ba801a42 as mentioned by @TheBear44 . \r\n\r\nAlso this commit 7f7bfeefc08568aacd626438e22a6361aa57223a which mentions that **/files/ must  be downloaded from the same host - which is not possible when running jupyter notebook behind a reverse proxy.**  Also `NotebookApp.allow_origin = \"*\"` also has no effect on `check_referer()` method, since it checks **`self.allow_origin == origin`**",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/495548176",
    "html_url": "https://github.com/jupyter/notebook/issues/4541#issuecomment-495548176",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4541",
    "id": 495548176,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NTU0ODE3Ng==",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-24T09:47:14Z",
    "updated_at": "2019-05-24T09:47:14Z",
    "author_association": "MEMBER",
    "body": "> /files/ must be downloaded from the same host - which is not possible when running jupyter notebook behind a reverse proxy. \r\n\r\nThis statement is not correct. All JupyterHub deployments are run behind a reverse proxy and do not have an issue. The reverse proxy, however, should preserve the Host header of the proxied request, not modify it.\r\n\r\nSetting `allow_origin = *` is an extremely insecure way to avoid this issue, since it opens up your deployment to cross-origin scripting (there's a reason for this check!). Preserving the Host header in the proxy properly is the right fix for this, not disabling security features.\r\n\r\nIn nginx, this is:\r\n\r\n```\r\nproxy_set_header Host $host\r\n```\r\n\r\nIn Apache:\r\n\r\n```\r\nProxyPreserveHost On\r\n```",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/511791045",
    "html_url": "https://github.com/jupyter/notebook/issues/4541#issuecomment-511791045",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4541",
    "id": 511791045,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMTc5MTA0NQ==",
    "user": {
      "login": "rubenanapu",
      "id": 30424797,
      "node_id": "MDQ6VXNlcjMwNDI0Nzk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/30424797?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rubenanapu",
      "html_url": "https://github.com/rubenanapu",
      "followers_url": "https://api.github.com/users/rubenanapu/followers",
      "following_url": "https://api.github.com/users/rubenanapu/following{/other_user}",
      "gists_url": "https://api.github.com/users/rubenanapu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rubenanapu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rubenanapu/subscriptions",
      "organizations_url": "https://api.github.com/users/rubenanapu/orgs",
      "repos_url": "https://api.github.com/users/rubenanapu/repos",
      "events_url": "https://api.github.com/users/rubenanapu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rubenanapu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-16T12:16:24Z",
    "updated_at": "2019-07-16T12:20:15Z",
    "author_association": "NONE",
    "body": "I still keep getting this error on `nginx`\r\n\r\nThe important error messages are:\r\n```\r\n[W 12:12:41.989 NotebookApp] Blocking request with no referer\r\n[W 12:12:41.989 NotebookApp] 403 GET /jupyter/files/img/cafe1.png (172.18.0.1): Blocking request from unknown origin\r\n...\r\n403 GET /jupyter/files/img/cafe1.png (172.18.0.1) 23.27ms referer=None\r\n```\r\n\r\non the `Nginx` settings I have:\r\n```\r\nlocation /jupyter {\r\n        add_header 'Access-Control-Allow-Origin' '*';\r\n        proxy_pass http://localhost:11317/jupyter;\r\n        proxy_set_header Host $host;\r\n    }\r\n``` \r\nI already restarted Jupyter Docker and nginx.\r\nI tried also tried loading the image on an `incognito` browser tab, but no success yet.\r\n\r\nI even have the settings below on `jupyter_notebook_config.py`\r\n```\r\nc.NotebookApp.allow_origin = '*' \r\n\r\nc.NotebookApp.token = ''\r\nc.NotebookApp.allow_remote_access = True\r\n```\r\nI tested using  `Chrome` and `Firefox`.\r\n\r\nDoes anybody know how to make that work with the settings I provided here?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/511796760",
    "html_url": "https://github.com/jupyter/notebook/issues/4541#issuecomment-511796760",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4541",
    "id": 511796760,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMTc5Njc2MA==",
    "user": {
      "login": "rubenanapu",
      "id": 30424797,
      "node_id": "MDQ6VXNlcjMwNDI0Nzk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/30424797?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rubenanapu",
      "html_url": "https://github.com/rubenanapu",
      "followers_url": "https://api.github.com/users/rubenanapu/followers",
      "following_url": "https://api.github.com/users/rubenanapu/following{/other_user}",
      "gists_url": "https://api.github.com/users/rubenanapu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rubenanapu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rubenanapu/subscriptions",
      "organizations_url": "https://api.github.com/users/rubenanapu/orgs",
      "repos_url": "https://api.github.com/users/rubenanapu/repos",
      "events_url": "https://api.github.com/users/rubenanapu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rubenanapu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-16T12:34:19Z",
    "updated_at": "2019-07-16T12:34:19Z",
    "author_association": "NONE",
    "body": "Ok, I could bypass the problem by installing `Anaconda3-2018.12-Linux-x86_64.sh` instead of `Anaconda3-2019.03-Linux-x86_64.sh`.\r\n\r\nThe latter was the one giving this error.\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/522713214",
    "html_url": "https://github.com/jupyter/notebook/issues/4541#issuecomment-522713214",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4541",
    "id": 522713214,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMjcxMzIxNA==",
    "user": {
      "login": "lmeyerov",
      "id": 4249447,
      "node_id": "MDQ6VXNlcjQyNDk0NDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4249447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lmeyerov",
      "html_url": "https://github.com/lmeyerov",
      "followers_url": "https://api.github.com/users/lmeyerov/followers",
      "following_url": "https://api.github.com/users/lmeyerov/following{/other_user}",
      "gists_url": "https://api.github.com/users/lmeyerov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lmeyerov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lmeyerov/subscriptions",
      "organizations_url": "https://api.github.com/users/lmeyerov/orgs",
      "repos_url": "https://api.github.com/users/lmeyerov/repos",
      "events_url": "https://api.github.com/users/lmeyerov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lmeyerov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-19T19:06:41Z",
    "updated_at": "2019-08-19T19:06:41Z",
    "author_association": "NONE",
    "body": "Just got hit by this as well, unclear why. We already have `Host` for nginx and conda ~latest (via https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh). ",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/522718274",
    "html_url": "https://github.com/jupyter/notebook/issues/4541#issuecomment-522718274",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4541",
    "id": 522718274,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMjcxODI3NA==",
    "user": {
      "login": "lmeyerov",
      "id": 4249447,
      "node_id": "MDQ6VXNlcjQyNDk0NDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4249447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lmeyerov",
      "html_url": "https://github.com/lmeyerov",
      "followers_url": "https://api.github.com/users/lmeyerov/followers",
      "following_url": "https://api.github.com/users/lmeyerov/following{/other_user}",
      "gists_url": "https://api.github.com/users/lmeyerov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lmeyerov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lmeyerov/subscriptions",
      "organizations_url": "https://api.github.com/users/lmeyerov/orgs",
      "repos_url": "https://api.github.com/users/lmeyerov/repos",
      "events_url": "https://api.github.com/users/lmeyerov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lmeyerov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-19T19:21:47Z",
    "updated_at": "2019-08-19T19:21:47Z",
    "author_association": "NONE",
    "body": "Further info: download `.py` path works as expected, but not `.ipynb` ",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/525237914",
    "html_url": "https://github.com/jupyter/notebook/issues/4541#issuecomment-525237914",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4541",
    "id": 525237914,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNTIzNzkxNA==",
    "user": {
      "login": "alisdt",
      "id": 3340195,
      "node_id": "MDQ6VXNlcjMzNDAxOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3340195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alisdt",
      "html_url": "https://github.com/alisdt",
      "followers_url": "https://api.github.com/users/alisdt/followers",
      "following_url": "https://api.github.com/users/alisdt/following{/other_user}",
      "gists_url": "https://api.github.com/users/alisdt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alisdt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alisdt/subscriptions",
      "organizations_url": "https://api.github.com/users/alisdt/orgs",
      "repos_url": "https://api.github.com/users/alisdt/repos",
      "events_url": "https://api.github.com/users/alisdt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alisdt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-27T10:17:09Z",
    "updated_at": "2019-08-27T10:17:09Z",
    "author_association": "NONE",
    "body": "Our JupyterHub deployment is affected by this. Setting\r\n```\r\nProxyPreserveHost On\r\n```\r\nin the Apache config doesn't work, the head of the main Jupyter page appears but there's no file list. There are other \"Blocking Cross Origin API request\" errors in the JupyterHub log so I presume this has broken things elsewhere.\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/525437792",
    "html_url": "https://github.com/jupyter/notebook/issues/4541#issuecomment-525437792",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4541",
    "id": 525437792,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNTQzNzc5Mg==",
    "user": {
      "login": "lmeyerov",
      "id": 4249447,
      "node_id": "MDQ6VXNlcjQyNDk0NDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4249447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lmeyerov",
      "html_url": "https://github.com/lmeyerov",
      "followers_url": "https://api.github.com/users/lmeyerov/followers",
      "following_url": "https://api.github.com/users/lmeyerov/following{/other_user}",
      "gists_url": "https://api.github.com/users/lmeyerov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lmeyerov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lmeyerov/subscriptions",
      "organizations_url": "https://api.github.com/users/lmeyerov/orgs",
      "repos_url": "https://api.github.com/users/lmeyerov/repos",
      "events_url": "https://api.github.com/users/lmeyerov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lmeyerov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-27T18:57:30Z",
    "updated_at": "2019-08-27T18:57:30Z",
    "author_association": "NONE",
    "body": "Likely same issue: https://github.com/jupyterlab/jupyterlab/issues/6149 ",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/525875039",
    "html_url": "https://github.com/jupyter/notebook/issues/4541#issuecomment-525875039",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4541",
    "id": 525875039,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNTg3NTAzOQ==",
    "user": {
      "login": "lmeyerov",
      "id": 4249447,
      "node_id": "MDQ6VXNlcjQyNDk0NDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4249447?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lmeyerov",
      "html_url": "https://github.com/lmeyerov",
      "followers_url": "https://api.github.com/users/lmeyerov/followers",
      "following_url": "https://api.github.com/users/lmeyerov/following{/other_user}",
      "gists_url": "https://api.github.com/users/lmeyerov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lmeyerov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lmeyerov/subscriptions",
      "organizations_url": "https://api.github.com/users/lmeyerov/orgs",
      "repos_url": "https://api.github.com/users/lmeyerov/repos",
      "events_url": "https://api.github.com/users/lmeyerov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lmeyerov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-28T18:50:34Z",
    "updated_at": "2019-08-28T18:50:34Z",
    "author_association": "NONE",
    "body": "Confirmed downgrading to 5.7.5 fixes this issue. (We're blocked on other Jupyter bugs for upgrading beyond it.)",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/531198924",
    "html_url": "https://github.com/jupyter/notebook/issues/4541#issuecomment-531198924",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4541",
    "id": 531198924,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMTE5ODkyNA==",
    "user": {
      "login": "raimundomartins",
      "id": 4508664,
      "node_id": "MDQ6VXNlcjQ1MDg2NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4508664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/raimundomartins",
      "html_url": "https://github.com/raimundomartins",
      "followers_url": "https://api.github.com/users/raimundomartins/followers",
      "following_url": "https://api.github.com/users/raimundomartins/following{/other_user}",
      "gists_url": "https://api.github.com/users/raimundomartins/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/raimundomartins/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/raimundomartins/subscriptions",
      "organizations_url": "https://api.github.com/users/raimundomartins/orgs",
      "repos_url": "https://api.github.com/users/raimundomartins/repos",
      "events_url": "https://api.github.com/users/raimundomartins/events{/privacy}",
      "received_events_url": "https://api.github.com/users/raimundomartins/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-13T11:18:35Z",
    "updated_at": "2019-09-13T11:18:35Z",
    "author_association": "NONE",
    "body": "I was having the same issue on `jupyter-notebook : 6.0.0` and was able to fix it by adding `proxy_set_header Host $host;` to my nginx conf. Previously it was `proxy_set_header Host https://localhost;` due to some \"tutorial\".\r\nI am not aware of the security implications of this (hope they are none) nor if this is a real solution, but it certainly solved my problem.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/625632014",
    "html_url": "https://github.com/jupyter/notebook/issues/4541#issuecomment-625632014",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4541",
    "id": 625632014,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyNTYzMjAxNA==",
    "user": {
      "login": "prusswan",
      "id": 671970,
      "node_id": "MDQ6VXNlcjY3MTk3MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/671970?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prusswan",
      "html_url": "https://github.com/prusswan",
      "followers_url": "https://api.github.com/users/prusswan/followers",
      "following_url": "https://api.github.com/users/prusswan/following{/other_user}",
      "gists_url": "https://api.github.com/users/prusswan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prusswan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prusswan/subscriptions",
      "organizations_url": "https://api.github.com/users/prusswan/orgs",
      "repos_url": "https://api.github.com/users/prusswan/repos",
      "events_url": "https://api.github.com/users/prusswan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prusswan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-08T05:03:52Z",
    "updated_at": "2020-05-08T08:02:19Z",
    "author_association": "NONE",
    "body": "I had this issue with Jupyter notebook 6.0.3. On top of Host header, I had to set Referer and CORS as well:\r\n\r\n```\r\n proxy_set_header  Referer  http://$host;\r\n add_header 'Access-Control-Allow-Origin' \"$http_origin\";\r\n```",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/727216201",
    "html_url": "https://github.com/jupyter/notebook/issues/4541#issuecomment-727216201",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4541",
    "id": 727216201,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNzIxNjIwMQ==",
    "user": {
      "login": "smcl",
      "id": 510566,
      "node_id": "MDQ6VXNlcjUxMDU2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/510566?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smcl",
      "html_url": "https://github.com/smcl",
      "followers_url": "https://api.github.com/users/smcl/followers",
      "following_url": "https://api.github.com/users/smcl/following{/other_user}",
      "gists_url": "https://api.github.com/users/smcl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smcl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smcl/subscriptions",
      "organizations_url": "https://api.github.com/users/smcl/orgs",
      "repos_url": "https://api.github.com/users/smcl/repos",
      "events_url": "https://api.github.com/users/smcl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smcl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-14T14:36:45Z",
    "updated_at": "2020-11-14T14:36:45Z",
    "author_association": "NONE",
    "body": "Just adding what _my_ solution was - I was seeing this 403 error being thrown by Jupyter even though I had set correctly (even `NotebookApp.allow_origin = \"*\"` wasn't working). After a lot of headscratching I looked more closely at the log file entries I was seeing:\r\n\r\n    Nov 14 14:03:35 aviemore jupyter[9021]: [W 14:03:35.684 NotebookApp] Blocking Cross Origin request for /files/testimage.png.  Referer: https://foo.example.com, Host: foo.example.com,foo.example.com\r\n\r\nNotice how the value of the `Host` header is `foo.example.com,foo.example.com`? This is wrong - what's happened is that I run Jupyter behind nginx as a reverse proxy and I accidentally included _two_ instances of the line `proxy_set_header Host $host;` What I needed to do was just remove one of the duplicate entries.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/750886126",
    "html_url": "https://github.com/jupyter/notebook/issues/4541#issuecomment-750886126",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4541",
    "id": 750886126,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1MDg4NjEyNg==",
    "user": {
      "login": "jakubLangr",
      "id": 1884004,
      "node_id": "MDQ6VXNlcjE4ODQwMDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1884004?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubLangr",
      "html_url": "https://github.com/jakubLangr",
      "followers_url": "https://api.github.com/users/jakubLangr/followers",
      "following_url": "https://api.github.com/users/jakubLangr/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubLangr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubLangr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubLangr/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubLangr/orgs",
      "repos_url": "https://api.github.com/users/jakubLangr/repos",
      "events_url": "https://api.github.com/users/jakubLangr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubLangr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-24T13:40:10Z",
    "updated_at": "2020-12-24T13:40:10Z",
    "author_association": "NONE",
    "body": "Hello, I have been thru this and (https://github.com/jupyter/jupyter/issues/79) as well as the jupyter forums not being able to find out what to do to fix it. Running this as `jupyter notebook --NotebookApp.allow_origin=*` I vaguely remember working in the past. Am I doing it wrong or is there another reason for why I am getting my images as 302?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/750896886",
    "html_url": "https://github.com/jupyter/notebook/issues/4541#issuecomment-750896886",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4541",
    "id": 750896886,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1MDg5Njg4Ng==",
    "user": {
      "login": "smcl",
      "id": 510566,
      "node_id": "MDQ6VXNlcjUxMDU2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/510566?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smcl",
      "html_url": "https://github.com/smcl",
      "followers_url": "https://api.github.com/users/smcl/followers",
      "following_url": "https://api.github.com/users/smcl/following{/other_user}",
      "gists_url": "https://api.github.com/users/smcl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smcl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smcl/subscriptions",
      "organizations_url": "https://api.github.com/users/smcl/orgs",
      "repos_url": "https://api.github.com/users/smcl/repos",
      "events_url": "https://api.github.com/users/smcl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smcl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-24T14:24:36Z",
    "updated_at": "2020-12-24T14:24:36Z",
    "author_association": "NONE",
    "body": "@jakubLangr what log entries do you see for the failing requests? Are you running it standalone or behind nginx?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/750907905",
    "html_url": "https://github.com/jupyter/notebook/issues/4541#issuecomment-750907905",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4541",
    "id": 750907905,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1MDkwNzkwNQ==",
    "user": {
      "login": "jakubLangr",
      "id": 1884004,
      "node_id": "MDQ6VXNlcjE4ODQwMDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1884004?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubLangr",
      "html_url": "https://github.com/jakubLangr",
      "followers_url": "https://api.github.com/users/jakubLangr/followers",
      "following_url": "https://api.github.com/users/jakubLangr/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubLangr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubLangr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubLangr/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubLangr/orgs",
      "repos_url": "https://api.github.com/users/jakubLangr/repos",
      "events_url": "https://api.github.com/users/jakubLangr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubLangr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-24T15:13:15Z",
    "updated_at": "2020-12-24T15:13:15Z",
    "author_association": "NONE",
    "body": "@smcl in the CLI I only see:\r\n`[I 13:37:27.089 NotebookApp] 302 GET /files/web/images/epoch002_rec_B.png (127.0.0.1) 0.51ms` I am running just standalone, but running it remotely and tunneling in via SSH.",
    "performed_via_github_app": null
  }
]
