[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/327701131",
    "html_url": "https://github.com/jupyter/notebook/issues/2833#issuecomment-327701131",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2833",
    "id": 327701131,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzcwMTEzMQ==",
    "user": {
      "login": "rlamorea",
      "id": 3486207,
      "node_id": "MDQ6VXNlcjM0ODYyMDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3486207?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rlamorea",
      "html_url": "https://github.com/rlamorea",
      "followers_url": "https://api.github.com/users/rlamorea/followers",
      "following_url": "https://api.github.com/users/rlamorea/following{/other_user}",
      "gists_url": "https://api.github.com/users/rlamorea/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rlamorea/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rlamorea/subscriptions",
      "organizations_url": "https://api.github.com/users/rlamorea/orgs",
      "repos_url": "https://api.github.com/users/rlamorea/repos",
      "events_url": "https://api.github.com/users/rlamorea/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rlamorea/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-07T06:34:54Z",
    "updated_at": "2017-09-07T06:38:03Z",
    "author_association": "NONE",
    "body": "I'm fairly certain the `'NoneType' object has no attribute 'session'` is coming from the Comm not having a kernel member.\r\n\r\nHere's the stack trace from my simple test kernel (it crashes on the `Comm.send` call):\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/runpy.py\", line 174, in _run_module_as_main\r\n    \"__main__\", fname, loader, pkg_name)\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/runpy.py\", line 72, in _run_code\r\n    exec code in run_globals\r\n  File \"/Users/rick-ubix/Projects/Ubix/ubixlabs/ui/ux-frame/jupyter/echokernel.py\", line 53, in <module>\r\n    IPKernelApp.launch_instance(kernel_class=EchoKernel)\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/traitlets/config/application.py\", line 657, in launch_instance\r\n    app.initialize(argv)\r\n  File \"<decorator-gen-121>\", line 2, in initialize\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/traitlets/config/application.py\", line 87, in catch_config_error\r\n    return method(app, *args, **kwargs)\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/ipykernel/kernelapp.py\", line 457, in initialize\r\n    self.init_kernel()\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/ipykernel/kernelapp.py\", line 368, in init_kernel\r\n    user_ns=self.user_ns,\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/traitlets/config/configurable.py\", line 412, in instance\r\n    inst = cls(*args, **kwargs)\r\n  File \"/Users/rick-ubix/Projects/Ubix/ubixlabs/ui/ux-frame/jupyter/echokernel.py\", line 21, in __init__\r\n    self.tokenComm.send('gimmeToken')\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/ipykernel/comm/comm.py\", line 121, in send\r\n    data=data, metadata=metadata, buffers=buffers,\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/ipykernel/comm/comm.py\", line 66, in _publish_msg\r\n    self.kernel.session.send(self.kernel.iopub_socket, msg_type,\r\nAttributeError: 'NoneType' object has no attribute 'session'\r\n```",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/328465694",
    "html_url": "https://github.com/jupyter/notebook/issues/2833#issuecomment-328465694",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2833",
    "id": 328465694,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODQ2NTY5NA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-11T08:59:52Z",
    "updated_at": "2017-09-11T08:59:52Z",
    "author_association": "MEMBER",
    "body": "Can you show the full bit of code you're running?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/328466573",
    "html_url": "https://github.com/jupyter/notebook/issues/2833#issuecomment-328466573",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2833",
    "id": 328466573,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODQ2NjU3Mw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-11T09:03:05Z",
    "updated_at": "2017-09-11T09:03:05Z",
    "author_association": "MEMBER",
    "body": "Actually, I think I see the issue. You're trying to use a comm in the `__init__` method of the Kernel subclass. The kernel needs to be fully initialised before using comms, so you need to experiment with comms somewhere else in the code.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/328568806",
    "html_url": "https://github.com/jupyter/notebook/issues/2833#issuecomment-328568806",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2833",
    "id": 328568806,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODU2ODgwNg==",
    "user": {
      "login": "ubixadmin",
      "id": 14791846,
      "node_id": "MDQ6VXNlcjE0NzkxODQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/14791846?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ubixadmin",
      "html_url": "https://github.com/ubixadmin",
      "followers_url": "https://api.github.com/users/ubixadmin/followers",
      "following_url": "https://api.github.com/users/ubixadmin/following{/other_user}",
      "gists_url": "https://api.github.com/users/ubixadmin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ubixadmin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ubixadmin/subscriptions",
      "organizations_url": "https://api.github.com/users/ubixadmin/orgs",
      "repos_url": "https://api.github.com/users/ubixadmin/repos",
      "events_url": "https://api.github.com/users/ubixadmin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ubixadmin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-11T15:37:53Z",
    "updated_at": "2017-09-11T15:37:53Z",
    "author_association": "NONE",
    "body": "FWIW: The stack trace was from one part of the experiment where I was trying it in `__init__`.  I also tried it in the class definition (which, I'm guessing, is basically the same thing), and inside the `do_execute` and still got similar errors.\r\n\r\nWhich, I guess, is my point.  The snippet in the doc doesn't really help if there isn't context for when the Comm can be created and used, especially as there are clearly places where it _can't_ go.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/328570322",
    "html_url": "https://github.com/jupyter/notebook/issues/2833#issuecomment-328570322",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2833",
    "id": 328570322,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODU3MDMyMg==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-11T15:42:57Z",
    "updated_at": "2017-09-11T15:42:57Z",
    "author_association": "MEMBER",
    "body": "Normally that code would be triggered by the user inside the IPython kernel - e.g. when they instantiate an object that uses a comm. I wasn't really thinking about kernel authors when I wrote it.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/328682461",
    "html_url": "https://github.com/jupyter/notebook/issues/2833#issuecomment-328682461",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2833",
    "id": 328682461,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODY4MjQ2MQ==",
    "user": {
      "login": "rlamorea",
      "id": 3486207,
      "node_id": "MDQ6VXNlcjM0ODYyMDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3486207?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rlamorea",
      "html_url": "https://github.com/rlamorea",
      "followers_url": "https://api.github.com/users/rlamorea/followers",
      "following_url": "https://api.github.com/users/rlamorea/following{/other_user}",
      "gists_url": "https://api.github.com/users/rlamorea/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rlamorea/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rlamorea/subscriptions",
      "organizations_url": "https://api.github.com/users/rlamorea/orgs",
      "repos_url": "https://api.github.com/users/rlamorea/repos",
      "events_url": "https://api.github.com/users/rlamorea/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rlamorea/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-11T22:59:31Z",
    "updated_at": "2017-09-11T22:59:31Z",
    "author_association": "NONE",
    "body": "Well, I'll see if I can find a place in the kernel where it works.  Ironically the thing that would seem to be the most obvious place to me as a neophyte just hacking based on the docs is (`on_connect`) -- and that has been deprecated.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/328807972",
    "html_url": "https://github.com/jupyter/notebook/issues/2833#issuecomment-328807972",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2833",
    "id": 328807972,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODgwNzk3Mg==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-12T10:12:28Z",
    "updated_at": "2017-09-12T10:12:28Z",
    "author_association": "MEMBER",
    "body": "I think it should work in the `do_execute()` method, but maybe the IPython kernel is doing something extra and it doesn't automatically work for other Python-based kernels.\r\n\r\nWhere do you see `on_connect`? I don't see that anywhere in the docs or the code.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/328924667",
    "html_url": "https://github.com/jupyter/notebook/issues/2833#issuecomment-328924667",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2833",
    "id": 328924667,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODkyNDY2Nw==",
    "user": {
      "login": "rlamorea",
      "id": 3486207,
      "node_id": "MDQ6VXNlcjM0ODYyMDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3486207?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rlamorea",
      "html_url": "https://github.com/rlamorea",
      "followers_url": "https://api.github.com/users/rlamorea/followers",
      "following_url": "https://api.github.com/users/rlamorea/following{/other_user}",
      "gists_url": "https://api.github.com/users/rlamorea/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rlamorea/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rlamorea/subscriptions",
      "organizations_url": "https://api.github.com/users/rlamorea/orgs",
      "repos_url": "https://api.github.com/users/rlamorea/repos",
      "events_url": "https://api.github.com/users/rlamorea/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rlamorea/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-12T17:26:58Z",
    "updated_at": "2017-09-12T17:26:58Z",
    "author_association": "NONE",
    "body": "Sorry, typing too fast.  Meant handing the `connect` message (which has since been deprecated).\r\n\r\nI will try again inside `do_execute`.  If I recall I got a different error there, but I'll get that posted if it doesn't work.",
    "performed_via_github_app": null
  }
]
