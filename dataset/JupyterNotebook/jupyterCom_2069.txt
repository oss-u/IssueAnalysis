[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/275081472",
    "html_url": "https://github.com/jupyter/notebook/issues/2069#issuecomment-275081472",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2069",
    "id": 275081472,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTA4MTQ3Mg==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-25T11:11:19Z",
    "updated_at": "2017-01-25T11:11:19Z",
    "author_association": "MEMBER",
    "body": "> In the line below I think name should be action_name:\r\n\r\nYup, I agree. PR welcome for that.\r\n\r\n> Also, the line above in conjunction with the line below are not adding the action and the button:\r\n>        Jupyter.toolbar.add_buttons_group([full_action_name]);\r\n\r\nLooking at the code, I think that should work, so if it's going wrong, there's an issue in the code. @Carreau may want to investigate.\r\n\r\n> without the final '/' in the path.\r\n\r\nI think it should work with either - unless it has a specific significance, I think that code should ignore a trailing slash on paths. So if you want to make a PR for that, I'd rather it was fixed in the code than the docs.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/275105805",
    "html_url": "https://github.com/jupyter/notebook/issues/2069#issuecomment-275105805",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2069",
    "id": 275105805,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTEwNTgwNQ==",
    "user": {
      "login": "kikocorreoso",
      "id": 1939575,
      "node_id": "MDQ6VXNlcjE5Mzk1NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1939575?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kikocorreoso",
      "html_url": "https://github.com/kikocorreoso",
      "followers_url": "https://api.github.com/users/kikocorreoso/followers",
      "following_url": "https://api.github.com/users/kikocorreoso/following{/other_user}",
      "gists_url": "https://api.github.com/users/kikocorreoso/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kikocorreoso/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kikocorreoso/subscriptions",
      "organizations_url": "https://api.github.com/users/kikocorreoso/orgs",
      "repos_url": "https://api.github.com/users/kikocorreoso/repos",
      "events_url": "https://api.github.com/users/kikocorreoso/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kikocorreoso/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-25T13:20:20Z",
    "updated_at": "2017-01-25T13:22:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks @takluyver for the time to look into this.\r\n\r\nJust to provide some context, all my tests were made in a new conda env, installing jupyter from conda and tested on Linux and windows 7 (32bits). The extensions were always installed using `--sys-prefix` option. Here is a list of the packages installed in the conda env in the w7 box:\r\n\r\n```\r\n# packages in environment at d:\\users\\someone\\AppData\\Local\\Continuum\\Miniconda3\r\n\\envs\\jupytest:\r\n#\r\nca-certificates           2016.9.26                     0    conda-forge\r\ncertifi                   2016.9.26                py35_0    conda-forge\r\ncolorama                  0.3.7                    py35_0    conda-forge\r\ncycler                    0.10.0                   py35_0    conda-forge\r\ndecorator                 4.0.10                   py35_0    conda-forge\r\nentrypoints               0.2.2                    py35_0    conda-forge\r\nfreetype                  2.6.3                    vc14_1  [vc14]  conda-forge\r\nipykernel                 4.5.2                    py35_0    conda-forge\r\nipython                   5.1.0                    py35_2    conda-forge\r\nipython_genutils          0.1.0                    py35_0    conda-forge\r\nipywidgets                5.2.2                    py35_2    conda-forge\r\njinja2                    2.8                      py35_1    conda-forge\r\njpeg                      9b                       vc14_0  [vc14]  conda-forge\r\njsonschema                2.5.1                    py35_0    conda-forge\r\njupyter-contrib-core      0.3.0                     <pip>\r\njupyter-highlight-selected-word 0.0.7                     <pip>\r\njupyter-latex-envs        1.3.6                     <pip>\r\njupyter-nbextensions-configurator 0.2.3                     <pip>\r\njupyter_client            4.4.0                    py35_0    conda-forge\r\njupyter_contrib_core      0.3.0                    py35_1    conda-forge\r\njupyter_core              4.2.1                    py35_0    conda-forge\r\njupyter_highlight_selected_word 0.0.7                    py35_0    conda-forge\r\njupyter_latex_envs        1.3.6                    py35_0    conda-forge\r\njupyter_nbextensions_configurator 0.2.3                    py35_0    conda-forge\r\n\r\nlibiconv                  1.14                     vc14_4  [vc14]  conda-forge\r\nlibpng                    1.6.28                   vc14_0  [vc14]  conda-forge\r\nlibtiff                   4.0.6                    vc14_7  [vc14]  conda-forge\r\nlibxml2                   2.9.3                    vc14_9  [vc14]  conda-forge\r\nmarkupsafe                0.23                     py35_1    conda-forge\r\nmatplotlib                2.0.0               np111py35_0    conda-forge\r\nmistune                   0.7.3                    py35_0    conda-forge\r\nmkl                       2017.0.1                      0\r\nnbconvert                 4.2.0                    py35_0    conda-forge\r\nnbformat                  4.2.0                    py35_0    conda-forge\r\nnotebook                  4.3.1                    py35_0    conda-forge\r\nnumpy                     1.11.3                   py35_0\r\nopenssl                   1.0.2h                   vc14_3  [vc14]  conda-forge\r\npickleshare               0.7.3                    py35_0    conda-forge\r\npip                       9.0.1                    py35_0    conda-forge\r\nprompt_toolkit            1.0.9                    py35_0    conda-forge\r\npsutil                    4.3.0                    py35_0    conda-forge\r\npsutil                    5.0.1                     <pip>\r\npygments                  2.1.3                    py35_1    conda-forge\r\npyparsing                 2.1.10                   py35_0    conda-forge\r\npyqt                      4.11.4                   py35_2    conda-forge\r\npython                    3.5.2                         5    conda-forge\r\npython-dateutil           2.6.0                    py35_0    conda-forge\r\npytz                      2016.10                  py35_0    conda-forge\r\npyyaml                    3.11                     py35_0    conda-forge\r\nPyYAML                    3.12                      <pip>\r\npyzmq                     16.0.2                   py35_0    conda-forge\r\nqt                        4.8.7                    vc14_6  [vc14]  conda-forge\r\nsetuptools                33.1.0                   py35_0    conda-forge\r\nsimplegeneric             0.8.1                    py35_0    conda-forge\r\nsip                       4.18                     py35_1    conda-forge\r\nsix                       1.10.0                   py35_1    conda-forge\r\ntornado                   4.4.2                    py35_0    conda-forge\r\ntraitlets                 4.3.1                    py35_0    conda-forge\r\nvc                        14                            0    conda-forge\r\nvs2015_runtime            14.0.25420                    0    conda-forge\r\nwcwidth                   0.1.7                    py35_0    conda-forge\r\nwheel                     0.29.0                   py35_0    conda-forge\r\nwidgetsnbextension        1.2.6                    py35_3    conda-forge\r\nwin_unicode_console       0.5                      py35_0    conda-forge\r\nwincertstore              0.2                      py35_0    conda-forge\r\nyaml                      0.1.6                    vc14_0  [vc14]  conda-forge\r\nzlib                      1.2.8                    vc14_3  [vc14]  conda-forge\r\n```\r\n> Also, the line above in conjunction with the line below are not adding the action and the button:\r\n> `Jupyter.toolbar.add_buttons_group([full_action_name]);`\r\n\r\nTested in both, linux and windows and I can't see an error but the button is not in the frontend. I've tried some small modifications in the 'official' doc example, `handler` <-> `callback`, not providing `action_name` and `prefix`,... Also, defining and `action` object and trying to use it in the function was not working Â¿?, e.g.:\r\n\r\n```javascript\r\n          //...\r\n          action = {\r\n                  'icon': 'fa-comment-o',\r\n                  'callback' : handler,\r\n                  'label': 'Kaka kaka kaka',\r\n                  'id': 'idKaka'\r\n              }\r\n          Jupyter.toolbar.add_buttons_group([action]);\r\n          /...\r\n```\r\n\r\nRegarding\r\n\r\n> `without the final '/' in the path.`\r\n\r\nIn case I have:\r\n```\r\nmy_extension1/\r\n  main.js\r\n\r\nmy_extension2/\r\n  main.js\r\n```\r\nAnd I want to install both when I use the trailing '/' `jupyter nbextension install my_extension1/` will copy the files inside the folder and not the folder so when I install the second extension, `my_extension2`, `main.js` of the first extension would be overwritten (as well as other files with same names. Also, There are problems with the uninstallation. Again, tested in both, linux and windows.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/275468831",
    "html_url": "https://github.com/jupyter/notebook/issues/2069#issuecomment-275468831",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2069",
    "id": 275468831,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTQ2ODgzMQ==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-26T18:25:06Z",
    "updated_at": "2017-01-26T18:25:06Z",
    "author_association": "MEMBER",
    "body": "I've added that on my looong todo list. If someone can get it first, please do. ",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/275471392",
    "html_url": "https://github.com/jupyter/notebook/issues/2069#issuecomment-275471392",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2069",
    "id": 275471392,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTQ3MTM5Mg==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-26T18:34:06Z",
    "updated_at": "2017-01-26T18:34:06Z",
    "author_association": "MEMBER",
    "body": "@kikocorreoso if you have time, could you:\r\n\r\n1. Open a doc PR for the `action_name` fix - I think that's simple and correct.\r\n2. Work out what's going on with nbextension install and the trailing slash. I think that specifying a directory with a trailing slash should work exactly as specifying it without the trailing slash. If you can find what's going wrong, a PR to fix that would be welcome.\r\n\r\nThen if you're feeling keen, try to dig into the JS to see what's going wrong with adding toolbar buttons - there's definitely code there to handle adding them as an array of action names.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/275620016",
    "html_url": "https://github.com/jupyter/notebook/issues/2069#issuecomment-275620016",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2069",
    "id": 275620016,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTYyMDAxNg==",
    "user": {
      "login": "kikocorreoso",
      "id": 1939575,
      "node_id": "MDQ6VXNlcjE5Mzk1NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1939575?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kikocorreoso",
      "html_url": "https://github.com/kikocorreoso",
      "followers_url": "https://api.github.com/users/kikocorreoso/followers",
      "following_url": "https://api.github.com/users/kikocorreoso/following{/other_user}",
      "gists_url": "https://api.github.com/users/kikocorreoso/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kikocorreoso/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kikocorreoso/subscriptions",
      "organizations_url": "https://api.github.com/users/kikocorreoso/orgs",
      "repos_url": "https://api.github.com/users/kikocorreoso/repos",
      "events_url": "https://api.github.com/users/kikocorreoso/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kikocorreoso/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-27T09:10:53Z",
    "updated_at": "2017-01-27T09:13:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "@takluyver @Carreau \r\n\r\nSent a [PR](https://github.com/jupyter/notebook/issues/2077) for \"1. Open a doc PR for the `action_name` fix - I think that's simple and correct.\"\r\n\r\nRegarding the trailing slash (2.), Reading the [docs](https://github.com/jupyter/notebook/blob/master/notebook/nbextensions.py#L91):\r\n\r\n```python\r\n    path : path to file, directory, zip or tarball archive, or URL to install\r\n        By default, the file will be installed with its base name, so '/path/to/foo'\r\n        will install to 'nbextensions/foo'. See the destination argument below to change this.\r\n        Archives (zip or tarballs) will be extracted into the nbextensions directory.\r\n```\r\n\r\nI think the problem is [here](https://github.com/jupyter/notebook/blob/master/notebook/nbextensions.py#L168):\r\n\r\n```python\r\n        if not destination:\r\n            destination = basename(path)\r\n```\r\n\r\nIf I do:\r\n\r\n```python\r\nIn [1]: import os\r\n\r\nIn [2]: os.path.basename('my_extension/')\r\nOut[2]: ''\r\n\r\nIn [3]: os.path.basename('my_extension')\r\nOut[3]: 'my_extension'\r\n```\r\nI don't get the same. In the first case I would write the extension to the root of the `nbext` dir but in the second case I would include the complete folder for the extension. I donÂ¡t know if this is the expected but for me it is weird and can drive to overwrite other files with same names. I can prepare a PR to try to ammend this.\r\n\r\nFor the JS related issue, today I'm not in the mood to deal with JS (too busy, ð). If @Carreau confirms he cannot check this during the weekend I will try to spend some time on it.\r\n\r\nThanks again.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/275843866",
    "html_url": "https://github.com/jupyter/notebook/issues/2069#issuecomment-275843866",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2069",
    "id": 275843866,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTg0Mzg2Ng==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-28T11:51:44Z",
    "updated_at": "2017-01-28T11:51:44Z",
    "author_association": "MEMBER",
    "body": "That does look likely to be the issue. I think calling `os.path.normpath()` on the path before passing it to basename should fix it; among other normalisations, that removes a trailing slash from the path.\r\n\r\nNo worries if you don't have time to get to the JS. I don't think any of us are very excited about trying to debug it!",
    "performed_via_github_app": null
  }
]
