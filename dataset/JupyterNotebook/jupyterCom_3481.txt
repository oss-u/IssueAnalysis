[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/377686579",
    "html_url": "https://github.com/jupyter/notebook/issues/3481#issuecomment-377686579",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3481",
    "id": 377686579,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzY4NjU3OQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-31T11:32:27Z",
    "updated_at": "2018-03-31T11:32:27Z",
    "author_association": "MEMBER",
    "body": "Does `/usr/local/opt/python3/bin/python3.6` exist? If not, you've probably created a kernel spec at some point when it did exist which points to it. Run `jupyter kernelspec list` to see where they are. There should be a path ending in `python3`. You can delete that, and it should fall back to using the Python which Jupyter is run on.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/733368291",
    "html_url": "https://github.com/jupyter/notebook/issues/3481#issuecomment-733368291",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3481",
    "id": 733368291,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczMzM2ODI5MQ==",
    "user": {
      "login": "oshirvani",
      "id": 26014492,
      "node_id": "MDQ6VXNlcjI2MDE0NDky",
      "avatar_url": "https://avatars.githubusercontent.com/u/26014492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oshirvani",
      "html_url": "https://github.com/oshirvani",
      "followers_url": "https://api.github.com/users/oshirvani/followers",
      "following_url": "https://api.github.com/users/oshirvani/following{/other_user}",
      "gists_url": "https://api.github.com/users/oshirvani/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oshirvani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oshirvani/subscriptions",
      "organizations_url": "https://api.github.com/users/oshirvani/orgs",
      "repos_url": "https://api.github.com/users/oshirvani/repos",
      "events_url": "https://api.github.com/users/oshirvani/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oshirvani/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-25T00:34:12Z",
    "updated_at": "2020-11-25T00:34:12Z",
    "author_association": "NONE",
    "body": "Hello @takluyver \r\nI have the same issue, and getting the error ;\r\n\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.6/dist-packages/tornado/web.py\", line 1703, in _execute\r\n    result = await result\r\n  File \"/usr/local/lib/python3.6/dist-packages/tornado/gen.py\", line 742, in run\r\n    yielded = self.gen.throw(*exc_info)  # type: ignore\r\n  File \"/usr/local/lib/python3.6/dist-packages/notebook/services/sessions/handlers.py\", line 72, in post\r\n    type=mtype))\r\n  File \"/usr/local/lib/python3.6/dist-packages/tornado/gen.py\", line 735, in run\r\n    value = future.result()\r\n  File \"/usr/local/lib/python3.6/dist-packages/tornado/gen.py\", line 742, in run\r\n    yielded = self.gen.throw(*exc_info)  # type: ignore\r\n  File \"/usr/local/lib/python3.6/dist-packages/notebook/services/sessions/sessionmanager.py\", line 88, in create_session\r\n    kernel_id = yield self.start_kernel_for_session(session_id, path, name, type, kernel_name)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tornado/gen.py\", line 735, in run\r\n    value = future.result()\r\n  File \"/usr/local/lib/python3.6/dist-packages/tornado/gen.py\", line 742, in run\r\n    yielded = self.gen.throw(*exc_info)  # type: ignore\r\n  File \"/usr/local/lib/python3.6/dist-packages/notebook/services/sessions/sessionmanager.py\", line 101, in start_kernel_for_session\r\n    self.kernel_manager.start_kernel(path=kernel_path, kernel_name=kernel_name)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tornado/gen.py\", line 735, in run\r\n    value = future.result()\r\n  File \"/usr/local/lib/python3.6/dist-packages/tornado/gen.py\", line 209, in wrapper\r\n    yielded = next(result)\r\n  File \"/usr/local/lib/python3.6/dist-packages/notebook/services/kernels/kernelmanager.py\", line 168, in start_kernel\r\n    super(MappingKernelManager, self).start_kernel(**kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/jupyter_client/multikernelmanager.py\", line 151, in start_kernel\r\n    km.start_kernel(**kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/jupyter_client/manager.py\", line 247, in start_kernel\r\n    self.write_connection_file()\r\n  File \"/usr/local/lib/python3.6/dist-packages/jupyter_client/connect.py\", line 474, in write_connection_file\r\n    kernel_name=self.kernel_name\r\n  File \"/usr/local/lib/python3.6/dist-packages/jupyter_client/connect.py\", line 138, in write_connection_file\r\n    with secure_write(fname) as f:\r\n  File \"/usr/lib/python3.6/contextlib.py\", line 81, in __enter__\r\n    return next(self.gen)\r\n  File \"/usr/local/lib/python3.6/dist-packages/jupyter_core/paths.py\", line 447, in secure_write\r\n    .format(file=fname, permissions=oct(file_mode)))\r\nRuntimeError: Permissions assignment failed for secure file: '/home/orod/.local/share/jupyter/runtime/kernel-6519f37d-8a6f-4981-812e-59f8be611015.json'. Got '0o677' instead of '0o0600'.\r\n\r\n\r\nI have run this\r\nroot@gpu4:/usr/local/lib/python3.6/dist-packages/jupyter_core# jupyter kernelspec list\r\nAvailable kernels:\r\n  anaconda    /usr/local/share/jupyter/kernels/anaconda\r\n  python2     /usr/local/share/jupyter/kernels/python2\r\n  python3     /usr/local/share/jupyter/kernels/python3\r\nroot@gpu4:/usr/local/lib/python3.6/dist-packages/jupyter_core# \r\n\r\n\r\n**My question is what path should I remove?**\r\n\r\n\r\nI try to upgrade too.\r\n\r\nroot@gpu4:~# pip install jupyter_core --upgrade\r\nRequirement already up-to-date: jupyter_core in /usr/local/lib/python2.7/dist-packages\r\nRequirement already up-to-date: traitlets in /usr/local/lib/python2.7/dist-packages (from jupyter_core)\r\nRequirement already up-to-date: six in /usr/local/lib/python2.7/dist-packages (from traitlets->jupyter_core)\r\nRequirement already up-to-date: enum34; python_version == \"2.7\" in /usr/local/lib/python2.7/dist-packages (from traitlets->jupyter_core)\r\nRequirement already up-to-date: ipython-genutils in /usr/lib/python2.7/dist-packages (from traitlets->jupyter_core)\r\nRequirement already up-to-date: decorator in /usr/local/lib/python2.7/dist-packages (from traitlets->jupyter_core)\r\nroot@gpu4:~# pip install jupyter_client --upgrade\r\nRequirement already up-to-date: jupyter_client in /usr/local/lib/python2.7/dist-packages\r\nRequirement already up-to-date: python-dateutil>=2.1 in /usr/local/lib/python2.7/dist-packages (from jupyter_client)\r\nRequirement already up-to-date: pyzmq>=13 in /usr/local/lib/python2.7/dist-packages (from jupyter_client)\r\nRequirement already up-to-date: traitlets in /usr/local/lib/python2.7/dist-packages (from jupyter_client)\r\nRequirement already up-to-date: jupyter-core>=4.6.0 in /usr/local/lib/python2.7/dist-packages (from jupyter_client)\r\nRequirement already up-to-date: tornado>=4.1 in /usr/local/lib/python2.7/dist-packages (from jupyter_client)\r\nRequirement already up-to-date: six>=1.5 in /usr/local/lib/python2.7/dist-packages (from python-dateutil>=2.1->jupyter_client)\r\nRequirement already up-to-date: enum34; python_version == \"2.7\" in /usr/local/lib/python2.7/dist-packages (from traitlets->jupyter_client)\r\nRequirement already up-to-date: ipython-genutils in /usr/lib/python2.7/dist-packages (from traitlets->jupyter_client)\r\nRequirement already up-to-date: decorator in /usr/local/lib/python2.7/dist-packages (from traitlets->jupyter_client)\r\nRequirement already up-to-date: futures in /usr/local/lib/python2.7/dist-packages (from tornado>=4.1->jupyter_client)\r\nRequirement already up-to-date: singledispatch in /usr/local/lib/python2.7/dist-packages (from tornado>=4.1->jupyter_client)\r\nRequirement already up-to-date: backports-abc>=0.4 in /usr/local/lib/python2.7/dist-packages (from tornado>=4.1->jupyter_client)\r\n\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/733800229",
    "html_url": "https://github.com/jupyter/notebook/issues/3481#issuecomment-733800229",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3481",
    "id": 733800229,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczMzgwMDIyOQ==",
    "user": {
      "login": "kevin-bates",
      "id": 22599560,
      "node_id": "MDQ6VXNlcjIyNTk5NTYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/22599560?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevin-bates",
      "html_url": "https://github.com/kevin-bates",
      "followers_url": "https://api.github.com/users/kevin-bates/followers",
      "following_url": "https://api.github.com/users/kevin-bates/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevin-bates/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevin-bates/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevin-bates/subscriptions",
      "organizations_url": "https://api.github.com/users/kevin-bates/orgs",
      "repos_url": "https://api.github.com/users/kevin-bates/repos",
      "events_url": "https://api.github.com/users/kevin-bates/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevin-bates/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-25T16:06:59Z",
    "updated_at": "2020-11-25T16:06:59Z",
    "author_association": "MEMBER",
    "body": "This issue is likely due to the use of a mounted filesystem that prevents file permission updates that Jupyter performs to secure the kernel's connection information.  Please see https://github.com/jupyter/notebook/issues/5197#issuecomment-586614351 for options.  #5058 also discusses this issue.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/733808918",
    "html_url": "https://github.com/jupyter/notebook/issues/3481#issuecomment-733808918",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3481",
    "id": 733808918,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczMzgwODkxOA==",
    "user": {
      "login": "oshirvani",
      "id": 26014492,
      "node_id": "MDQ6VXNlcjI2MDE0NDky",
      "avatar_url": "https://avatars.githubusercontent.com/u/26014492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oshirvani",
      "html_url": "https://github.com/oshirvani",
      "followers_url": "https://api.github.com/users/oshirvani/followers",
      "following_url": "https://api.github.com/users/oshirvani/following{/other_user}",
      "gists_url": "https://api.github.com/users/oshirvani/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oshirvani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oshirvani/subscriptions",
      "organizations_url": "https://api.github.com/users/oshirvani/orgs",
      "repos_url": "https://api.github.com/users/oshirvani/repos",
      "events_url": "https://api.github.com/users/oshirvani/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oshirvani/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-25T16:22:09Z",
    "updated_at": "2020-11-25T16:22:09Z",
    "author_association": "NONE",
    "body": "Hello, @kevin-bates Thanks for the information, I read most of your posts last night and thank you very much for spending your time to help and troubleshoot should this issue.\r\n\r\nWhat I have done :\r\n1)  pip install jupyter_core --upgrade\r\n2)pip install jupyter_client --upgrade\r\n3)jupyter kernelspec list remove python3 and run jupyter,\r\nthis part in my kernal.json is\r\n/usr/local/share/jupyter/kernels/python3# cat kernel.json \r\n{\r\n \"argv\": [\r\n  \"/usr/bin/python3\",\r\n  \"-m\",\r\n  \"ipykernel_launcher\",\r\n  \"-f\",\r\n  \"{connection_file}\"\r\n ],\r\n \"display_name\": \"Python 3\",\r\n \"language\": \"python\"\r\n\r\nI did the test and change it to \r\n\r\n/usr/local/share/jupyter/kernels/python3# cat kernel.json \r\n{\r\n \"argv\": [\r\n  \"/usr/local/share/jupyter/kernels/python3\",\r\n  \"-m\",\r\n  \"ipykernel_launcher\",\r\n  \"-f\",\r\n  \"{connection_file}\"\r\n ],\r\n \"display_name\": \"Python 3\",\r\n \"language\": \"python\"\r\n}\r\n\r\nBut still, nothing working, we have 4 GPU and this is happening to all of them,\r\n\r\nThanks for your time and information. ",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/733814504",
    "html_url": "https://github.com/jupyter/notebook/issues/3481#issuecomment-733814504",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3481",
    "id": 733814504,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczMzgxNDUwNA==",
    "user": {
      "login": "kevin-bates",
      "id": 22599560,
      "node_id": "MDQ6VXNlcjIyNTk5NTYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/22599560?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevin-bates",
      "html_url": "https://github.com/kevin-bates",
      "followers_url": "https://api.github.com/users/kevin-bates/followers",
      "following_url": "https://api.github.com/users/kevin-bates/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevin-bates/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevin-bates/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevin-bates/subscriptions",
      "organizations_url": "https://api.github.com/users/kevin-bates/orgs",
      "repos_url": "https://api.github.com/users/kevin-bates/repos",
      "events_url": "https://api.github.com/users/kevin-bates/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevin-bates/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-25T16:31:48Z",
    "updated_at": "2020-11-25T16:36:11Z",
    "author_association": "MEMBER",
    "body": "This isn't about the kernelspec but rather the file that's written when the kernel is started.  Your filesystem is preventing the setting of appropriate permissions, so you either need to change the location of where that file is written (via env `JUPYTER_RUNTIME_DIR`) or skip the enforcement of the permissions (via env `JUPYTER_ALLOW_INSECURE_WRITES`).",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/733821592",
    "html_url": "https://github.com/jupyter/notebook/issues/3481#issuecomment-733821592",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3481",
    "id": 733821592,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczMzgyMTU5Mg==",
    "user": {
      "login": "oshirvani",
      "id": 26014492,
      "node_id": "MDQ6VXNlcjI2MDE0NDky",
      "avatar_url": "https://avatars.githubusercontent.com/u/26014492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oshirvani",
      "html_url": "https://github.com/oshirvani",
      "followers_url": "https://api.github.com/users/oshirvani/followers",
      "following_url": "https://api.github.com/users/oshirvani/following{/other_user}",
      "gists_url": "https://api.github.com/users/oshirvani/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oshirvani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oshirvani/subscriptions",
      "organizations_url": "https://api.github.com/users/oshirvani/orgs",
      "repos_url": "https://api.github.com/users/oshirvani/repos",
      "events_url": "https://api.github.com/users/oshirvani/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oshirvani/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-25T16:44:20Z",
    "updated_at": "2020-11-25T16:44:20Z",
    "author_association": "NONE",
    "body": "Thanks, @kevin-bates I read this on this article too https://github.com/jupyter/notebook/issues/5058\r\nSorry I had difficulty locating this env.\r\n\r\nCould you please help me to find the location of this JUPYTER_RUNTIME_DIR and JUPYTER_ALLOW_INSECURE_WRITES, where is this environment file?\r\n\r\n\r\nThanks\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/733954327",
    "html_url": "https://github.com/jupyter/notebook/issues/3481#issuecomment-733954327",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3481",
    "id": 733954327,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczMzk1NDMyNw==",
    "user": {
      "login": "kevin-bates",
      "id": 22599560,
      "node_id": "MDQ6VXNlcjIyNTk5NTYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/22599560?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevin-bates",
      "html_url": "https://github.com/kevin-bates",
      "followers_url": "https://api.github.com/users/kevin-bates/followers",
      "following_url": "https://api.github.com/users/kevin-bates/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevin-bates/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevin-bates/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevin-bates/subscriptions",
      "organizations_url": "https://api.github.com/users/kevin-bates/orgs",
      "repos_url": "https://api.github.com/users/kevin-bates/repos",
      "events_url": "https://api.github.com/users/kevin-bates/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevin-bates/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-25T21:29:34Z",
    "updated_at": "2020-11-25T21:29:34Z",
    "author_association": "MEMBER",
    "body": "Environment variables are named as such because their names (and values) are available to processes launched within that _environment_.  The scope of an environment is typically a login shell and setting environment variables is more a less a function of the shell you're using.  They are fundamental to Unix, but Windows also utilizes environment variables.  You will find numerous hits googling how to set these.\r\n\r\nIf security is not a top priority, the easiest workaround is to set `JUPYTER_ALLOW_INSECURE_WRITES=true`.  This needs to happen prior to launching your `jupyter notebook` command.  So, in a terminal, issue the following...\r\n```bash\r\nexport JUPYTER_ALLOW_INSECURE_WRITES=true\r\njupyter notebook\r\n```\r\nIf you're more concerned about security, then you will need to locate a directory in a different filesystem than the one you are currently using other than under `/home/orod/.local/` and probably `/home/orod` in general.  For example purposes, I'm going to reference `/tmp`.  So you would enter commands (similar to those before) like so...\r\n```bash\r\nexport JUPYTER_RUNTIME_DIR=/tmp\r\njupyter notebook\r\n```\r\n\r\nNote that if you exit the terminal, you will lose the environment variable settings when creating another terminal session.  To make the settings persistent, you would add them to a file like `$HOME/.profile` (depending on which shell you use (btw, `HOME` is an environment variable itself and `$HOME` is how to access its value; try `echo $HOME` and you'll find it has a value of `'/home/orod'`)) then logout/login again to \"activate\" those settings.  This kind of information will likely be found in your google search for how to set environment variables.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/735247313",
    "html_url": "https://github.com/jupyter/notebook/issues/3481#issuecomment-735247313",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3481",
    "id": 735247313,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNTI0NzMxMw==",
    "user": {
      "login": "oshirvani",
      "id": 26014492,
      "node_id": "MDQ6VXNlcjI2MDE0NDky",
      "avatar_url": "https://avatars.githubusercontent.com/u/26014492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oshirvani",
      "html_url": "https://github.com/oshirvani",
      "followers_url": "https://api.github.com/users/oshirvani/followers",
      "following_url": "https://api.github.com/users/oshirvani/following{/other_user}",
      "gists_url": "https://api.github.com/users/oshirvani/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oshirvani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oshirvani/subscriptions",
      "organizations_url": "https://api.github.com/users/oshirvani/orgs",
      "repos_url": "https://api.github.com/users/oshirvani/repos",
      "events_url": "https://api.github.com/users/oshirvani/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oshirvani/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-28T15:48:52Z",
    "updated_at": "2020-11-28T15:48:52Z",
    "author_association": "NONE",
    "body": "Thank you @kevin-bates, fix the issue for LDAP permission setting. Thank you very much, I learn how to set variable in Linux, as I am 2 years old in Linux, This was fundamental Information.  \r\n",
    "performed_via_github_app": null
  }
]
