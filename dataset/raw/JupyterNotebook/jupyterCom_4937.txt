[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/537907322",
    "html_url": "https://github.com/jupyter/notebook/issues/4937#issuecomment-537907322",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4937",
    "id": 537907322,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNzkwNzMyMg==",
    "user": {
      "login": "dahjan",
      "id": 28789991,
      "node_id": "MDQ6VXNlcjI4Nzg5OTkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/28789991?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dahjan",
      "html_url": "https://github.com/dahjan",
      "followers_url": "https://api.github.com/users/dahjan/followers",
      "following_url": "https://api.github.com/users/dahjan/following{/other_user}",
      "gists_url": "https://api.github.com/users/dahjan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dahjan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dahjan/subscriptions",
      "organizations_url": "https://api.github.com/users/dahjan/orgs",
      "repos_url": "https://api.github.com/users/dahjan/repos",
      "events_url": "https://api.github.com/users/dahjan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dahjan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-03T11:35:08Z",
    "updated_at": "2019-10-03T11:35:08Z",
    "author_association": "NONE",
    "body": "## Update\r\n\r\nIt turns out that the newest version of `jupyter_client`, available under anaconda as version 5.3.3, breaks the Jupyter environment on a server.\r\n\r\nInstalling the previous version of jupyter_client via following command fixes this issue:\r\n\r\n`conda install -c anaconda jupyter_client=5.3.1`",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/540767410",
    "html_url": "https://github.com/jupyter/notebook/issues/4937#issuecomment-540767410",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4937",
    "id": 540767410,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0MDc2NzQxMA==",
    "user": {
      "login": "mirekphd",
      "id": 36706320,
      "node_id": "MDQ6VXNlcjM2NzA2MzIw",
      "avatar_url": "https://avatars.githubusercontent.com/u/36706320?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mirekphd",
      "html_url": "https://github.com/mirekphd",
      "followers_url": "https://api.github.com/users/mirekphd/followers",
      "following_url": "https://api.github.com/users/mirekphd/following{/other_user}",
      "gists_url": "https://api.github.com/users/mirekphd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mirekphd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mirekphd/subscriptions",
      "organizations_url": "https://api.github.com/users/mirekphd/orgs",
      "repos_url": "https://api.github.com/users/mirekphd/repos",
      "events_url": "https://api.github.com/users/mirekphd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mirekphd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-10T20:12:34Z",
    "updated_at": "2019-10-10T20:32:05Z",
    "author_association": "NONE",
    "body": "The `AssertionError` message I get when an assertion fails in line 105 of connect.py of the two latest versions of `jupyter_client` affected by this bug is the same or rather varies slightly in its string contents:\r\n\r\n>  File \"/opt/conda/lib/python3.6/site-packages/jupyter_client/connect.py\", line 105, in secure_write\r\n>     assert '0600' == oct(stat.S_IMODE(os.stat(fname).st_mode)).replace('0o', '0')\r\n> AssertionError\r\n\r\nThe downgrade to 5.3.1 proposed by @dahjan worked for me as well. This means that the bug was introduced in 5.3.3 and remains in 5.3.4.\r\n\r\n@dahjan - please reopen the issue - downgrading the pkg is just a temp workaround, and we need a future-proof solution.\r\n\r\nAppeal to the developers: **please remove BOTH broken versions of jupyter_client** (5.3.4 and 5.3.3) from BOTH pypi and Anaconda's conda-forge channel.\r\n\r\n\r\nMore info\r\n\r\nI suspect the bug will be a long-lasting one because client-server connections to python 3.6 kernels in Jupyter Notebook and Lab work under some circumstances. For instance, they work correctly under `docker run` on a rather insecure server (with all ports open) but fail with AssertionError under my corporate (Red Hat) Openshift installation where only ports 8888 and 80 are open between the client and server and there is no routing to the internet (the most relevant differences to this bug I think), so 99% of testers will fail to reproduce it (who in the open source community tests Jupyter kernel connections on on-prem Openshift installations..?:) \r\n\r\nMy suspicion is confirmed by the fact that it now applies to TWO historical versions of `jupyter_client`, so this standard downgrade-by-one trick did not work for me when applied to version 5.3.4 (because 5.3.3 is affected too).\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/540791433",
    "html_url": "https://github.com/jupyter/notebook/issues/4937#issuecomment-540791433",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4937",
    "id": 540791433,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0MDc5MTQzMw==",
    "user": {
      "login": "kevin-bates",
      "id": 22599560,
      "node_id": "MDQ6VXNlcjIyNTk5NTYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/22599560?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevin-bates",
      "html_url": "https://github.com/kevin-bates",
      "followers_url": "https://api.github.com/users/kevin-bates/followers",
      "following_url": "https://api.github.com/users/kevin-bates/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevin-bates/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevin-bates/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevin-bates/subscriptions",
      "organizations_url": "https://api.github.com/users/kevin-bates/orgs",
      "repos_url": "https://api.github.com/users/kevin-bates/repos",
      "events_url": "https://api.github.com/users/kevin-bates/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevin-bates/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-10T20:57:05Z",
    "updated_at": "2019-10-10T20:57:05Z",
    "author_association": "MEMBER",
    "body": "Hi @mirekphd - I'm sorry about the inconvenience.  The latest release of jupyter_client (5.3.4) did two things.  \r\n1. It _moved_ the code for `secure_write` into the `jupyter_core` (4.6.0) package\r\n2. It addressed a slippery win32 issue (in the moved code in jupyter_core)\r\n\r\nI agree that there is likely a non-win32 issue here relative to the \"old\" statement you show from jupyter_client.  However, that particular statement is no longer an assertion, but a [raise with a detailed message containing the current permissions](https://github.com/jupyter/jupyter_core/blob/master/jupyter_core/paths.py#L409-L412) - which would prove extremely helpful in this particular case.\r\n\r\nCould you please confirm that you're using the true latest versions of each library and try again so that we can gain access to what the permissions happen to be on this particular platform?\r\n\r\ncc: @MSeal",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/564461713",
    "html_url": "https://github.com/jupyter/notebook/issues/4937#issuecomment-564461713",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4937",
    "id": 564461713,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NDQ2MTcxMw==",
    "user": {
      "login": "ketozhang",
      "id": 13506487,
      "node_id": "MDQ6VXNlcjEzNTA2NDg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13506487?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ketozhang",
      "html_url": "https://github.com/ketozhang",
      "followers_url": "https://api.github.com/users/ketozhang/followers",
      "following_url": "https://api.github.com/users/ketozhang/following{/other_user}",
      "gists_url": "https://api.github.com/users/ketozhang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ketozhang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ketozhang/subscriptions",
      "organizations_url": "https://api.github.com/users/ketozhang/orgs",
      "repos_url": "https://api.github.com/users/ketozhang/repos",
      "events_url": "https://api.github.com/users/ketozhang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ketozhang/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-11T09:45:28Z",
    "updated_at": "2019-12-11T09:45:28Z",
    "author_association": "NONE",
    "body": "> Could you please confirm that you're using the true latest versions of each library\r\n\r\nCan you clarify again which libraries? I understand `jupyter_core` is one.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/564618284",
    "html_url": "https://github.com/jupyter/notebook/issues/4937#issuecomment-564618284",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4937",
    "id": 564618284,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NDYxODI4NA==",
    "user": {
      "login": "kevin-bates",
      "id": 22599560,
      "node_id": "MDQ6VXNlcjIyNTk5NTYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/22599560?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevin-bates",
      "html_url": "https://github.com/kevin-bates",
      "followers_url": "https://api.github.com/users/kevin-bates/followers",
      "following_url": "https://api.github.com/users/kevin-bates/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevin-bates/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevin-bates/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevin-bates/subscriptions",
      "organizations_url": "https://api.github.com/users/kevin-bates/orgs",
      "repos_url": "https://api.github.com/users/kevin-bates/repos",
      "events_url": "https://api.github.com/users/kevin-bates/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevin-bates/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-11T16:15:41Z",
    "updated_at": "2019-12-11T16:15:41Z",
    "author_association": "MEMBER",
    "body": "`jupyter_client` is the other.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/573333858",
    "html_url": "https://github.com/jupyter/notebook/issues/4937#issuecomment-573333858",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4937",
    "id": 573333858,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3MzMzMzg1OA==",
    "user": {
      "login": "scivm",
      "id": 5593597,
      "node_id": "MDQ6VXNlcjU1OTM1OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5593597?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scivm",
      "html_url": "https://github.com/scivm",
      "followers_url": "https://api.github.com/users/scivm/followers",
      "following_url": "https://api.github.com/users/scivm/following{/other_user}",
      "gists_url": "https://api.github.com/users/scivm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scivm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scivm/subscriptions",
      "organizations_url": "https://api.github.com/users/scivm/orgs",
      "repos_url": "https://api.github.com/users/scivm/repos",
      "events_url": "https://api.github.com/users/scivm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scivm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-11T16:57:32Z",
    "updated_at": "2020-01-11T16:57:32Z",
    "author_association": "NONE",
    "body": "I made some comments on the original PR that caused this issue.  It is still happening in all the latest docker images in the Jupyter project (build 1 month ago.) I have to add:\r\n\r\nRUN conda install --yes jupyter_client==5.3.1\r\n\r\nin all my Dockerfiles.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/573384979",
    "html_url": "https://github.com/jupyter/notebook/issues/4937#issuecomment-573384979",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4937",
    "id": 573384979,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3MzM4NDk3OQ==",
    "user": {
      "login": "bollwyvl",
      "id": 45380,
      "node_id": "MDQ6VXNlcjQ1Mzgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/45380?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bollwyvl",
      "html_url": "https://github.com/bollwyvl",
      "followers_url": "https://api.github.com/users/bollwyvl/followers",
      "following_url": "https://api.github.com/users/bollwyvl/following{/other_user}",
      "gists_url": "https://api.github.com/users/bollwyvl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bollwyvl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bollwyvl/subscriptions",
      "organizations_url": "https://api.github.com/users/bollwyvl/orgs",
      "repos_url": "https://api.github.com/users/bollwyvl/repos",
      "events_url": "https://api.github.com/users/bollwyvl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bollwyvl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-12T05:57:39Z",
    "updated_at": "2020-01-12T05:57:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "So is an updated `jupyter_client` bottom pin of `jupyter_core >=4.6.1` now appropriate?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/573393888",
    "html_url": "https://github.com/jupyter/notebook/issues/4937#issuecomment-573393888",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4937",
    "id": 573393888,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3MzM5Mzg4OA==",
    "user": {
      "login": "scivm",
      "id": 5593597,
      "node_id": "MDQ6VXNlcjU1OTM1OTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5593597?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scivm",
      "html_url": "https://github.com/scivm",
      "followers_url": "https://api.github.com/users/scivm/followers",
      "following_url": "https://api.github.com/users/scivm/following{/other_user}",
      "gists_url": "https://api.github.com/users/scivm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scivm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scivm/subscriptions",
      "organizations_url": "https://api.github.com/users/scivm/orgs",
      "repos_url": "https://api.github.com/users/scivm/repos",
      "events_url": "https://api.github.com/users/scivm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scivm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-12T08:37:10Z",
    "updated_at": "2020-01-12T08:37:10Z",
    "author_association": "NONE",
    "body": "Yes, my issue is related to Azurefile cifs filesystem permissions.  There has been some work to solve the issue in Jupyter core which resulted in 4.6.1 allowing execute bit on owner.  CIF mounts are setting the execute bit on owner which is difficult to prevent.  I am now looking at trying to change some mount options related to group and world which came as default with jupyterhub azurefile storage type I am using.      \r\n\r\nhttps://github.com/jupyter/jupyter_core/issues/172",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/759005359",
    "html_url": "https://github.com/jupyter/notebook/issues/4937#issuecomment-759005359",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4937",
    "id": 759005359,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1OTAwNTM1OQ==",
    "user": {
      "login": "a114383",
      "id": 32073052,
      "node_id": "MDQ6VXNlcjMyMDczMDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/32073052?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/a114383",
      "html_url": "https://github.com/a114383",
      "followers_url": "https://api.github.com/users/a114383/followers",
      "following_url": "https://api.github.com/users/a114383/following{/other_user}",
      "gists_url": "https://api.github.com/users/a114383/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/a114383/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/a114383/subscriptions",
      "organizations_url": "https://api.github.com/users/a114383/orgs",
      "repos_url": "https://api.github.com/users/a114383/repos",
      "events_url": "https://api.github.com/users/a114383/events{/privacy}",
      "received_events_url": "https://api.github.com/users/a114383/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-12T21:15:34Z",
    "updated_at": "2021-01-12T21:22:50Z",
    "author_association": "NONE",
    "body": "After downgrading `5.3.1` I recieve this error message:\r\n```\r\n$> jupyter --version\r\njupyter core     : 4.7.0\r\njupyter-notebook : 6.1.6\r\nqtconsole        : not installed\r\nipython          : 7.16.1\r\nipykernel        : 5.4.3\r\njupyter client   : 5.3.1\r\njupyter lab      : not installed\r\nnbconvert        : 6.0.7\r\nipywidgets       : not installed\r\nnbformat         : 5.0.8\r\ntraitlets        : 4.3.3\r\n\r\n$> jupyter lab --port=18777\r\nTraceback (most recent call last):\r\n  File \"/home/a114383/miniconda3/envs/pfft/bin/jupyter-lab\", line 5, in <module>\r\n    from jupyterlab.labapp import main\r\n  File \"/home/a114383/miniconda3/envs/pfft/lib/python3.6/site-packages/jupyterlab/__init__.py\", line 7, in <module>\r\n    from .labapp import LabApp\r\n  File \"/home/a114383/miniconda3/envs/pfft/lib/python3.6/site-packages/jupyterlab/labapp.py\", line 16, in <module>\r\n    from jupyterlab_server import slugify, WORKSPACE_EXTENSION\r\n  File \"/home/a114383/miniconda3/envs/pfft/lib/python3.6/site-packages/jupyterlab_server/__init__.py\", line 4, in <module>\r\n    from .app import LabServerApp\r\n  File \"/home/a114383/miniconda3/envs/pfft/lib/python3.6/site-packages/jupyterlab_server/app.py\", line 11, in <module>\r\n    from jupyter_server.extension.application import ExtensionApp, ExtensionAppJinjaMixin\r\n  File \"/home/a114383/miniconda3/envs/pfft/lib/python3.6/site-packages/jupyter_server/extension/application.py\", line 21, in <module>\r\n    from jupyter_server.serverapp import ServerApp\r\n  File \"/home/a114383/miniconda3/envs/pfft/lib/python3.6/site-packages/jupyter_server/serverapp.py\", line 75, in <module>\r\n    from .services.kernels.kernelmanager import MappingKernelManager, AsyncMappingKernelManager\r\n  File \"/home/a114383/miniconda3/envs/pfft/lib/python3.6/site-packages/jupyter_server/services/kernels/kernelmanager.py\", line 20, in <module>\r\n    from jupyter_client.multikernelmanager import MultiKernelManager, AsyncMultiKernelManager\r\nImportError: cannot import name 'AsyncMultiKernelManager'\r\n```\r\n\r\nTried to upgrade to the most recent as suggested [here](https://github.com/nteract/papermill/issues/486), but arrived back here:\r\n```bash\r\n$> conda update jupyter_client\r\nCollecting package metadata (current_repodata.json): done\r\nSolving environment: done\r\n\r\n\r\n==> WARNING: A newer version of conda exists. <==\r\n  current version: 4.8.4\r\n  latest version: 4.9.2\r\n\r\nPlease update conda by running\r\n\r\n    $ conda update -n base conda\r\n\r\n\r\n\r\n## Package Plan ##\r\n\r\n  environment location: /home/a114383/miniconda3/envs/pfft\r\n\r\n  added / updated specs:\r\n    - jupyter_client\r\n\r\n\r\nThe following packages will be UPDATED:\r\n\r\n  jupyter_client                                 5.3.1-py_0 --> 6.1.11-pyhd8ed1ab_1\r\n\r\n\r\nProceed ([y]/n)? y\r\n\r\nPreparing transaction: done\r\nVerifying transaction: done\r\nExecuting transaction: done\r\n\r\n$> jupyter lab --port=18777\r\n[I 2021-01-12 16:19:57.398 ServerApp] jupyterlab | extension was successfully linked.\r\n[I 2021-01-12 16:19:58.239 ServerApp] nbclassic | extension was successfully linked.\r\n[I 2021-01-12 16:19:58.459 LabApp] JupyterLab extension loaded from /home/a114383/miniconda3/envs/pfft/lib/python3.6/site-packages/jupyterlab\r\n[I 2021-01-12 16:19:58.459 LabApp] JupyterLab application directory is /home/a114383/miniconda3/envs/pfft/share/jupyter/lab\r\n[I 2021-01-12 16:19:58.464 ServerApp] jupyterlab | extension was successfully loaded.\r\n[I 2021-01-12 16:19:58.476 ServerApp] nbclassic | extension was successfully loaded.\r\n[I 2021-01-12 16:19:58.476 ServerApp] Serving notebooks from local directory: /home/a114383/PLP-PFFT\r\n[I 2021-01-12 16:19:58.476 ServerApp] Jupyter Server 1.2.1 is running at:\r\n[I 2021-01-12 16:19:58.476 ServerApp] http://localhost:18777/lab?token=0ba569d54d0c2e662ec88e17dfbd09896cef10f7c054f089\r\n[I 2021-01-12 16:19:58.476 ServerApp]  or http://127.0.0.1:18777/lab?token=0ba569d54d0c2e662ec88e17dfbd09896cef10f7c054f089\r\n[I 2021-01-12 16:19:58.476 ServerApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).\r\nTraceback (most recent call last):\r\n  File \"/home/a114383/miniconda3/envs/pfft/bin/jupyter-lab\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/a114383/miniconda3/envs/pfft/lib/python3.6/site-packages/jupyter_server/extension/application.py\", line 504, in launch_instance\r\n    serverapp.start()\r\n  File \"/home/a114383/miniconda3/envs/pfft/lib/python3.6/site-packages/jupyter_server/serverapp.py\", line 1972, in start\r\n    self.start_app()\r\n  File \"/home/a114383/miniconda3/envs/pfft/lib/python3.6/site-packages/jupyter_server/serverapp.py\", line 1933, in start_app\r\n    self.write_server_info_file()\r\n  File \"/home/a114383/miniconda3/envs/pfft/lib/python3.6/site-packages/jupyter_server/serverapp.py\", line 1823, in write_server_info_file\r\n    with secure_write(self.info_file) as f:\r\n  File \"/home/a114383/miniconda3/envs/pfft/lib/python3.6/contextlib.py\", line 81, in __enter__\r\n    return next(self.gen)\r\n  File \"/home/a114383/miniconda3/envs/pfft/lib/python3.6/site-packages/jupyter_server/utils.py\", line 291, in secure_write\r\n    assert '0600' == oct(stat.S_IMODE(os.stat(fname).st_mode)).replace('0o', '0')\r\nAssertionError\r\n```\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/759063566",
    "html_url": "https://github.com/jupyter/notebook/issues/4937#issuecomment-759063566",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4937",
    "id": 759063566,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1OTA2MzU2Ng==",
    "user": {
      "login": "kevin-bates",
      "id": 22599560,
      "node_id": "MDQ6VXNlcjIyNTk5NTYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/22599560?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevin-bates",
      "html_url": "https://github.com/kevin-bates",
      "followers_url": "https://api.github.com/users/kevin-bates/followers",
      "following_url": "https://api.github.com/users/kevin-bates/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevin-bates/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevin-bates/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevin-bates/subscriptions",
      "organizations_url": "https://api.github.com/users/kevin-bates/orgs",
      "repos_url": "https://api.github.com/users/kevin-bates/repos",
      "events_url": "https://api.github.com/users/kevin-bates/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevin-bates/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-12T22:00:52Z",
    "updated_at": "2021-01-12T22:00:52Z",
    "author_association": "MEMBER",
    "body": "Hi @a114383 - updating `jupyter_client` (in the first half of your comment) was the correct thing to do.  Unfortunately, it exposed an issue in jupyter_server in which the older `secure_write` method is still in place and should be replaced with the `secure_write` method in `jupyter_core`.  This update will likely still trigger a similar failure, but the messaging should be a bit more helpful.\r\n\r\nI suspect you'd be able to simulate that error by attempting to run `jupyter notebook` in this environment - since notebook uses the correct variant of `secure_write`.  Could you please try that?  I'd like to be able to close this issue here.\r\n\r\nI will open a new issue in [jupyter_server](https://github.com/jupyter-server/jupyter_server) regarding my previous comment.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/759537563",
    "html_url": "https://github.com/jupyter/notebook/issues/4937#issuecomment-759537563",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4937",
    "id": 759537563,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1OTUzNzU2Mw==",
    "user": {
      "login": "a114383",
      "id": 32073052,
      "node_id": "MDQ6VXNlcjMyMDczMDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/32073052?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/a114383",
      "html_url": "https://github.com/a114383",
      "followers_url": "https://api.github.com/users/a114383/followers",
      "following_url": "https://api.github.com/users/a114383/following{/other_user}",
      "gists_url": "https://api.github.com/users/a114383/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/a114383/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/a114383/subscriptions",
      "organizations_url": "https://api.github.com/users/a114383/orgs",
      "repos_url": "https://api.github.com/users/a114383/repos",
      "events_url": "https://api.github.com/users/a114383/events{/privacy}",
      "received_events_url": "https://api.github.com/users/a114383/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-13T15:50:27Z",
    "updated_at": "2021-01-13T15:50:27Z",
    "author_association": "NONE",
    "body": "Thanks @kevin-bates - Looks like I can run `jupyter notebook` just not `jupyter labs`",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/759557511",
    "html_url": "https://github.com/jupyter/notebook/issues/4937#issuecomment-759557511",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4937",
    "id": 759557511,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1OTU1NzUxMQ==",
    "user": {
      "login": "kevin-bates",
      "id": 22599560,
      "node_id": "MDQ6VXNlcjIyNTk5NTYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/22599560?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevin-bates",
      "html_url": "https://github.com/kevin-bates",
      "followers_url": "https://api.github.com/users/kevin-bates/followers",
      "following_url": "https://api.github.com/users/kevin-bates/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevin-bates/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevin-bates/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevin-bates/subscriptions",
      "organizations_url": "https://api.github.com/users/kevin-bates/orgs",
      "repos_url": "https://api.github.com/users/kevin-bates/repos",
      "events_url": "https://api.github.com/users/kevin-bates/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevin-bates/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-13T16:17:09Z",
    "updated_at": "2021-01-13T16:17:09Z",
    "author_association": "MEMBER",
    "body": "Thanks for the update @a114383 - that is very helpful.  I'm curious why you didn't encounter the same security-related error when running against the notebook server.  Are you setting the env `JUPYTER_ALLOW_INSECURE_WRITES` to bypass the security checks due to the filesystem's configuration? (This is another one of the differences provided by the code in `jupyter_core`.)\r\n\r\nI suspect you'd be able to run lab using a release < 3.x since it's only the 3.x releases that rely on jupyter_server.  That said, we could probably get a jupyter_server release built that uses the core library for this relatively soon.",
    "performed_via_github_app": null
  }
]
