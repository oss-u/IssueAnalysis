[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/330078556",
    "html_url": "https://github.com/jupyter/notebook/issues/2843#issuecomment-330078556",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2843",
    "id": 330078556,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDA3ODU1Ng==",
    "user": {
      "login": "jcrubino",
      "id": 684720,
      "node_id": "MDQ6VXNlcjY4NDcyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/684720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jcrubino",
      "html_url": "https://github.com/jcrubino",
      "followers_url": "https://api.github.com/users/jcrubino/followers",
      "following_url": "https://api.github.com/users/jcrubino/following{/other_user}",
      "gists_url": "https://api.github.com/users/jcrubino/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jcrubino/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jcrubino/subscriptions",
      "organizations_url": "https://api.github.com/users/jcrubino/orgs",
      "repos_url": "https://api.github.com/users/jcrubino/repos",
      "events_url": "https://api.github.com/users/jcrubino/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jcrubino/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-17T19:48:49Z",
    "updated_at": "2017-09-17T19:49:18Z",
    "author_association": "NONE",
    "body": "try \r\n\r\n` location ~* /ipy/(api/kernels/[^/]+/(channels|iopub|shell|stdin)|terminals/websocket)/?`\r\n\r\n`~*` seems to be missing in you config",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/330084974",
    "html_url": "https://github.com/jupyter/notebook/issues/2843#issuecomment-330084974",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2843",
    "id": 330084974,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDA4NDk3NA==",
    "user": {
      "login": "JeremyLG",
      "id": 22235147,
      "node_id": "MDQ6VXNlcjIyMjM1MTQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/22235147?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyLG",
      "html_url": "https://github.com/JeremyLG",
      "followers_url": "https://api.github.com/users/JeremyLG/followers",
      "following_url": "https://api.github.com/users/JeremyLG/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyLG/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyLG/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyLG/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyLG/orgs",
      "repos_url": "https://api.github.com/users/JeremyLG/repos",
      "events_url": "https://api.github.com/users/JeremyLG/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyLG/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-17T20:53:03Z",
    "updated_at": "2017-09-17T20:53:03Z",
    "author_association": "NONE",
    "body": "I tried your idea with\r\n` location ~* /jupyter/(api/kernels/[^/]+/(channels|iopub|shell|stdin)|terminals/websocket)/?`\r\n\r\nBut this still gives me the same 404 error\r\n![error_nginx](https://user-images.githubusercontent.com/22235147/30524812-f2747b52-9bfa-11e7-809e-60e6a08a637a.png)\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/660937282",
    "html_url": "https://github.com/jupyter/notebook/issues/2843#issuecomment-660937282",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2843",
    "id": 660937282,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MDkzNzI4Mg==",
    "user": {
      "login": "LikoV2",
      "id": 34651209,
      "node_id": "MDQ6VXNlcjM0NjUxMjA5",
      "avatar_url": "https://avatars.githubusercontent.com/u/34651209?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LikoV2",
      "html_url": "https://github.com/LikoV2",
      "followers_url": "https://api.github.com/users/LikoV2/followers",
      "following_url": "https://api.github.com/users/LikoV2/following{/other_user}",
      "gists_url": "https://api.github.com/users/LikoV2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LikoV2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LikoV2/subscriptions",
      "organizations_url": "https://api.github.com/users/LikoV2/orgs",
      "repos_url": "https://api.github.com/users/LikoV2/repos",
      "events_url": "https://api.github.com/users/LikoV2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LikoV2/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-20T10:12:11Z",
    "updated_at": "2020-07-20T10:12:11Z",
    "author_association": "NONE",
    "body": "Hi,\r\n\r\nOld issue, should be fixed by now, however I just fixed it. I had exactly the same Nginx configuration as JeremyLG, here is how I fixed it:\r\n\r\n```\r\n    location /notebooks/ {\r\n        proxy_set_header Host $host;\r\n        proxy_pass http://localhost:5001;\r\n    }\r\n\r\n    location ~* /notebooks/(api/kernels/[^/]+/(channels|iopub|shell|stdin)|terminals/websocket)/? {\r\n        proxy_pass http://localhost:5001;\r\n        proxy_set_header Host $host;\r\n        proxy_http_version 1.1;\r\n        proxy_set_header Upgrade \"websocket\";\r\n        proxy_set_header Connection \"Upgrade\";\r\n    }\r\n```\r\nMy Jupyter notebook server is working with these parameters:\r\n```\r\nc.NotebookApp.allow_origin = '*'\r\nc.NotebookApp.allow_remote_access = True\r\nc.NotebookApp.base_url = '/notebooks'\r\nc.NotebookApp.ip = 'localhost'\r\nc.NotebookApp.open_browser = False\r\nc.NotebookApp.password = '[[ YOUR_HASHED_PASSWORD ]]' # optional\r\nc.NotebookApp.port = 5001\r\nc.NotebookApp.trust_xheaders = True\r\n```",
    "performed_via_github_app": null
  }
]
