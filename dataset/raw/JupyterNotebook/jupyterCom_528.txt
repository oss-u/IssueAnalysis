[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/145868953",
    "html_url": "https://github.com/jupyter/notebook/pull/528#issuecomment-145868953",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/528",
    "id": 145868953,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NTg2ODk1Mw==",
    "user": {
      "login": "funkyfuture",
      "id": 2004405,
      "node_id": "MDQ6VXNlcjIwMDQ0MDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2004405?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/funkyfuture",
      "html_url": "https://github.com/funkyfuture",
      "followers_url": "https://api.github.com/users/funkyfuture/followers",
      "following_url": "https://api.github.com/users/funkyfuture/following{/other_user}",
      "gists_url": "https://api.github.com/users/funkyfuture/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/funkyfuture/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/funkyfuture/subscriptions",
      "organizations_url": "https://api.github.com/users/funkyfuture/orgs",
      "repos_url": "https://api.github.com/users/funkyfuture/repos",
      "events_url": "https://api.github.com/users/funkyfuture/events{/privacy}",
      "received_events_url": "https://api.github.com/users/funkyfuture/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-06T14:12:04Z",
    "updated_at": "2015-10-06T14:12:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "re: https://github.com/jupyter/notebook/pull/528#discussion_r41237181\n\n> All these && making the entire dockerfile one or two big steps makes building and debugging a whole lot more annoying. Can you quantify the savings of joining these lines, since the experience is so much worse?\n\nyes, this is certainly annoying while testing. but for this, you can change to one layer per command. (regex substitution)\n\nthe guide on [Dockerfile best practices](https://docs.docker.com/articles/dockerfile_best-practices/#minimize-the-number-of-layers) doesn't actually give any explanation why it is a good practice. but you'll find it in every official image. ([example](https://github.com/docker-library/python/blob/15798abb6cfb145344462a345db4b572227fb859/3.4/Dockerfile))\n\nthe savings is less network-traffic and that depends on the connection. i guess Docker's overhead is slightly reduced when dealing with less layers.\n\nalltogether the amount of layers is halfed, and that includes new layers like `VOLUME`. i haven't compared the layer's sizes.\n\ni did this change from a user's perspective, seeking as few overhead when pulling and running on this image. and that should be achieved with images that are supposed to be used by the public.\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/145977056",
    "html_url": "https://github.com/jupyter/notebook/pull/528#issuecomment-145977056",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/528",
    "id": 145977056,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NTk3NzA1Ng==",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-06T19:46:36Z",
    "updated_at": "2015-10-06T19:46:36Z",
    "author_association": "MEMBER",
    "body": "@funkyfuture if building it in one big step is really preferable, it seems a one-line Dockerfile that's just `bash build.sh` and then a less mangled `build.sh` script would be cleaner.\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/145986721",
    "html_url": "https://github.com/jupyter/notebook/pull/528#issuecomment-145986721",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/528",
    "id": 145986721,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NTk4NjcyMQ==",
    "user": {
      "login": "willingc",
      "id": 2680980,
      "node_id": "MDQ6VXNlcjI2ODA5ODA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2680980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willingc",
      "html_url": "https://github.com/willingc",
      "followers_url": "https://api.github.com/users/willingc/followers",
      "following_url": "https://api.github.com/users/willingc/following{/other_user}",
      "gists_url": "https://api.github.com/users/willingc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/willingc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/willingc/subscriptions",
      "organizations_url": "https://api.github.com/users/willingc/orgs",
      "repos_url": "https://api.github.com/users/willingc/repos",
      "events_url": "https://api.github.com/users/willingc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/willingc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-06T20:17:53Z",
    "updated_at": "2015-10-06T20:17:53Z",
    "author_association": "MEMBER",
    "body": "@minrk @funkyfuture I don't believe the intent of the Dockerfile is to put all on one-line. It's to minimize issues with user introduced configuration errors (related to cache, updating/installing in same command line to avoid silent fails, and configuration maintainability)  see: [RUN documentation](https://docs.docker.com/reference/builder/#run) and RUN section of best practices (https://docs.docker.com/articles/dockerfile_best-practices/) .\n\nHere's a file from one of the Docker devs as best practice: https://github.com/jfrazelle/docker/blob/master/Dockerfile\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/145989370",
    "html_url": "https://github.com/jupyter/notebook/pull/528#issuecomment-145989370",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/528",
    "id": 145989370,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NTk4OTM3MA==",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-06T20:24:16Z",
    "updated_at": "2015-10-06T20:24:16Z",
    "author_association": "MEMBER",
    "body": "@funkyfuture thanks for the PR and explanation! This does seem like an improvement, and we can iterate to find that balance discussed in the best practices.\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/145992066",
    "html_url": "https://github.com/jupyter/notebook/pull/528#issuecomment-145992066",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/528",
    "id": 145992066,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NTk5MjA2Ng==",
    "user": {
      "login": "willingc",
      "id": 2680980,
      "node_id": "MDQ6VXNlcjI2ODA5ODA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2680980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willingc",
      "html_url": "https://github.com/willingc",
      "followers_url": "https://api.github.com/users/willingc/followers",
      "following_url": "https://api.github.com/users/willingc/following{/other_user}",
      "gists_url": "https://api.github.com/users/willingc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/willingc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/willingc/subscriptions",
      "organizations_url": "https://api.github.com/users/willingc/orgs",
      "repos_url": "https://api.github.com/users/willingc/repos",
      "events_url": "https://api.github.com/users/willingc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/willingc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-06T20:34:28Z",
    "updated_at": "2015-10-06T20:34:28Z",
    "author_association": "MEMBER",
    "body": "@minrk :surfer: :ocean: :octopus: Good decision. My explanation is feeling unloved. Just kidding :P :cake:\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/145998498",
    "html_url": "https://github.com/jupyter/notebook/pull/528#issuecomment-145998498",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/528",
    "id": 145998498,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NTk5ODQ5OA==",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-06T20:57:08Z",
    "updated_at": "2015-10-06T20:57:08Z",
    "author_association": "MEMBER",
    "body": "@willingc thanks for your explanation as well!\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/146012262",
    "html_url": "https://github.com/jupyter/notebook/pull/528#issuecomment-146012262",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/528",
    "id": 146012262,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NjAxMjI2Mg==",
    "user": {
      "login": "funkyfuture",
      "id": 2004405,
      "node_id": "MDQ6VXNlcjIwMDQ0MDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2004405?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/funkyfuture",
      "html_url": "https://github.com/funkyfuture",
      "followers_url": "https://api.github.com/users/funkyfuture/followers",
      "following_url": "https://api.github.com/users/funkyfuture/following{/other_user}",
      "gists_url": "https://api.github.com/users/funkyfuture/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/funkyfuture/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/funkyfuture/subscriptions",
      "organizations_url": "https://api.github.com/users/funkyfuture/orgs",
      "repos_url": "https://api.github.com/users/funkyfuture/repos",
      "events_url": "https://api.github.com/users/funkyfuture/events{/privacy}",
      "received_events_url": "https://api.github.com/users/funkyfuture/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-06T21:51:58Z",
    "updated_at": "2015-10-06T21:51:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "sure, there is always a degree of gusto when it comes to optimizations.\n\nespecially the notebook installation should be kept in on `RUN` line as it keeps the build- and test-dependencies out of the image. they are removed from the fs before that layer gets commited.\n",
    "performed_via_github_app": null
  }
]
