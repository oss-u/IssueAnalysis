[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/145916247",
    "html_url": "https://github.com/jupyter/notebook/issues/515#issuecomment-145916247",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/515",
    "id": 145916247,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NTkxNjI0Nw==",
    "user": {
      "login": "ellisonbg",
      "id": 27600,
      "node_id": "MDQ6VXNlcjI3NjAw",
      "avatar_url": "https://avatars.githubusercontent.com/u/27600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ellisonbg",
      "html_url": "https://github.com/ellisonbg",
      "followers_url": "https://api.github.com/users/ellisonbg/followers",
      "following_url": "https://api.github.com/users/ellisonbg/following{/other_user}",
      "gists_url": "https://api.github.com/users/ellisonbg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ellisonbg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ellisonbg/subscriptions",
      "organizations_url": "https://api.github.com/users/ellisonbg/orgs",
      "repos_url": "https://api.github.com/users/ellisonbg/repos",
      "events_url": "https://api.github.com/users/ellisonbg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ellisonbg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-06T16:14:56Z",
    "updated_at": "2015-10-06T16:14:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "We will investigate this - thanks for the example.\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/277021557",
    "html_url": "https://github.com/jupyter/notebook/issues/515#issuecomment-277021557",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/515",
    "id": 277021557,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NzAyMTU1Nw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-02T17:18:34Z",
    "updated_at": "2017-02-02T17:18:34Z",
    "author_association": "MEMBER",
    "body": "I just tested this with the code sample, but I don't know if the problem reported still exists. The output updated less smoothly than in Chromium, but it didn't slow things down problematically. On the other hand, I'm running this on a relatively fast computer, so it may be worse on other machines.\r\n\r\nIf there is anything to improve, I'd guess it's in our stream concatenation and ansi processing machinery. If I insert a 0.01s sleep in the loop, it updates smoothly.\r\n\r\nThe jankiness that I saw is not tied to the logging framework: I could see the same with a plain print():\r\n\r\n```python\r\nimport time\r\nfrom IPython.display import clear_output\r\n\r\nfor num, i in enumerate(range(1000)):\r\n    square = i**2\r\n    clear_output(wait=True)\r\n    print(\"The square of element %d is %d\" %(num, square))\r\n    #time.sleep(0.01)\r\n```",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/277048801",
    "html_url": "https://github.com/jupyter/notebook/issues/515#issuecomment-277048801",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/515",
    "id": 277048801,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NzA0ODgwMQ==",
    "user": {
      "login": "pfigliozzi",
      "id": 1608372,
      "node_id": "MDQ6VXNlcjE2MDgzNzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1608372?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pfigliozzi",
      "html_url": "https://github.com/pfigliozzi",
      "followers_url": "https://api.github.com/users/pfigliozzi/followers",
      "following_url": "https://api.github.com/users/pfigliozzi/following{/other_user}",
      "gists_url": "https://api.github.com/users/pfigliozzi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pfigliozzi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pfigliozzi/subscriptions",
      "organizations_url": "https://api.github.com/users/pfigliozzi/orgs",
      "repos_url": "https://api.github.com/users/pfigliozzi/repos",
      "events_url": "https://api.github.com/users/pfigliozzi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pfigliozzi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-02T18:58:12Z",
    "updated_at": "2017-02-02T18:58:12Z",
    "author_association": "NONE",
    "body": "Just to follow up. I tried the code from takluyver in the notebook 4.2.1 and it was still causing sluggishness in Firefox but was perfectly fine in Chrome. Adding the 0.01s sleep did help Firefox remain usable but was still sluggish.\r\n\r\nNext I tried updating my packages so now I am running notebook 4.3.1. Trying once again takluyver's code in a notebook I found that using the new version 4.3.1 that I have much improved performance in Firefox when using a 0.01s sleep. However, if I remove the 0.01s sleep Firefox becomes just as sluggish as version 4.2.1 without the 0.01 sleep, typically there is a long delay before scrolling and switching tabs.\r\n\r\nI tried playing around with it some more and tried increasing the number of loops from 1000 to 10000.  For Firefox, increasing the number of loops increases the amount of time Firefox is sluggish for when there is no 0.01s sleep. However, when using Chrome for 10000 loops and no 0.01s sleep the kernel would sometimes stop and return the following error:\r\n```python \r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-6-e1fa7ddf5af9> in <module>()\r\n      5     square = i**2\r\n      6     clear_output(wait=True)\r\n----> 7     print(\"The square of element %d is %d\" %(num, square))\r\n      8 #     time.sleep(0.01)\r\n\r\nC:\\Users\\Scherer Lab E\\Anaconda2\\lib\\site-packages\\ipykernel\\iostream.pyc in write(self, string)\r\n    315 \r\n    316             is_child = (not self._is_master_process())\r\n--> 317             self._buffer.write(string)\r\n    318             if is_child:\r\n    319                 # newlines imply flush in subprocesses\r\n\r\nValueError: I/O operation on closed file\r\n```\r\nSometimes I can get this error in Firefox too when I am not using 0.01s sleep and trying to scroll the browser a lot while it is running.\r\n\r\nI have summarized my results below for the two browsers running 10000 loops of the code from takluyver on notebook version 4.3.1.\r\n\r\nBrowser | With `time.sleep(0.01)` | Without `time.sleep(0.01)`\r\n---------|------------------------|----------------------------------\r\nFirefox | Runs fine, No slowdown | Massive slowdown, sometimes `ValueError`\r\nChrome | Runs fine, No slowdown | No slowdown, Sometimes `ValueError`\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/277069293",
    "html_url": "https://github.com/jupyter/notebook/issues/515#issuecomment-277069293",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/515",
    "id": 277069293,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NzA2OTI5Mw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-02T20:11:36Z",
    "updated_at": "2017-02-02T20:11:36Z",
    "author_association": "MEMBER",
    "body": "Thanks for the detailed analysis! If you've got time, could you try it with master too (see [setting up a development environment](http://jupyter-notebook.readthedocs.io/en/latest/contributing.html#setting-up-a-development-environment))?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/279714706",
    "html_url": "https://github.com/jupyter/notebook/issues/515#issuecomment-279714706",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/515",
    "id": 279714706,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTcxNDcwNg==",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-14T14:02:45Z",
    "updated_at": "2017-02-14T14:02:45Z",
    "author_association": "MEMBER",
    "body": "I've tried this with master and 10000 loops and Firefox 51.0.1. I do see the application get a little slower, but still responsive, and occasional 'IOPub message rate exceeded' messages suggesting that the new rate limiting is indeed helping. I think we can tentatively call this improved (if not solved) in 5.0.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/279719746",
    "html_url": "https://github.com/jupyter/notebook/issues/515#issuecomment-279719746",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/515",
    "id": 279719746,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTcxOTc0Ng==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-14T14:22:29Z",
    "updated_at": "2017-02-14T14:22:29Z",
    "author_association": "MEMBER",
    "body": "Thanks Min. Bumped to 5.1 in case we get any new info.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/318221353",
    "html_url": "https://github.com/jupyter/notebook/issues/515#issuecomment-318221353",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/515",
    "id": 318221353,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxODIyMTM1Mw==",
    "user": {
      "login": "gnestor",
      "id": 512354,
      "node_id": "MDQ6VXNlcjUxMjM1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/512354?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnestor",
      "html_url": "https://github.com/gnestor",
      "followers_url": "https://api.github.com/users/gnestor/followers",
      "following_url": "https://api.github.com/users/gnestor/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnestor/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnestor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnestor/subscriptions",
      "organizations_url": "https://api.github.com/users/gnestor/orgs",
      "repos_url": "https://api.github.com/users/gnestor/repos",
      "events_url": "https://api.github.com/users/gnestor/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnestor/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-27T00:25:48Z",
    "updated_at": "2017-07-27T00:25:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm going to close this for now. If it comes up again, we can re-open...",
    "performed_via_github_app": null
  }
]
