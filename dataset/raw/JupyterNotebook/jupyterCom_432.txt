[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/188651368",
    "html_url": "https://github.com/jupyter/notebook/issues/432#issuecomment-188651368",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/432",
    "id": 188651368,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODY1MTM2OA==",
    "user": {
      "login": "sunlizhe",
      "id": 1001254,
      "node_id": "MDQ6VXNlcjEwMDEyNTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1001254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sunlizhe",
      "html_url": "https://github.com/sunlizhe",
      "followers_url": "https://api.github.com/users/sunlizhe/followers",
      "following_url": "https://api.github.com/users/sunlizhe/following{/other_user}",
      "gists_url": "https://api.github.com/users/sunlizhe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sunlizhe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sunlizhe/subscriptions",
      "organizations_url": "https://api.github.com/users/sunlizhe/orgs",
      "repos_url": "https://api.github.com/users/sunlizhe/repos",
      "events_url": "https://api.github.com/users/sunlizhe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sunlizhe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-25T07:31:54Z",
    "updated_at": "2016-02-25T07:31:54Z",
    "author_association": "NONE",
    "body": "it runs good on my local laptop .\nipthon version 4.1.1\njupyter --version 4.0.6\n\nwhen I use jupyter  behind a Nginx Proxy I found( when i click to create a Terminal on the jupter web pages)  it does not work well, and here the exceptions log\n\nhow can i fix it \n\n```\n[E 07:15:01.635 NotebookApp] Uncaught exception GET /terminals/websocket/1 (10.131.16.58)\n    HTTPServerRequest(protocol='http', host='jupyter.hadoop.heracles.creditease.corp', method='GET', uri='/terminals/websocket/1', version='HTTP/1.0', remote_ip='10.131.16.58', headers={'Origin': 'http://jupyter.hadoop.heracles.creditease.corp', 'Accept-Language': 'en,zh-CN;q=0.8,zh;q=0.6,zh-TW;q=0.4', 'Accept-Encoding': 'gzip, deflate, sdch', 'X-Forwarded-For': '10.106.0.111', 'Sec-Websocket-Version': '13', 'Host': 'jupyter.hadoop.heracles.creditease.corp', 'Sec-Websocket-Key': 'XGLpJ5YvwOGFYnQfX6J5Vg==', 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/48.0.2564.109 Safari/537.36', 'Connection': 'close', 'Cookie': 'lzstat_uv=12308132433337636819|3371939', 'Pragma': 'no-cache', 'Cache-Control': 'no-cache', 'X-Real-Ip': '10.106.0.111', 'Sec-Websocket-Extensions': 'permessage-deflate; client_max_window_bits'})\n    Traceback (most recent call last):\n      File \"/usr/local/anaconda2/lib/python2.7/site-packages/tornado/web.py\", line 1401, in _stack_context_handle_exception\n        raise_exc_info((type, value, traceback))\n      File \"/usr/local/anaconda2/lib/python2.7/site-packages/tornado/web.py\", line 1603, in wrapper\n        result = method(self, *args, **kwargs)\n      File \"/usr/local/anaconda2/lib/python2.7/site-packages/tornado/websocket.py\", line 148, in get\n        self.finish(log_msg)\n      File \"/usr/local/anaconda2/lib/python2.7/site-packages/tornado/websocket.py\", line 391, in _disallow_for_websocket\n        method(self, *args, **kwargs)\n      File \"/usr/local/anaconda2/lib/python2.7/site-packages/tornado/web.py\", line 934, in finish\n        self._log()\n    TypeError: 'Logger' object is not callable\n[E 07:15:01.636 NotebookApp] Cannot send error response after headers written\n[E 07:15:01.637 NotebookApp] Failed to flush partial response\n    Traceback (most recent call last):\n      File \"/usr/local/anaconda2/lib/python2.7/site-packages/tornado/web.py\", line 960, in send_error\n        self.finish()\n      File \"/usr/local/anaconda2/lib/python2.7/site-packages/tornado/websocket.py\", line 391, in _disallow_for_websocket\n        method(self, *args, **kwargs)\n      File \"/usr/local/anaconda2/lib/python2.7/site-packages/tornado/web.py\", line 934, in finish\n        self._log()\n    TypeError: 'Logger' object is not callable\n```\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/188756958",
    "html_url": "https://github.com/jupyter/notebook/issues/432#issuecomment-188756958",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/432",
    "id": 188756958,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4ODc1Njk1OA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-25T12:12:34Z",
    "updated_at": "2016-02-25T12:12:34Z",
    "author_association": "MEMBER",
    "body": "What does `jupyter notebook --version` give you? If it's less than 4.1, upgrade.\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/189127628",
    "html_url": "https://github.com/jupyter/notebook/issues/432#issuecomment-189127628",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/432",
    "id": 189127628,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4OTEyNzYyOA==",
    "user": {
      "login": "sunlizhe",
      "id": 1001254,
      "node_id": "MDQ6VXNlcjEwMDEyNTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1001254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sunlizhe",
      "html_url": "https://github.com/sunlizhe",
      "followers_url": "https://api.github.com/users/sunlizhe/followers",
      "following_url": "https://api.github.com/users/sunlizhe/following{/other_user}",
      "gists_url": "https://api.github.com/users/sunlizhe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sunlizhe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sunlizhe/subscriptions",
      "organizations_url": "https://api.github.com/users/sunlizhe/orgs",
      "repos_url": "https://api.github.com/users/sunlizhe/repos",
      "events_url": "https://api.github.com/users/sunlizhe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sunlizhe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-26T06:11:22Z",
    "updated_at": "2016-02-26T08:54:22Z",
    "author_association": "NONE",
    "body": "`jupyter notebook --version`  do returns 4.1, the problem occurs  when running a jupyter behind a nginx proxy  only.\nIt runs good on my local computer.\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/189170885",
    "html_url": "https://github.com/jupyter/notebook/issues/432#issuecomment-189170885",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/432",
    "id": 189170885,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4OTE3MDg4NQ==",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-26T08:57:09Z",
    "updated_at": "2016-02-26T08:57:09Z",
    "author_association": "MEMBER",
    "body": "cc @rgbkrk for nginx ideas. Can you think of any configuration that might be missing?\n\n@sunlizhe can you share your nginx version and relevant nginx config?\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/189179088",
    "html_url": "https://github.com/jupyter/notebook/issues/432#issuecomment-189179088",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/432",
    "id": 189179088,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4OTE3OTA4OA==",
    "user": {
      "login": "sunlizhe",
      "id": 1001254,
      "node_id": "MDQ6VXNlcjEwMDEyNTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1001254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sunlizhe",
      "html_url": "https://github.com/sunlizhe",
      "followers_url": "https://api.github.com/users/sunlizhe/followers",
      "following_url": "https://api.github.com/users/sunlizhe/following{/other_user}",
      "gists_url": "https://api.github.com/users/sunlizhe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sunlizhe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sunlizhe/subscriptions",
      "organizations_url": "https://api.github.com/users/sunlizhe/orgs",
      "repos_url": "https://api.github.com/users/sunlizhe/repos",
      "events_url": "https://api.github.com/users/sunlizhe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sunlizhe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-26T09:15:15Z",
    "updated_at": "2016-02-26T09:49:51Z",
    "author_association": "NONE",
    "body": "```\nuser  nginx nginx;\n\nworker_processes 4;\nworker_rlimit_nofile 65535; \nerror_log  /opt/yrd_logs/nginx/error.log notice;\npid        /var/run/nginx.pid;\nevents {\n    use epoll;\n    worker_connections  51200;\n}\nhttp {\n    include       /etc/nginx/mime.types;\n    default_type  application/octet-stream;\n    log_format main '[$time_local] $remote_addr $server_name \"$request\" $status $request_length $body_bytes_sent $request_time $upstream_response_time $upstream_addr $connection \"$http_user_agent\"';\n    access_log  /dev/null;\n    keepalive_timeout  600;\n    server_names_hash_bucket_size 128;\n    client_header_buffer_size 128k;\n    large_client_header_buffers 4 256k;\n    client_header_timeout  10m;\n    client_body_timeout    10m;\n    send_timeout           10m;\n    sendfile                on;\n    tcp_nopush     on;\n    tcp_nodelay    on;\n    client_max_body_size 50m;\n    client_body_buffer_size 50m;\n    proxy_connect_timeout 300;\n    proxy_send_timeout 300;\n    proxy_read_timeout 600;\n    proxy_buffer_size 4k;\n    proxy_buffers 8 32k;\n    proxy_busy_buffers_size 64k;\n    proxy_temp_file_write_size 64k;\n    proxy_temp_path  /dev/shm/proxy_temp;\n    fastcgi_temp_path  /dev/shm/fastcgi_temp;\n    client_body_temp_path  /dev/shm/client_body_temp;\n    gzip on;\n    gzip_min_length 1k;\n    gzip_buffers     4 16k;\n    gzip_comp_level 2;\n    gzip_http_version 1.1;\n    gzip_types text/plain application/x-javascript text/css application/xml;\n    gzip_vary on;\n    server {\n        listen *:80 default;\n        server_name _ \"\";\n        return 444;\n        access_log   off;\n    }\n    include /etc/nginx/conf.d/*.conf;\n}\n\nserver\n      {\n    listen  80;\n    server_name  jupyter.hadoop.heracles.creditease.corp;\n    charset utf-8;\n    access_log /opt/yrd_logs/nginx/jupyter_hadoop_heracles_creditease_access.log main;\n    error_log  /opt/yrd_logs/nginx/jupyter_hadoop_heracles_creditease_error.log;\n    root /opt/yrd_web;\n    index index.html;\n\n           location /  {\n                       proxy_pass        http://jupyter_hadoop_heracles;\n                       proxy_set_header   Host             $host;\n                       proxy_set_header   X-Real-IP        $remote_addr;\n                       proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;\n                       add_header Access-Control-Allow-Origin *;\n                       add_header Access-Control-Allow-Headers X-Requested-With;\n                       add_header Access-Control-Allow-Methods GET,POST,OPTIONS;\n\n                       client_max_body_size 100m;\n              }\n\n          error_page  500 502 503 504  /50x.html;\n          location = /50x.html {\n            root   html/err;\n          }\n      }\nupstream jupyter_hadoop_heracles {\n    server 10.130.81.183:8889;\n    }\n```\n\nnginx version: nginx/1.8.0\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/189186271",
    "html_url": "https://github.com/jupyter/notebook/issues/432#issuecomment-189186271",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/432",
    "id": 189186271,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4OTE4NjI3MQ==",
    "user": {
      "login": "sunlizhe",
      "id": 1001254,
      "node_id": "MDQ6VXNlcjEwMDEyNTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1001254?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sunlizhe",
      "html_url": "https://github.com/sunlizhe",
      "followers_url": "https://api.github.com/users/sunlizhe/followers",
      "following_url": "https://api.github.com/users/sunlizhe/following{/other_user}",
      "gists_url": "https://api.github.com/users/sunlizhe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sunlizhe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sunlizhe/subscriptions",
      "organizations_url": "https://api.github.com/users/sunlizhe/orgs",
      "repos_url": "https://api.github.com/users/sunlizhe/repos",
      "events_url": "https://api.github.com/users/sunlizhe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sunlizhe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-26T09:26:34Z",
    "updated_at": "2016-02-26T09:27:03Z",
    "author_association": "NONE",
    "body": "on the website of jupter notebook I found the following description\n\n'To function correctly, the firewall on the computer running the jupyter notebook server must be configured to allow connections from client machines on the access port c.NotebookApp.port set in :file:jupyter_notebook_config.py port to allow connections to the web interface. The firewall must also allow connections from 127.0.0.1 (localhost) on ports from 49152 to 65535. These ports are used by the server to communicate with the notebook kernels. The kernel communication ports are chosen randomly by ZeroMQ, and may require multiple connections per kernel, so a large range of ports must be accessible'\n\ndoes it means  there is a ZeroMQ client (mybe base javascript ) need connect to the jupyter notebook server via posts from 49152 to 65535 when using 'New--- Terminal' function on the web page side ? so its may be the reason of this problem?\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/189195976",
    "html_url": "https://github.com/jupyter/notebook/issues/432#issuecomment-189195976",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/432",
    "id": 189195976,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE4OTE5NTk3Ng==",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-02-26T09:49:34Z",
    "updated_at": "2016-02-26T09:49:34Z",
    "author_association": "MEMBER",
    "body": "No, by the time it gets to nginx, this is just http over a single port. The ZeroMQ stuff is between the server and its kernels.\n",
    "performed_via_github_app": null
  }
]
