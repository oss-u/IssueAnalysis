[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/399272564",
    "html_url": "https://github.com/jupyter/notebook/issues/3705#issuecomment-399272564",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3705",
    "id": 399272564,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5OTI3MjU2NA==",
    "user": {
      "login": "jasongrout",
      "id": 192614,
      "node_id": "MDQ6VXNlcjE5MjYxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/192614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jasongrout",
      "html_url": "https://github.com/jasongrout",
      "followers_url": "https://api.github.com/users/jasongrout/followers",
      "following_url": "https://api.github.com/users/jasongrout/following{/other_user}",
      "gists_url": "https://api.github.com/users/jasongrout/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jasongrout/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jasongrout/subscriptions",
      "organizations_url": "https://api.github.com/users/jasongrout/orgs",
      "repos_url": "https://api.github.com/users/jasongrout/repos",
      "events_url": "https://api.github.com/users/jasongrout/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jasongrout/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-21T23:17:10Z",
    "updated_at": "2018-06-22T00:15:44Z",
    "author_association": "MEMBER",
    "body": "Here is a dump of the logging I've been doing. There's a lot going on here - I've turned on debug logging for the kernel and the notebook server, and I've also added in some debug logging in the server and kernel and browser on the message pathways.\r\n\r\nHere I start up the notebook server, start a kernel, and do a kernel_info_request call to it. The appropriate status messages come back. Skip down below to see where the restart happens and the problem occurs.\r\n```[D 16:10:24.513 ServicesTestApp] Accepting token-authenticated connection from 127.0.0.1\r\n[D 16:10:24.514 ServicesTestApp] Found kernel echo in /var/folders/ln/5623mk393v77n5l3rk2x88h00000gp/T/tmpbkodvoiw/jupyter_data/kernels\r\n[D 16:10:24.514 ServicesTestApp] Found kernel ipython in /var/folders/ln/5623mk393v77n5l3rk2x88h00000gp/T/tmpbkodvoiw/jupyter_data/kernels\r\n[D 16:10:24.515 ServicesTestApp] Native kernel (python3) available from /[snip]/miniconda3/envs/devjlab/lib/python3.6/site-packages/ipykernel/resources\r\n[D 16:10:24.517 ServicesTestApp] 200 GET /api/kernelspecs?1529622624504 (127.0.0.1) 4.33ms\r\n    #status\r\n[D 16:10:24.525 ServicesTestApp] Accepting token-authenticated connection from 127.0.0.1\r\n[D 16:10:24.549 ServicesTestApp] Starting kernel: ['/[snip]/miniconda3/envs/devjlab/bin/python', '-m', 'jupyterlab.tests.echo_kernel', '-f', '/var/folders/ln/5623mk393v77n5l3rk2x88h00000gp/T/tmpbkodvoiw/jupyter_runtime/kernel-6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47.json', '--debug']\r\n[D 16:10:24.553 ServicesTestApp] Connecting to: tcp://127.0.0.1:53723\r\n[D 16:10:24.555 ServicesTestApp] Connecting to: tcp://127.0.0.1:53721\r\n[I 16:10:24.557 ServicesTestApp] Kernel started: 6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47\r\n[D 16:10:24.557 ServicesTestApp] Kernel args: {'kernel_name': 'echo'}\r\n[D 16:10:24.558 ServicesTestApp] 201 POST /api/kernels?1529622624523 (127.0.0.1) 32.98ms\r\nStarting WebSocket: ws://localhost:8888/api/kernels/6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47\r\n[D 16:10:24.563 ServicesTestApp] Initializing websocket connection /api/kernels/6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47/channels\r\n[D 16:10:24.564 ServicesTestApp] Accepting token-authenticated connection from 127.0.0.1\r\n[D 16:10:24.564 ServicesTestApp] Requesting kernel info from 6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47\r\n[D 16:10:24.564 ServicesTestApp] Connecting to: tcp://127.0.0.1:53720\r\n[EchoKernelApp] IPYTHONDIR set to: /var/folders/ln/5623mk393v77n5l3rk2x88h00000gp/T/tmpbkodvoiw/ipython\r\n[EchoKernelApp] Created profile dir: '/var/folders/ln/5623mk393v77n5l3rk2x88h00000gp/T/tmpbkodvoiw/ipython/profile_default'\r\n[EchoKernelApp] Searching path ['/[snip]/projects/app/jupyterlab/packages/services', '/var/folders/ln/5623mk393v77n5l3rk2x88h00000gp/T/tmpbkodvoiw/ipython/profile_default', '/[snip]/miniconda3/envs/devjlab/etc/ipython', '/usr/local/etc/ipython', '/etc/ipython'] for config files\r\n[EchoKernelApp] Attempting to load config file: ipython_config.py\r\n[EchoKernelApp] Looking for ipython_config in /etc/ipython\r\n[EchoKernelApp] Looking for ipython_config in /usr/local/etc/ipython\r\n[EchoKernelApp] Looking for ipython_config in /[snip]/miniconda3/envs/devjlab/etc/ipython\r\n[EchoKernelApp] Looking for ipython_config in /var/folders/ln/5623mk393v77n5l3rk2x88h00000gp/T/tmpbkodvoiw/ipython/profile_default\r\n[EchoKernelApp] Looking for ipython_config in /[snip]/projects/app/jupyterlab/packages/services\r\n[EchoKernelApp] Attempting to load config file: ipython_kernel_config.py\r\n[EchoKernelApp] Looking for ipython_kernel_config in /etc/ipython\r\n[EchoKernelApp] Looking for ipython_kernel_config in /usr/local/etc/ipython\r\n[EchoKernelApp] Looking for ipython_kernel_config in /[snip]/miniconda3/envs/devjlab/etc/ipython\r\n[EchoKernelApp] Looking for ipython_kernel_config in /var/folders/ln/5623mk393v77n5l3rk2x88h00000gp/T/tmpbkodvoiw/ipython/profile_default\r\n[EchoKernelApp] Looking for ipython_kernel_config in /[snip]/projects/app/jupyterlab/packages/services\r\n[EchoKernelApp] Loading connection file /var/folders/ln/5623mk393v77n5l3rk2x88h00000gp/T/tmpbkodvoiw/jupyter_runtime/kernel-6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47.json\r\n[EchoKernelApp] Starting the kernel at pid: 31042\r\n[EchoKernelApp] shell ROUTER Channel on port: 53720\r\n[EchoKernelApp] stdin ROUTER Channel on port: 53722\r\n[EchoKernelApp] control ROUTER Channel on port: 53723\r\n[EchoKernelApp] iopub PUB Channel on port: 53721\r\n[EchoKernelApp] Heartbeat REP Channel on port: 53724\r\n[EchoKernelApp] Writing connection file: /var/folders/ln/5623mk393v77n5l3rk2x88h00000gp/T/tmpbkodvoiw/jupyter_runtime/kernel-6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47.json\r\n[EchoKernelApp] To connect another client to this kernel, use:\r\n[EchoKernelApp]     --existing kernel-6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47.json\r\n[EchoKernelApp] STATUS - Sent status starting: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 31029, tzinfo=datetime.timezone.utc), 'session': '6bc05d3a-be716bf13c0d9e2494e4ccab', 'username': 'user', 'msg_type': 'status', 'msg_id': 'c76151fe-f8173c4a5a03891c653b0fbd'}, 'msg_id': 'c76151fe-f8173c4a5a03891c653b0fbd', 'msg_type': 'status', 'parent_header': {}, 'content': {'execution_state': 'starting'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x106b141d0>}\r\n[EchoKernelApp] STATUS - Sent status busy: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 45319, tzinfo=datetime.timezone.utc), 'session': '6bc05d3a-be716bf13c0d9e2494e4ccab', 'username': 'user', 'msg_type': 'status', 'msg_id': '8a4c132e-f586abcb8104007f7e6b050e'}, 'msg_id': '8a4c132e-f586abcb8104007f7e6b050e', 'msg_type': 'status', 'parent_header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 24, 564891, tzinfo=tzutc()), 'session': 'e8508dcde3edd3b4733ba40fb75ea2d5', 'username': 'user', 'msg_type': 'kernel_info_request', 'msg_id': '8a6cee35-56097d2bbd56591b0b17ecc3'}, 'content': {'execution_state': 'busy'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x106b141d0>}\r\n[EchoKernelApp] \r\n*** MESSAGE TYPE:kernel_info_request***\r\n[EchoKernelApp]    Content: {}\r\n   --->\r\n   \r\n[EchoKernelApp] kernel_info_request: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 24, 564891, tzinfo=tzutc()), 'session': 'e8508dcde3edd3b4733ba40fb75ea2d5', 'username': 'user', 'msg_type': 'kernel_info_request', 'msg_id': '8a6cee35-56097d2bbd56591b0b17ecc3'}, 'msg_id': '8a6cee35-56097d2bbd56591b0b17ecc3', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': {}, 'buffers': []}\r\n[EchoKernelApp] {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 45936, tzinfo=datetime.timezone.utc), 'session': '6bc05d3a-be716bf13c0d9e2494e4ccab', 'username': 'user', 'msg_type': 'kernel_info_reply', 'msg_id': '11654f9b-189cb7b22ca6a93af1ee8ea1'}, 'msg_id': '11654f9b-189cb7b22ca6a93af1ee8ea1', 'msg_type': 'kernel_info_reply', 'parent_header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 24, 564891, tzinfo=tzutc()), 'session': 'e8508dcde3edd3b4733ba40fb75ea2d5', 'username': 'user', 'msg_type': 'kernel_info_request', 'msg_id': '8a6cee35-56097d2bbd56591b0b17ecc3'}, 'content': {'status': 'ok', 'protocol_version': '5.1', 'implementation': 'Echo', 'implementation_version': '1.0', 'language_info': {'name': 'echo', 'mimetype': 'text/plain', 'file_extension': '.txt'}, 'banner': 'Echo kernel - as useful as a parrot', 'help_links': []}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x106b141d0>}\r\n[EchoKernelApp] STATUS - Sent status idle: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 46779, tzinfo=datetime.timezone.utc), 'session': '6bc05d3a-be716bf13c0d9e2494e4ccab', 'username': 'user', 'msg_type': 'status', 'msg_id': 'e0939654-fa3f4b62d10b8a990c5d79a8'}, 'msg_id': 'e0939654-fa3f4b62d10b8a990c5d79a8', 'msg_type': 'status', 'parent_header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 24, 564891, tzinfo=tzutc()), 'session': 'e8508dcde3edd3b4733ba40fb75ea2d5', 'username': 'user', 'msg_type': 'kernel_info_request', 'msg_id': '8a6cee35-56097d2bbd56591b0b17ecc3'}, 'content': {'execution_state': 'idle'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x106b141d0>}\r\n[D 16:10:25.048 ServicesTestApp] Received kernel info: {'status': 'ok', 'protocol_version': '5.1', 'implementation': 'Echo', 'implementation_version': '1.0', 'language_info': {'name': 'echo', 'mimetype': 'text/plain', 'file_extension': '.txt'}, 'banner': 'Echo kernel - as useful as a parrot', 'help_links': []}\r\n[I 16:10:25.048 ServicesTestApp] Adapting to protocol v5.1 for kernel 6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47\r\n[D 16:10:25.049 ServicesTestApp] 101 GET /api/kernels/6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47/channels?session_id=e8508dcde3edd3b4733ba40fb75ea2d5&token=3ca46d4126b8b5b5e88215e15cf168701579e9b8c6adbb4c (127.0.0.1) 486.28ms\r\n[D 16:10:25.049 ServicesTestApp] Opening websocket /api/kernels/6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47/channels\r\n[D 16:10:25.049 ServicesTestApp] Getting buffer for 6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47\r\n[D 16:10:25.049 ServicesTestApp] Connecting to: tcp://127.0.0.1:53720\r\n[D 16:10:25.049 ServicesTestApp] Connecting to: tcp://127.0.0.1:53721\r\n[D 16:10:25.049 ServicesTestApp] Connecting to: tcp://127.0.0.1:53722\r\nKernel: connected (6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47)\r\nJS KERNEL SENT     MESSAGE: K6e7a63 Mb584a4 kernel_info_request\r\n[W 16:10:25.052 ServicesTestApp] NBSERVER: FORWARD FROM JS TO KERNEL: {'header': {'username': '', 'version': '5.2', 'session': 'e8508dcde3edd3b4733ba40fb75ea2d5', 'msg_id': 'b584a48f9ac3baef7aea1f80208c6a68', 'msg_type': 'kernel_info_request'}, 'parent_header': {}, 'content': {}, 'metadata': {}, 'buffers': []}\r\n[EchoKernelApp] STATUS - Sent status busy: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 53690, tzinfo=datetime.timezone.utc), 'session': '6bc05d3a-be716bf13c0d9e2494e4ccab', 'username': 'user', 'msg_type': 'status', 'msg_id': '1703a26a-df0ec43e3491205115bd705a'}, 'msg_id': '1703a26a-df0ec43e3491205115bd705a', 'msg_type': 'status', 'parent_header': {'username': '', 'version': '5.2', 'session': 'e8508dcde3edd3b4733ba40fb75ea2d5', 'msg_id': 'b584a48f9ac3baef7aea1f80208c6a68', 'msg_type': 'kernel_info_request', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 52933, tzinfo=tzutc())}, 'content': {'execution_state': 'busy'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x106b141d0>}\r\n[EchoKernelApp] \r\n*** MESSAGE TYPE:kernel_info_request***\r\n[EchoKernelApp]    Content: {}\r\n   --->\r\n   \r\n[EchoKernelApp] kernel_info_request: {'header': {'username': '', 'version': '5.2', 'session': 'e8508dcde3edd3b4733ba40fb75ea2d5', 'msg_id': 'b584a48f9ac3baef7aea1f80208c6a68', 'msg_type': 'kernel_info_request', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 52933, tzinfo=tzutc())}, 'msg_id': 'b584a48f9ac3baef7aea1f80208c6a68', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': {}, 'buffers': []}\r\n[EchoKernelApp] {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 54090, tzinfo=datetime.timezone.utc), 'session': '6bc05d3a-be716bf13c0d9e2494e4ccab', 'username': 'user', 'msg_type': 'kernel_info_reply', 'msg_id': 'ce466f51-a0706f63bb4edb3b855fab6e'}, 'msg_id': 'ce466f51-a0706f63bb4edb3b855fab6e', 'msg_type': 'kernel_info_reply', 'parent_header': {'username': '', 'version': '5.2', 'session': 'e8508dcde3edd3b4733ba40fb75ea2d5', 'msg_id': 'b584a48f9ac3baef7aea1f80208c6a68', 'msg_type': 'kernel_info_request', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 52933, tzinfo=tzutc())}, 'content': {'status': 'ok', 'protocol_version': '5.1', 'implementation': 'Echo', 'implementation_version': '1.0', 'language_info': {'name': 'echo', 'mimetype': 'text/plain', 'file_extension': '.txt'}, 'banner': 'Echo kernel - as useful as a parrot', 'help_links': []}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x106b141d0>}\r\n[EchoKernelApp] STATUS - Sent status idle: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 54838, tzinfo=datetime.timezone.utc), 'session': '6bc05d3a-be716bf13c0d9e2494e4ccab', 'username': 'user', 'msg_type': 'status', 'msg_id': '86e8347d-e8a19e2d41c4e1124ebb1e39'}, 'msg_id': '86e8347d-e8a19e2d41c4e1124ebb1e39', 'msg_type': 'status', 'parent_header': {'username': '', 'version': '5.2', 'session': 'e8508dcde3edd3b4733ba40fb75ea2d5', 'msg_id': 'b584a48f9ac3baef7aea1f80208c6a68', 'msg_type': 'kernel_info_request', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 52933, tzinfo=tzutc())}, 'content': {'execution_state': 'idle'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x106b141d0>}\r\n[W 16:10:25.055 ServicesTestApp] NBSERVER: RECEIVING FROM KERNEL: iopub: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 53690, tzinfo=tzutc()), 'session': '6bc05d3a-be716bf13c0d9e2494e4ccab', 'username': 'user', 'msg_type': 'status', 'msg_id': '1703a26a-df0ec43e3491205115bd705a'}, 'msg_id': '1703a26a-df0ec43e3491205115bd705a', 'msg_type': 'status', 'parent_header': {'username': '', 'version': '5.2', 'session': 'e8508dcde3edd3b4733ba40fb75ea2d5', 'msg_id': 'b584a48f9ac3baef7aea1f80208c6a68', 'msg_type': 'kernel_info_request', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 52933, tzinfo=tzutc())}, 'metadata': {}, 'content': {'execution_state': 'busy'}, 'buffers': []}\r\n[W 16:10:25.055 ServicesTestApp] NBSERVER: SENDING TO JS: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 53690, tzinfo=tzutc()), 'session': '6bc05d3a-be716bf13c0d9e2494e4ccab', 'username': 'user', 'msg_type': 'status', 'msg_id': '1703a26a-df0ec43e3491205115bd705a'}, 'msg_id': '1703a26a-df0ec43e3491205115bd705a', 'msg_type': 'status', 'parent_header': {'username': '', 'version': '5.2', 'session': 'e8508dcde3edd3b4733ba40fb75ea2d5', 'msg_id': 'b584a48f9ac3baef7aea1f80208c6a68', 'msg_type': 'kernel_info_request', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 52933, tzinfo=tzutc())}, 'metadata': {}, 'content': {'execution_state': 'busy'}, 'buffers': []}\r\n[W 16:10:25.055 ServicesTestApp] NBSERVER: RECEIVING FROM KERNEL: iopub: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 54838, tzinfo=tzutc()), 'session': '6bc05d3a-be716bf13c0d9e2494e4ccab', 'username': 'user', 'msg_type': 'status', 'msg_id': '86e8347d-e8a19e2d41c4e1124ebb1e39'}, 'msg_id': '86e8347d-e8a19e2d41c4e1124ebb1e39', 'msg_type': 'status', 'parent_header': {'username': '', 'version': '5.2', 'session': 'e8508dcde3edd3b4733ba40fb75ea2d5', 'msg_id': 'b584a48f9ac3baef7aea1f80208c6a68', 'msg_type': 'kernel_info_request', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 52933, tzinfo=tzutc())}, 'metadata': {}, 'content': {'execution_state': 'idle'}, 'buffers': []}\r\n[W 16:10:25.055 ServicesTestApp] NBSERVER: SENDING TO JS: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 54838, tzinfo=tzutc()), 'session': '6bc05d3a-be716bf13c0d9e2494e4ccab', 'username': 'user', 'msg_type': 'status', 'msg_id': '86e8347d-e8a19e2d41c4e1124ebb1e39'}, 'msg_id': '86e8347d-e8a19e2d41c4e1124ebb1e39', 'msg_type': 'status', 'parent_header': {'username': '', 'version': '5.2', 'session': 'e8508dcde3edd3b4733ba40fb75ea2d5', 'msg_id': 'b584a48f9ac3baef7aea1f80208c6a68', 'msg_type': 'kernel_info_request', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 52933, tzinfo=tzutc())}, 'metadata': {}, 'content': {'execution_state': 'idle'}, 'buffers': []}\r\n[W 16:10:25.056 ServicesTestApp] NBSERVER: RECEIVING FROM KERNEL: shell: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 54090, tzinfo=tzutc()), 'session': '6bc05d3a-be716bf13c0d9e2494e4ccab', 'username': 'user', 'msg_type': 'kernel_info_reply', 'msg_id': 'ce466f51-a0706f63bb4edb3b855fab6e'}, 'msg_id': 'ce466f51-a0706f63bb4edb3b855fab6e', 'msg_type': 'kernel_info_reply', 'parent_header': {'username': '', 'version': '5.2', 'session': 'e8508dcde3edd3b4733ba40fb75ea2d5', 'msg_id': 'b584a48f9ac3baef7aea1f80208c6a68', 'msg_type': 'kernel_info_request', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 52933, tzinfo=tzutc())}, 'metadata': {}, 'content': {'status': 'ok', 'protocol_version': '5.1', 'implementation': 'Echo', 'implementation_version': '1.0', 'language_info': {'name': 'echo', 'mimetype': 'text/plain', 'file_extension': '.txt'}, 'banner': 'Echo kernel - as useful as a parrot', 'help_links': []}, 'buffers': []}\r\n[W 16:10:25.056 ServicesTestApp] NBSERVER: SENDING TO JS: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 54090, tzinfo=tzutc()), 'session': '6bc05d3a-be716bf13c0d9e2494e4ccab', 'username': 'user', 'msg_type': 'kernel_info_reply', 'msg_id': 'ce466f51-a0706f63bb4edb3b855fab6e'}, 'msg_id': 'ce466f51-a0706f63bb4edb3b855fab6e', 'msg_type': 'kernel_info_reply', 'parent_header': {'username': '', 'version': '5.2', 'session': 'e8508dcde3edd3b4733ba40fb75ea2d5', 'msg_id': 'b584a48f9ac3baef7aea1f80208c6a68', 'msg_type': 'kernel_info_request', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 52933, tzinfo=tzutc())}, 'metadata': {}, 'content': {'status': 'ok', 'protocol_version': '5.1', 'implementation': 'Echo', 'implementation_version': '1.0', 'language_info': {'name': 'echo', 'mimetype': 'text/plain', 'file_extension': '.txt'}, 'banner': 'Echo kernel - as useful as a parrot', 'help_links': []}, 'buffers': []}\r\n\r\nIMMEDIATE RECEIVE {\"header\": {\"version\": \"5.3\", \"date\": \"2018-06-21T23:10:25.053690Z\", \"session\": \"6bc05d3a-be716bf13c0d9e2494e4ccab\", \"username\": \"user\", \"msg_type\": \"status\", \"msg_id\": \"1703a26a-df0ec43e3491205115bd705a\"}, \"msg_id\": \"1703a26a-df0ec43e3491205115bd705a\", \"msg_type\": \"status\", \"parent_header\": {\"username\": \"\", \"version\": \"5.2\", \"session\": \"e8508dcde3edd3b4733ba40fb75ea2d5\", \"msg_id\": \"b584a48f9ac3baef7aea1f80208c6a68\", \"msg_type\": \"kernel_info_request\", \"date\": \"2018-06-21T23:10:25.052933Z\"}, \"metadata\": {}, \"content\": {\"execution_state\": \"busy\"}, \"buffers\": [], \"channel\": \"iopub\"}\r\nJS KERNEL RECEIVED MESSAGE: K6e7a63 Ce8508d KS MS6bc05d Pb584a4 M1703a2 status busy \r\n\r\nIMMEDIATE RECEIVE {\"header\": {\"version\": \"5.3\", \"date\": \"2018-06-21T23:10:25.054838Z\", \"session\": \"6bc05d3a-be716bf13c0d9e2494e4ccab\", \"username\": \"user\", \"msg_type\": \"status\", \"msg_id\": \"86e8347d-e8a19e2d41c4e1124ebb1e39\"}, \"msg_id\": \"86e8347d-e8a19e2d41c4e1124ebb1e39\", \"msg_type\": \"status\", \"parent_header\": {\"username\": \"\", \"version\": \"5.2\", \"session\": \"e8508dcde3edd3b4733ba40fb75ea2d5\", \"msg_id\": \"b584a48f9ac3baef7aea1f80208c6a68\", \"msg_type\": \"kernel_info_request\", \"date\": \"2018-06-21T23:10:25.052933Z\"}, \"metadata\": {}, \"content\": {\"execution_state\": \"idle\"}, \"buffers\": [], \"channel\": \"iopub\"}\r\nJS KERNEL RECEIVED MESSAGE: K6e7a63 Ce8508d KS6bc05d MS6bc05d Pb584a4 M86e834 status idle \r\n\r\nIMMEDIATE RECEIVE {\"header\": {\"version\": \"5.3\", \"date\": \"2018-06-21T23:10:25.054090Z\", \"session\": \"6bc05d3a-be716bf13c0d9e2494e4ccab\", \"username\": \"user\", \"msg_type\": \"kernel_info_reply\", \"msg_id\": \"ce466f51-a0706f63bb4edb3b855fab6e\"}, \"msg_id\": \"ce466f51-a0706f63bb4edb3b855fab6e\", \"msg_type\": \"kernel_info_reply\", \"parent_header\": {\"username\": \"\", \"version\": \"5.2\", \"session\": \"e8508dcde3edd3b4733ba40fb75ea2d5\", \"msg_id\": \"b584a48f9ac3baef7aea1f80208c6a68\", \"msg_type\": \"kernel_info_request\", \"date\": \"2018-06-21T23:10:25.052933Z\"}, \"metadata\": {}, \"content\": {\"status\": \"ok\", \"protocol_version\": \"5.1\", \"implementation\": \"Echo\", \"implementation_version\": \"1.0\", \"language_info\": {\"name\": \"echo\", \"mimetype\": \"text/plain\", \"file_extension\": \".txt\"}, \"banner\": \"Echo kernel - as useful as a parrot\", \"help_links\": []}, \"buffers\": [], \"channel\": \"shell\"}\r\nJS KERNEL RECEIVED MESSAGE: K6e7a63 Ce8508d KS6bc05d MS6bc05d Pb584a4 Mce466f kernel_info_reply \r\nJS KERNEL: K6e7a63 Mb584a4 future done\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nRight here I restart the kernel via a rest api call\r\n```\r\nKernel: restarting (6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47)\r\nclosing ws connection: 6e7a63\r\n[D 16:10:25.061 ServicesTestApp] Websocket closed 6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47:e8508dcde3edd3b4733ba40fb75ea2d5\r\n[I 16:10:25.061 ServicesTestApp] Starting buffering for 6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47:e8508dcde3edd3b4733ba40fb75ea2d5\r\n[D 16:10:25.062 ServicesTestApp] Clearing buffer for 6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47\r\n[D 16:10:25.065 ServicesTestApp] Accepting token-authenticated connection from 127.0.0.1\r\n[EchoKernelApp] STATUS - Sent status busy: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 66256, tzinfo=datetime.timezone.utc), 'session': '6bc05d3a-be716bf13c0d9e2494e4ccab', 'username': 'user', 'msg_type': 'status', 'msg_id': '8300a0ff-5c0e61b69fc4886842986f70'}, 'msg_id': '8300a0ff-5c0e61b69fc4886842986f70', 'msg_type': 'status', 'parent_header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 65395, tzinfo=tzutc()), 'session': '1b92563a-aeb869eab29059579f8912f9', 'username': 'user', 'msg_type': 'shutdown_request', 'msg_id': '2b3bf122-baed94cf05e1187909b13c3f'}, 'content': {'execution_state': 'busy'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x106b141d0>}\r\n[EchoKernelApp] \r\n*** MESSAGE TYPE:shutdown_request***\r\n[EchoKernelApp]    Content: {'restart': True}\r\n   --->\r\n   \r\n[EchoKernelApp] shutdown_request: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 65395, tzinfo=tzutc()), 'session': '1b92563a-aeb869eab29059579f8912f9', 'username': 'user', 'msg_type': 'shutdown_request', 'msg_id': '2b3bf122-baed94cf05e1187909b13c3f'}, 'msg_id': '2b3bf122-baed94cf05e1187909b13c3f', 'msg_type': 'shutdown_request', 'parent_header': {}, 'metadata': {}, 'content': {'restart': True}, 'buffers': []}\r\n[EchoKernelApp] {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 66941, tzinfo=datetime.timezone.utc), 'session': '6bc05d3a-be716bf13c0d9e2494e4ccab', 'username': 'user', 'msg_type': 'shutdown_reply', 'msg_id': '3a0f4b15-531249dfe0f2550bb894d415'}, 'msg_id': '3a0f4b15-531249dfe0f2550bb894d415', 'msg_type': 'shutdown_reply', 'parent_header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 65395, tzinfo=tzutc()), 'session': '1b92563a-aeb869eab29059579f8912f9', 'username': 'user', 'msg_type': 'shutdown_request', 'msg_id': '2b3bf122-baed94cf05e1187909b13c3f'}, 'content': {'status': 'ok', 'restart': True}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x106b141d0>}\r\n[EchoKernelApp] STATUS - Sent status idle: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 68480, tzinfo=datetime.timezone.utc), 'session': '6bc05d3a-be716bf13c0d9e2494e4ccab', 'username': 'user', 'msg_type': 'status', 'msg_id': 'ab86fadd-f94fe52a7d19988d359fed7a'}, 'msg_id': 'ab86fadd-f94fe52a7d19988d359fed7a', 'msg_type': 'status', 'parent_header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 65395, tzinfo=tzutc()), 'session': '1b92563a-aeb869eab29059579f8912f9', 'username': 'user', 'msg_type': 'shutdown_request', 'msg_id': '2b3bf122-baed94cf05e1187909b13c3f'}, 'content': {'execution_state': 'idle'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x106b141d0>}\r\n[D 16:10:25.277 ServicesTestApp] Starting kernel: ['/[snip]/miniconda3/envs/devjlab/bin/python', '-m', 'jupyterlab.tests.echo_kernel', '-f', '/var/folders/ln/5623mk393v77n5l3rk2x88h00000gp/T/tmpbkodvoiw/jupyter_runtime/kernel-6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47.json', '--debug']\r\n[D 16:10:25.282 ServicesTestApp] Connecting to: tcp://127.0.0.1:53723\r\n[I 16:10:25.283 ServicesTestApp] Kernel restarted: 6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47\r\n[D 16:10:25.283 ServicesTestApp] Connecting to: tcp://127.0.0.1:53720\r\n[D 16:10:25.285 ServicesTestApp] Buffering msg on 6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47:iopub\r\n[D 16:10:25.285 ServicesTestApp] Buffering msg on 6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47:iopub\r\n[D 16:10:25.285 ServicesTestApp] Buffering msg on 6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47:iopub\r\n[EchoKernelApp] IPYTHONDIR set to: /var/folders/ln/5623mk393v77n5l3rk2x88h00000gp/T/tmpbkodvoiw/ipython\r\n[EchoKernelApp] Using existing profile dir: '/var/folders/ln/5623mk393v77n5l3rk2x88h00000gp/T/tmpbkodvoiw/ipython/profile_default'\r\n[EchoKernelApp] Searching path ['/[snip]/projects/app/jupyterlab/packages/services', '/var/folders/ln/5623mk393v77n5l3rk2x88h00000gp/T/tmpbkodvoiw/ipython/profile_default', '/[snip]/miniconda3/envs/devjlab/etc/ipython', '/usr/local/etc/ipython', '/etc/ipython'] for config files\r\n[EchoKernelApp] Attempting to load config file: ipython_config.py\r\n[EchoKernelApp] Looking for ipython_config in /etc/ipython\r\n[EchoKernelApp] Looking for ipython_config in /usr/local/etc/ipython\r\n[EchoKernelApp] Looking for ipython_config in /[snip]/miniconda3/envs/devjlab/etc/ipython\r\n[EchoKernelApp] Looking for ipython_config in /var/folders/ln/5623mk393v77n5l3rk2x88h00000gp/T/tmpbkodvoiw/ipython/profile_default\r\n[EchoKernelApp] Looking for ipython_config in /[snip]/projects/app/jupyterlab/packages/services\r\n[EchoKernelApp] Attempting to load config file: ipython_kernel_config.py\r\n[EchoKernelApp] Looking for ipython_kernel_config in /etc/ipython\r\n[EchoKernelApp] Looking for ipython_kernel_config in /usr/local/etc/ipython\r\n[EchoKernelApp] Looking for ipython_kernel_config in /[snip]/miniconda3/envs/devjlab/etc/ipython\r\n[EchoKernelApp] Looking for ipython_kernel_config in /var/folders/ln/5623mk393v77n5l3rk2x88h00000gp/T/tmpbkodvoiw/ipython/profile_default\r\n[EchoKernelApp] Looking for ipython_kernel_config in /[snip]/projects/app/jupyterlab/packages/services\r\n[EchoKernelApp] Loading connection file /var/folders/ln/5623mk393v77n5l3rk2x88h00000gp/T/tmpbkodvoiw/jupyter_runtime/kernel-6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47.json\r\n[EchoKernelApp] Starting the kernel at pid: 31047\r\n[EchoKernelApp] shell ROUTER Channel on port: 53720\r\n[EchoKernelApp] stdin ROUTER Channel on port: 53722\r\n[EchoKernelApp] control ROUTER Channel on port: 53723\r\n[EchoKernelApp] iopub PUB Channel on port: 53721\r\n[EchoKernelApp] Heartbeat REP Channel on port: 53724\r\n[EchoKernelApp] Writing connection file: /var/folders/ln/5623mk393v77n5l3rk2x88h00000gp/T/tmpbkodvoiw/jupyter_runtime/kernel-6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47.json\r\n[EchoKernelApp] To connect another client to this kernel, use:\r\n[EchoKernelApp]     --existing kernel-6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47.json\r\n[EchoKernelApp] STATUS - Sent status starting: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 755766, tzinfo=datetime.timezone.utc), 'session': 'fb93bba9-8fbdbcb5afeeb6e4e8a57a89', 'username': 'user', 'msg_type': 'status', 'msg_id': 'fc8b7954-822738e9e76a27940bf6790f'}, 'msg_id': 'fc8b7954-822738e9e76a27940bf6790f', 'msg_type': 'status', 'parent_header': {}, 'content': {'execution_state': 'starting'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x1035962e8>}\r\n[EchoKernelApp] STATUS - Sent status busy: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 805309, tzinfo=datetime.timezone.utc), 'session': 'fb93bba9-8fbdbcb5afeeb6e4e8a57a89', 'username': 'user', 'msg_type': 'status', 'msg_id': 'ac83894d-3701b7ccb5d64e12ee03be4b'}, 'msg_id': 'ac83894d-3701b7ccb5d64e12ee03be4b', 'msg_type': 'status', 'parent_header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 284141, tzinfo=tzutc()), 'session': '1b92563a-aeb869eab29059579f8912f9', 'username': 'user', 'msg_type': 'kernel_info_request', 'msg_id': '01d0c683-ccbe2a950408ff78aea242ae'}, 'content': {'execution_state': 'busy'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x1035962e8>}\r\n[EchoKernelApp] \r\n*** MESSAGE TYPE:kernel_info_request***\r\n[EchoKernelApp]    Content: {}\r\n   --->\r\n   \r\n[EchoKernelApp] kernel_info_request: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 284141, tzinfo=tzutc()), 'session': '1b92563a-aeb869eab29059579f8912f9', 'username': 'user', 'msg_type': 'kernel_info_request', 'msg_id': '01d0c683-ccbe2a950408ff78aea242ae'}, 'msg_id': '01d0c683-ccbe2a950408ff78aea242ae', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': {}, 'buffers': []}\r\n[EchoKernelApp] {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 807159, tzinfo=datetime.timezone.utc), 'session': 'fb93bba9-8fbdbcb5afeeb6e4e8a57a89', 'username': 'user', 'msg_type': 'kernel_info_reply', 'msg_id': 'ecdb624e-55122be5ec62bc15b4a4485e'}, 'msg_id': 'ecdb624e-55122be5ec62bc15b4a4485e', 'msg_type': 'kernel_info_reply', 'parent_header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 284141, tzinfo=tzutc()), 'session': '1b92563a-aeb869eab29059579f8912f9', 'username': 'user', 'msg_type': 'kernel_info_request', 'msg_id': '01d0c683-ccbe2a950408ff78aea242ae'}, 'content': {'status': 'ok', 'protocol_version': '5.1', 'implementation': 'Echo', 'implementation_version': '1.0', 'language_info': {'name': 'echo', 'mimetype': 'text/plain', 'file_extension': '.txt'}, 'banner': 'Echo kernel - as useful as a parrot', 'help_links': []}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x1035962e8>}\r\n[EchoKernelApp] STATUS - Sent status idle: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 808440, tzinfo=datetime.timezone.utc), 'session': 'fb93bba9-8fbdbcb5afeeb6e4e8a57a89', 'username': 'user', 'msg_type': 'status', 'msg_id': '2ec54390-f5cf918ca271147fa3c1ea01'}, 'msg_id': '2ec54390-f5cf918ca271147fa3c1ea01', 'msg_type': 'status', 'parent_header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 284141, tzinfo=tzutc()), 'session': '1b92563a-aeb869eab29059579f8912f9', 'username': 'user', 'msg_type': 'kernel_info_request', 'msg_id': '01d0c683-ccbe2a950408ff78aea242ae'}, 'content': {'execution_state': 'idle'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x1035962e8>}\r\n[D 16:10:25.809 ServicesTestApp] Kernel info reply received: 6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47\r\n[D 16:10:25.810 ServicesTestApp] 200 POST /api/kernels/6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47/restart?1529622625061 (127.0.0.1) 745.49ms\r\nKernel: reconnecting (6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47)\r\nStarting WebSocket: ws://localhost:8888/api/kernels/6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47\r\n[D 16:10:25.813 ServicesTestApp] Initializing websocket connection /api/kernels/6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47/channels\r\n[D 16:10:25.814 ServicesTestApp] Accepting token-authenticated connection from 127.0.0.1\r\n[I 16:10:25.815 ServicesTestApp] Adapting to protocol v5.1 for kernel 6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47\r\n[D 16:10:25.815 ServicesTestApp] 101 GET /api/kernels/6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47/channels?session_id=e8508dcde3edd3b4733ba40fb75ea2d5&token=3ca46d4126b8b5b5e88215e15cf168701579e9b8c6adbb4c (127.0.0.1) 2.88ms\r\nKernel: connected (6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47)\r\n[D 16:10:25.815 ServicesTestApp] Opening websocket /api/kernels/6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47/channels\r\nJS KERNEL SENT     MESSAGE: K6e7a63 Mf2004f kernel_info_request\r\n[D 16:10:25.816 ServicesTestApp] Getting buffer for 6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47\r\n[I 16:10:25.816 ServicesTestApp] Restoring connection for 6e7a6350-2d1c-44e3-b3d1-88e7ce2d6b47:e8508dcde3edd3b4733ba40fb75ea2d5\r\n[I 16:10:25.816 ServicesTestApp] Replaying 3 buffered messages\r\n[W 16:10:25.817 ServicesTestApp] NBSERVER: RECEIVING FROM KERNEL: iopub: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 66256, tzinfo=tzutc()), 'session': '6bc05d3a-be716bf13c0d9e2494e4ccab', 'username': 'user', 'msg_type': 'status', 'msg_id': '8300a0ff-5c0e61b69fc4886842986f70'}, 'msg_id': '8300a0ff-5c0e61b69fc4886842986f70', 'msg_type': 'status', 'parent_header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 65395, tzinfo=tzutc()), 'session': '1b92563a-aeb869eab29059579f8912f9', 'username': 'user', 'msg_type': 'shutdown_request', 'msg_id': '2b3bf122-baed94cf05e1187909b13c3f'}, 'metadata': {}, 'content': {'execution_state': 'busy'}, 'buffers': []}\r\n[W 16:10:25.817 ServicesTestApp] NBSERVER: SENDING TO JS: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 66256, tzinfo=tzutc()), 'session': '6bc05d3a-be716bf13c0d9e2494e4ccab', 'username': 'user', 'msg_type': 'status', 'msg_id': '8300a0ff-5c0e61b69fc4886842986f70'}, 'msg_id': '8300a0ff-5c0e61b69fc4886842986f70', 'msg_type': 'status', 'parent_header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 65395, tzinfo=tzutc()), 'session': '1b92563a-aeb869eab29059579f8912f9', 'username': 'user', 'msg_type': 'shutdown_request', 'msg_id': '2b3bf122-baed94cf05e1187909b13c3f'}, 'metadata': {}, 'content': {'execution_state': 'busy'}, 'buffers': []}\r\n\r\nIMMEDIATE RECEIVE {\"header\": {\"version\": \"5.3\", \"date\": \"2018-06-21T23:10:25.066256Z\", \"session\": \"6bc05d3a-be716bf13c0d9e2494e4ccab\", \"username\": \"user\", \"msg_type\": \"status\", \"msg_id\": \"8300a0ff-5c0e61b69fc4886842986f70\"}, \"msg_id\": \"8300a0ff-5c0e61b69fc4886842986f70\", \"msg_type\": \"status\", \"parent_header\": {\"version\": \"5.3\", \"date\": \"2018-06-21T23:10:25.065395Z\", \"session\": \"1b92563a-aeb869eab29059579f8912f9\", \"username\": \"user\", \"msg_type\": \"shutdown_request\", \"msg_id\": \"2b3bf122-baed94cf05e1187909b13c3f\"}, \"metadata\": {}, \"content\": {\"execution_state\": \"busy\"}, \"buffers\": [], \"channel\": \"iopub\"}\r\nJS KERNEL RECEIVED MESSAGE: K6e7a63 Ce8508d KS MS6bc05d P2b3bf1 M8300a0 status busy \r\n[W 16:10:25.818 ServicesTestApp] NBSERVER: RECEIVING FROM KERNEL: iopub: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 66941, tzinfo=tzutc()), 'session': '6bc05d3a-be716bf13c0d9e2494e4ccab', 'username': 'user', 'msg_type': 'shutdown_reply', 'msg_id': '3a0f4b15-531249dfe0f2550bb894d415'}, 'msg_id': '3a0f4b15-531249dfe0f2550bb894d415', 'msg_type': 'shutdown_reply', 'parent_header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 65395, tzinfo=tzutc()), 'session': '1b92563a-aeb869eab29059579f8912f9', 'username': 'user', 'msg_type': 'shutdown_request', 'msg_id': '2b3bf122-baed94cf05e1187909b13c3f'}, 'metadata': {}, 'content': {'status': 'ok', 'restart': True}, 'buffers': []}\r\n[W 16:10:25.818 ServicesTestApp] NBSERVER: SENDING TO JS: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 66941, tzinfo=tzutc()), 'session': '6bc05d3a-be716bf13c0d9e2494e4ccab', 'username': 'user', 'msg_type': 'shutdown_reply', 'msg_id': '3a0f4b15-531249dfe0f2550bb894d415'}, 'msg_id': '3a0f4b15-531249dfe0f2550bb894d415', 'msg_type': 'shutdown_reply', 'parent_header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 65395, tzinfo=tzutc()), 'session': '1b92563a-aeb869eab29059579f8912f9', 'username': 'user', 'msg_type': 'shutdown_request', 'msg_id': '2b3bf122-baed94cf05e1187909b13c3f'}, 'metadata': {}, 'content': {'status': 'ok', 'restart': True}, 'buffers': []}\r\n\r\nIMMEDIATE RECEIVE {\"header\": {\"version\": \"5.3\", \"date\": \"2018-06-21T23:10:25.066941Z\", \"session\": \"6bc05d3a-be716bf13c0d9e2494e4ccab\", \"username\": \"user\", \"msg_type\": \"shutdown_reply\", \"msg_id\": \"3a0f4b15-531249dfe0f2550bb894d415\"}, \"msg_id\": \"3a0f4b15-531249dfe0f2550bb894d415\", \"msg_type\": \"shutdown_reply\", \"parent_header\": {\"version\": \"5.3\", \"date\": \"2018-06-21T23:10:25.065395Z\", \"session\": \"1b92563a-aeb869eab29059579f8912f9\", \"username\": \"user\", \"msg_type\": \"shutdown_request\", \"msg_id\": \"2b3bf122-baed94cf05e1187909b13c3f\"}, \"metadata\": {}, \"content\": {\"status\": \"ok\", \"restart\": true}, \"buffers\": [], \"channel\": \"iopub\"}\r\nJS KERNEL RECEIVED MESSAGE: K6e7a63 Ce8508d KS6bc05d MS6bc05d P2b3bf1 M3a0f4b shutdown_reply \r\n[W 16:10:25.818 ServicesTestApp] NBSERVER: RECEIVING FROM KERNEL: iopub: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 68480, tzinfo=tzutc()), 'session': '6bc05d3a-be716bf13c0d9e2494e4ccab', 'username': 'user', 'msg_type': 'status', 'msg_id': 'ab86fadd-f94fe52a7d19988d359fed7a'}, 'msg_id': 'ab86fadd-f94fe52a7d19988d359fed7a', 'msg_type': 'status', 'parent_header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 65395, tzinfo=tzutc()), 'session': '1b92563a-aeb869eab29059579f8912f9', 'username': 'user', 'msg_type': 'shutdown_request', 'msg_id': '2b3bf122-baed94cf05e1187909b13c3f'}, 'metadata': {}, 'content': {'execution_state': 'idle'}, 'buffers': []}\r\n[W 16:10:25.818 ServicesTestApp] NBSERVER: SENDING TO JS: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 68480, tzinfo=tzutc()), 'session': '6bc05d3a-be716bf13c0d9e2494e4ccab', 'username': 'user', 'msg_type': 'status', 'msg_id': 'ab86fadd-f94fe52a7d19988d359fed7a'}, 'msg_id': 'ab86fadd-f94fe52a7d19988d359fed7a', 'msg_type': 'status', 'parent_header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 65395, tzinfo=tzutc()), 'session': '1b92563a-aeb869eab29059579f8912f9', 'username': 'user', 'msg_type': 'shutdown_request', 'msg_id': '2b3bf122-baed94cf05e1187909b13c3f'}, 'metadata': {}, 'content': {'execution_state': 'idle'}, 'buffers': []}\r\n\r\nIMMEDIATE RECEIVE {\"header\": {\"version\": \"5.3\", \"date\": \"2018-06-21T23:10:25.068480Z\", \"session\": \"6bc05d3a-be716bf13c0d9e2494e4ccab\", \"username\": \"user\", \"msg_type\": \"status\", \"msg_id\": \"ab86fadd-f94fe52a7d19988d359fed7a\"}, \"msg_id\": \"ab86fadd-f94fe52a7d19988d359fed7a\", \"msg_type\": \"status\", \"parent_header\": {\"version\": \"5.3\", \"date\": \"2018-06-21T23:10:25.065395Z\", \"session\": \"1b92563a-aeb869eab29059579f8912f9\", \"username\": \"user\", \"msg_type\": \"shutdown_request\", \"msg_id\": \"2b3bf122-baed94cf05e1187909b13c3f\"}, \"metadata\": {}, \"content\": {\"execution_state\": \"idle\"}, \"buffers\": [], \"channel\": \"iopub\"}\r\nJS KERNEL RECEIVED MESSAGE: K6e7a63 Ce8508d KS6bc05d MS6bc05d P2b3bf1 Mab86fa status idle \r\n```\r\nHere is where the kernel_info_request from javascript gets forwarded to the kernel, and the kernel responds, but the notebook doesn't get the status messages from the kernel.\r\n```\r\n[W 16:10:25.819 ServicesTestApp] NBSERVER: FORWARD FROM JS TO KERNEL: {'header': {'username': '', 'version': '5.2', 'session': 'e8508dcde3edd3b4733ba40fb75ea2d5', 'msg_id': 'f2004f37a4fdf44466f2b9a5c74cd6a0', 'msg_type': 'kernel_info_request'}, 'parent_header': {}, 'content': {}, 'metadata': {}, 'buffers': []}\r\n[EchoKernelApp] STATUS - Sent status busy: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 820421, tzinfo=datetime.timezone.utc), 'session': 'fb93bba9-8fbdbcb5afeeb6e4e8a57a89', 'username': 'user', 'msg_type': 'status', 'msg_id': '105cdc23-cc982e7a030a9de1e21c02e6'}, 'msg_id': '105cdc23-cc982e7a030a9de1e21c02e6', 'msg_type': 'status', 'parent_header': {'username': '', 'version': '5.2', 'session': 'e8508dcde3edd3b4733ba40fb75ea2d5', 'msg_id': 'f2004f37a4fdf44466f2b9a5c74cd6a0', 'msg_type': 'kernel_info_request', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 819643, tzinfo=tzutc())}, 'content': {'execution_state': 'busy'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x1035962e8>}\r\n[EchoKernelApp] \r\n*** MESSAGE TYPE:kernel_info_request***\r\n[EchoKernelApp]    Content: {}\r\n   --->\r\n   \r\n[EchoKernelApp] kernel_info_request: {'header': {'username': '', 'version': '5.2', 'session': 'e8508dcde3edd3b4733ba40fb75ea2d5', 'msg_id': 'f2004f37a4fdf44466f2b9a5c74cd6a0', 'msg_type': 'kernel_info_request', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 819643, tzinfo=tzutc())}, 'msg_id': 'f2004f37a4fdf44466f2b9a5c74cd6a0', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': {}, 'buffers': []}\r\n[EchoKernelApp] {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 821070, tzinfo=datetime.timezone.utc), 'session': 'fb93bba9-8fbdbcb5afeeb6e4e8a57a89', 'username': 'user', 'msg_type': 'kernel_info_reply', 'msg_id': '25a7b115-1ec9399bd684549861075650'}, 'msg_id': '25a7b115-1ec9399bd684549861075650', 'msg_type': 'kernel_info_reply', 'parent_header': {'username': '', 'version': '5.2', 'session': 'e8508dcde3edd3b4733ba40fb75ea2d5', 'msg_id': 'f2004f37a4fdf44466f2b9a5c74cd6a0', 'msg_type': 'kernel_info_request', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 819643, tzinfo=tzutc())}, 'content': {'status': 'ok', 'protocol_version': '5.1', 'implementation': 'Echo', 'implementation_version': '1.0', 'language_info': {'name': 'echo', 'mimetype': 'text/plain', 'file_extension': '.txt'}, 'banner': 'Echo kernel - as useful as a parrot', 'help_links': []}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x1035962e8>}\r\n[EchoKernelApp] STATUS - Sent status idle: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 821788, tzinfo=datetime.timezone.utc), 'session': 'fb93bba9-8fbdbcb5afeeb6e4e8a57a89', 'username': 'user', 'msg_type': 'status', 'msg_id': 'cf48cdc6-59211a7aafe9cf94fc7903fd'}, 'msg_id': 'cf48cdc6-59211a7aafe9cf94fc7903fd', 'msg_type': 'status', 'parent_header': {'username': '', 'version': '5.2', 'session': 'e8508dcde3edd3b4733ba40fb75ea2d5', 'msg_id': 'f2004f37a4fdf44466f2b9a5c74cd6a0', 'msg_type': 'kernel_info_request', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 819643, tzinfo=tzutc())}, 'content': {'execution_state': 'idle'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x1035962e8>}\r\n[W 16:10:25.822 ServicesTestApp] NBSERVER: RECEIVING FROM KERNEL: shell: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 821070, tzinfo=tzutc()), 'session': 'fb93bba9-8fbdbcb5afeeb6e4e8a57a89', 'username': 'user', 'msg_type': 'kernel_info_reply', 'msg_id': '25a7b115-1ec9399bd684549861075650'}, 'msg_id': '25a7b115-1ec9399bd684549861075650', 'msg_type': 'kernel_info_reply', 'parent_header': {'username': '', 'version': '5.2', 'session': 'e8508dcde3edd3b4733ba40fb75ea2d5', 'msg_id': 'f2004f37a4fdf44466f2b9a5c74cd6a0', 'msg_type': 'kernel_info_request', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 819643, tzinfo=tzutc())}, 'metadata': {}, 'content': {'status': 'ok', 'protocol_version': '5.1', 'implementation': 'Echo', 'implementation_version': '1.0', 'language_info': {'name': 'echo', 'mimetype': 'text/plain', 'file_extension': '.txt'}, 'banner': 'Echo kernel - as useful as a parrot', 'help_links': []}, 'buffers': []}\r\n[W 16:10:25.822 ServicesTestApp] NBSERVER: SENDING TO JS: {'header': {'version': '5.3', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 821070, tzinfo=tzutc()), 'session': 'fb93bba9-8fbdbcb5afeeb6e4e8a57a89', 'username': 'user', 'msg_type': 'kernel_info_reply', 'msg_id': '25a7b115-1ec9399bd684549861075650'}, 'msg_id': '25a7b115-1ec9399bd684549861075650', 'msg_type': 'kernel_info_reply', 'parent_header': {'username': '', 'version': '5.2', 'session': 'e8508dcde3edd3b4733ba40fb75ea2d5', 'msg_id': 'f2004f37a4fdf44466f2b9a5c74cd6a0', 'msg_type': 'kernel_info_request', 'date': datetime.datetime(2018, 6, 21, 23, 10, 25, 819643, tzinfo=tzutc())}, 'metadata': {}, 'content': {'status': 'ok', 'protocol_version': '5.1', 'implementation': 'Echo', 'implementation_version': '1.0', 'language_info': {'name': 'echo', 'mimetype': 'text/plain', 'file_extension': '.txt'}, 'banner': 'Echo kernel - as useful as a parrot', 'help_links': []}, 'buffers': []}\r\n\r\nIMMEDIATE RECEIVE {\"header\": {\"version\": \"5.3\", \"date\": \"2018-06-21T23:10:25.821070Z\", \"session\": \"fb93bba9-8fbdbcb5afeeb6e4e8a57a89\", \"username\": \"user\", \"msg_type\": \"kernel_info_reply\", \"msg_id\": \"25a7b115-1ec9399bd684549861075650\"}, \"msg_id\": \"25a7b115-1ec9399bd684549861075650\", \"msg_type\": \"kernel_info_reply\", \"parent_header\": {\"username\": \"\", \"version\": \"5.2\", \"session\": \"e8508dcde3edd3b4733ba40fb75ea2d5\", \"msg_id\": \"f2004f37a4fdf44466f2b9a5c74cd6a0\", \"msg_type\": \"kernel_info_request\", \"date\": \"2018-06-21T23:10:25.819643Z\"}, \"metadata\": {}, \"content\": {\"status\": \"ok\", \"protocol_version\": \"5.1\", \"implementation\": \"Echo\", \"implementation_version\": \"1.0\", \"language_info\": {\"name\": \"echo\", \"mimetype\": \"text/plain\", \"file_extension\": \".txt\"}, \"banner\": \"Echo kernel - as useful as a parrot\", \"help_links\": []}, \"buffers\": [], \"channel\": \"shell\"}\r\nJS KERNEL RECEIVED MESSAGE: K6e7a63 Ce8508d KS6bc05d MSfb93bb Pf2004f M25a7b1 kernel_info_reply \r\n```",
    "performed_via_github_app": null
  }
]
