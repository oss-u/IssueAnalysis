[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/370809082",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-370809082",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 370809082,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDgwOTA4Mg==",
    "user": {
      "login": "lschoe",
      "id": 25797349,
      "node_id": "MDQ6VXNlcjI1Nzk3MzQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/25797349?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lschoe",
      "html_url": "https://github.com/lschoe",
      "followers_url": "https://api.github.com/users/lschoe/followers",
      "following_url": "https://api.github.com/users/lschoe/following{/other_user}",
      "gists_url": "https://api.github.com/users/lschoe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lschoe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lschoe/subscriptions",
      "organizations_url": "https://api.github.com/users/lschoe/orgs",
      "repos_url": "https://api.github.com/users/lschoe/repos",
      "events_url": "https://api.github.com/users/lschoe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lschoe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-06T14:59:58Z",
    "updated_at": "2018-03-06T14:59:58Z",
    "author_association": "NONE",
    "body": "Same for me (fresh Python 3.6.4 plus Jupyter, on Windows 7 32-bit).",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/370834650",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-370834650",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 370834650,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDgzNDY1MA==",
    "user": {
      "login": "betafcc",
      "id": 27316303,
      "node_id": "MDQ6VXNlcjI3MzE2MzAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/27316303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/betafcc",
      "html_url": "https://github.com/betafcc",
      "followers_url": "https://api.github.com/users/betafcc/followers",
      "following_url": "https://api.github.com/users/betafcc/following{/other_user}",
      "gists_url": "https://api.github.com/users/betafcc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/betafcc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/betafcc/subscriptions",
      "organizations_url": "https://api.github.com/users/betafcc/orgs",
      "repos_url": "https://api.github.com/users/betafcc/repos",
      "events_url": "https://api.github.com/users/betafcc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/betafcc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-06T16:11:58Z",
    "updated_at": "2018-03-06T16:21:58Z",
    "author_association": "NONE",
    "body": "Probably related to the fact that\r\n\r\n \"On Python 3, `IOLoop` is always a wrapper around the `asyncio` event loop.\"\r\n\r\nas listed in \"Backwards-compatibility notes\" of tornado 5.0: http://www.tornadoweb.org/en/stable/releases/v5.0.0.html#backwards-compatibility-notes",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/370834686",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-370834686",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 370834686,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDgzNDY4Ng==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-06T16:12:06Z",
    "updated_at": "2018-03-06T16:12:06Z",
    "author_association": "MEMBER",
    "body": "I'm not sure at the moment what we can do about this; as the error message says, the event loop is already running, because tornado now runs on top of asyncio. What you want is essentially `await`, but you can't use that outside a function.\r\n\r\n@Carreau I think you were working on something related to this. Any ideas?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/370857124",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-370857124",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 370857124,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDg1NzEyNA==",
    "user": {
      "login": "lschoe",
      "id": 25797349,
      "node_id": "MDQ6VXNlcjI1Nzk3MzQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/25797349?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lschoe",
      "html_url": "https://github.com/lschoe",
      "followers_url": "https://api.github.com/users/lschoe/followers",
      "following_url": "https://api.github.com/users/lschoe/following{/other_user}",
      "gists_url": "https://api.github.com/users/lschoe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lschoe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lschoe/subscriptions",
      "organizations_url": "https://api.github.com/users/lschoe/orgs",
      "repos_url": "https://api.github.com/users/lschoe/repos",
      "events_url": "https://api.github.com/users/lschoe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lschoe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-06T17:16:32Z",
    "updated_at": "2018-03-06T17:16:32Z",
    "author_association": "NONE",
    "body": "Guess Tornado needs to use its own event loop coupled to a different thread than the one(s) used for the Jupyter notebook cells. Python 3.6 documentation mentions in Section 18.5.2.4 that \"The default policy defines context as the current thread, and manages an event loop per thread that interacts with asyncio.\" Maybe people have already experimented with this?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/370858131",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-370858131",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 370858131,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDg1ODEzMQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-06T17:19:30Z",
    "updated_at": "2018-03-06T17:19:30Z",
    "author_association": "MEMBER",
    "body": "I'd be inclined to figure out a way to run the user's coroutines on the existing event loop rather than starting a new thread. Threads cause all sorts of problems.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/370920648",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-370920648",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 370920648,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDkyMDY0OA==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-06T20:40:46Z",
    "updated_at": "2018-03-06T20:40:46Z",
    "author_association": "MEMBER",
    "body": "Yep, https://github.com/ipython/ipython/pull/10390 should help, but I din't had much chance to work on it. One of the TODO items is to make it work with ipykernel and run things on the current eventloop. \r\n\r\nThe framework is there it probably does not need much changes to work. ",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/376539943",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-376539943",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 376539943,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NjUzOTk0Mw==",
    "user": {
      "login": "mingwandroid",
      "id": 1042804,
      "node_id": "MDQ6VXNlcjEwNDI4MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1042804?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mingwandroid",
      "html_url": "https://github.com/mingwandroid",
      "followers_url": "https://api.github.com/users/mingwandroid/followers",
      "following_url": "https://api.github.com/users/mingwandroid/following{/other_user}",
      "gists_url": "https://api.github.com/users/mingwandroid/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mingwandroid/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mingwandroid/subscriptions",
      "organizations_url": "https://api.github.com/users/mingwandroid/orgs",
      "repos_url": "https://api.github.com/users/mingwandroid/repos",
      "events_url": "https://api.github.com/users/mingwandroid/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mingwandroid/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-27T14:12:07Z",
    "updated_at": "2018-03-27T14:12:07Z",
    "author_association": "NONE",
    "body": "Hey all, just wondering if there is there any update on this issue?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/376776965",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-376776965",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 376776965,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3Njc3Njk2NQ==",
    "user": {
      "login": "parmentelat",
      "id": 4519227,
      "node_id": "MDQ6VXNlcjQ1MTkyMjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4519227?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/parmentelat",
      "html_url": "https://github.com/parmentelat",
      "followers_url": "https://api.github.com/users/parmentelat/followers",
      "following_url": "https://api.github.com/users/parmentelat/following{/other_user}",
      "gists_url": "https://api.github.com/users/parmentelat/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/parmentelat/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/parmentelat/subscriptions",
      "organizations_url": "https://api.github.com/users/parmentelat/orgs",
      "repos_url": "https://api.github.com/users/parmentelat/repos",
      "events_url": "https://api.github.com/users/parmentelat/events{/privacy}",
      "received_events_url": "https://api.github.com/users/parmentelat/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-28T06:31:29Z",
    "updated_at": "2018-03-28T06:31:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'd like to second this request for an update\r\n\r\nAs far as I am concerned, this is a major hindrance, as anything remotely useful tends to have some dosage of asyncio these days",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/376794482",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-376794482",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 376794482,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3Njc5NDQ4Mg==",
    "user": {
      "login": "parmentelat",
      "id": 4519227,
      "node_id": "MDQ6VXNlcjQ1MTkyMjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4519227?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/parmentelat",
      "html_url": "https://github.com/parmentelat",
      "followers_url": "https://api.github.com/users/parmentelat/followers",
      "following_url": "https://api.github.com/users/parmentelat/following{/other_user}",
      "gists_url": "https://api.github.com/users/parmentelat/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/parmentelat/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/parmentelat/subscriptions",
      "organizations_url": "https://api.github.com/users/parmentelat/orgs",
      "repos_url": "https://api.github.com/users/parmentelat/repos",
      "events_url": "https://api.github.com/users/parmentelat/events{/privacy}",
      "received_events_url": "https://api.github.com/users/parmentelat/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-28T07:50:44Z",
    "updated_at": "2018-03-28T07:50:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "At the risk of stating the obvious, I'd just like to outline the following discrepency between what I get in a terminal - be it python or ipython - and in a notebook\r\n\r\nI am not sure that I quite understand the other discussion there ipython/ipython#10390 but regardless, it is my feeling that something is wrong at this very early point already.\r\n\r\n![screen shot 2018-03-28 at 09 42 28](https://user-images.githubusercontent.com/4519227/38015756-1417d89a-326d-11e8-8a55-699cb377d9cc.png)\r\n\r\n![image](https://user-images.githubusercontent.com/4519227/38015726-f9936afc-326c-11e8-87d9-def3ae9793c6.png)\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/376803076",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-376803076",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 376803076,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NjgwMzA3Ng==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-28T08:22:50Z",
    "updated_at": "2018-03-28T08:22:50Z",
    "author_association": "MEMBER",
    "body": "Yep, that's expected. The kernel itself runs on an event loop, and as of Tornado 5.0, it's using the asyncio event loop. So the asyncio event loop is always running in the kernel. As far as I know, we haven't figured out a way to deal with this yet.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/376815966",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-376815966",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 376815966,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NjgxNTk2Ng==",
    "user": {
      "login": "parmentelat",
      "id": 4519227,
      "node_id": "MDQ6VXNlcjQ1MTkyMjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4519227?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/parmentelat",
      "html_url": "https://github.com/parmentelat",
      "followers_url": "https://api.github.com/users/parmentelat/followers",
      "following_url": "https://api.github.com/users/parmentelat/following{/other_user}",
      "gists_url": "https://api.github.com/users/parmentelat/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/parmentelat/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/parmentelat/subscriptions",
      "organizations_url": "https://api.github.com/users/parmentelat/orgs",
      "repos_url": "https://api.github.com/users/parmentelat/repos",
      "events_url": "https://api.github.com/users/parmentelat/events{/privacy}",
      "received_events_url": "https://api.github.com/users/parmentelat/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-28T09:07:55Z",
    "updated_at": "2018-03-28T09:07:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "but wait, as far as I am concerned this means I can't run anything tainted with asyncio in a notebook\r\n\r\nwhich will asymptotically amount to saying, I can't run anything in a notebook ;)\r\n\r\nit that right, or am I missing something obvious ?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/376820018",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-376820018",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 376820018,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NjgyMDAxOA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-28T09:21:57Z",
    "updated_at": "2018-03-28T09:21:57Z",
    "author_association": "MEMBER",
    "body": "For the moment, that's about right, though I don't think it's ever going to be the case that everything is async. We need to work out a way around it, but so far we haven't got there.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/376823836",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-376823836",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 376823836,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NjgyMzgzNg==",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-28T09:34:33Z",
    "updated_at": "2018-03-28T09:34:33Z",
    "author_association": "MEMBER",
    "body": "Right, you can't instantiate and run an asyncio eventloop in a thread with an asyncio loop already running. You can run asyncio in a thread, as seen in #11030, which is tedious and we would like it to be unnecessary. That's going to require that we finish #10390 or similar.\r\n\r\nYou can pin tornado to 4.x while we figure this out.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/377197252",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-377197252",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 377197252,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzE5NzI1Mg==",
    "user": {
      "login": "btoueg",
      "id": 498190,
      "node_id": "MDQ6VXNlcjQ5ODE5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/498190?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/btoueg",
      "html_url": "https://github.com/btoueg",
      "followers_url": "https://api.github.com/users/btoueg/followers",
      "following_url": "https://api.github.com/users/btoueg/following{/other_user}",
      "gists_url": "https://api.github.com/users/btoueg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/btoueg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/btoueg/subscriptions",
      "organizations_url": "https://api.github.com/users/btoueg/orgs",
      "repos_url": "https://api.github.com/users/btoueg/repos",
      "events_url": "https://api.github.com/users/btoueg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/btoueg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-29T10:46:54Z",
    "updated_at": "2018-03-29T10:46:54Z",
    "author_association": "NONE",
    "body": "I'm facing the same issue while I'm trying to run some code that uses internally:\r\n\r\n```python\r\nwith closing(asyncio.new_event_loop()) as loop:\r\n    asyncio.set_event_loop(loop)\r\n    return loop.run_until_complete(get_converted_form(msg))\r\n```\r\n\r\nJupyter gives: `Cannot run the event loop while another loop is running`",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/377198047",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-377198047",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 377198047,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzE5ODA0Nw==",
    "user": {
      "login": "parmentelat",
      "id": 4519227,
      "node_id": "MDQ6VXNlcjQ1MTkyMjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4519227?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/parmentelat",
      "html_url": "https://github.com/parmentelat",
      "followers_url": "https://api.github.com/users/parmentelat/followers",
      "following_url": "https://api.github.com/users/parmentelat/following{/other_user}",
      "gists_url": "https://api.github.com/users/parmentelat/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/parmentelat/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/parmentelat/subscriptions",
      "organizations_url": "https://api.github.com/users/parmentelat/orgs",
      "repos_url": "https://api.github.com/users/parmentelat/repos",
      "events_url": "https://api.github.com/users/parmentelat/events{/privacy}",
      "received_events_url": "https://api.github.com/users/parmentelat/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-29T10:50:34Z",
    "updated_at": "2018-03-29T11:17:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "to make min's suggestion more concrete, I could work around this issue by just issuing\r\n\r\n    pip3 install tornado==4.5.3\r\n\r\nedit: ~~I expect the jupyter server needs to be restarted as well~~",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/377203240",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-377203240",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 377203240,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzIwMzI0MA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-29T11:15:11Z",
    "updated_at": "2018-03-29T11:15:11Z",
    "author_association": "MEMBER",
    "body": "You'll need to restart the kernel - you don't have to restart the whole notebook server.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/379472283",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-379472283",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 379472283,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3OTQ3MjI4Mw==",
    "user": {
      "login": "andyljones",
      "id": 662606,
      "node_id": "MDQ6VXNlcjY2MjYwNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/662606?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andyljones",
      "html_url": "https://github.com/andyljones",
      "followers_url": "https://api.github.com/users/andyljones/followers",
      "following_url": "https://api.github.com/users/andyljones/following{/other_user}",
      "gists_url": "https://api.github.com/users/andyljones/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/andyljones/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andyljones/subscriptions",
      "organizations_url": "https://api.github.com/users/andyljones/orgs",
      "repos_url": "https://api.github.com/users/andyljones/repos",
      "events_url": "https://api.github.com/users/andyljones/events{/privacy}",
      "received_events_url": "https://api.github.com/users/andyljones/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-07T14:12:11Z",
    "updated_at": "2018-04-07T14:12:30Z",
    "author_association": "NONE",
    "body": "I also discovered this because all my asyncio code stopped working after an otherwise innocuous update. For anyone else who comes across this while not _quite_ understanding how event loops work: creating a new event loop won't help, as only one can run at any one time.\r\n\r\nSome Google bait:\r\n\r\nSpyder IPython Jupyter tornado\r\nRuntimeError: Cannot run the event loop while another loop is running\r\nRuntimeError: This event loop is already running\r\n<_UnixSelectorEventLoop running=True closed=False debug=False>\r\nCan't kill event loop",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/381409343",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-381409343",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 381409343,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTQwOTM0Mw==",
    "user": {
      "login": "simsicon",
      "id": 475199,
      "node_id": "MDQ6VXNlcjQ3NTE5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/475199?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/simsicon",
      "html_url": "https://github.com/simsicon",
      "followers_url": "https://api.github.com/users/simsicon/followers",
      "following_url": "https://api.github.com/users/simsicon/following{/other_user}",
      "gists_url": "https://api.github.com/users/simsicon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/simsicon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/simsicon/subscriptions",
      "organizations_url": "https://api.github.com/users/simsicon/orgs",
      "repos_url": "https://api.github.com/users/simsicon/repos",
      "events_url": "https://api.github.com/users/simsicon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/simsicon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-15T14:07:17Z",
    "updated_at": "2018-04-15T14:07:17Z",
    "author_association": "NONE",
    "body": "I think a possible solution/workaround is to to use the ioloop of tornado, instead of running a new ioloop, but I did not get it right, any ideas? ",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/381440076",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-381440076",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 381440076,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTQ0MDA3Ng==",
    "user": {
      "login": "Skorpeo",
      "id": 10620160,
      "node_id": "MDQ6VXNlcjEwNjIwMTYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/10620160?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Skorpeo",
      "html_url": "https://github.com/Skorpeo",
      "followers_url": "https://api.github.com/users/Skorpeo/followers",
      "following_url": "https://api.github.com/users/Skorpeo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Skorpeo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Skorpeo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Skorpeo/subscriptions",
      "organizations_url": "https://api.github.com/users/Skorpeo/orgs",
      "repos_url": "https://api.github.com/users/Skorpeo/repos",
      "events_url": "https://api.github.com/users/Skorpeo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Skorpeo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-15T21:38:11Z",
    "updated_at": "2018-04-15T23:04:59Z",
    "author_association": "NONE",
    "body": "I have the same issue...the only way I was able to make it work was:\r\n```\r\nimport asyncio\r\nloop = asyncio.get_event_loop()\r\nloop.create_task(some_async_func())\r\n```\r\nheart = broken",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/383452306",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-383452306",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 383452306,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzQ1MjMwNg==",
    "user": {
      "login": "AIGyan",
      "id": 36564298,
      "node_id": "MDQ6VXNlcjM2NTY0Mjk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/36564298?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AIGyan",
      "html_url": "https://github.com/AIGyan",
      "followers_url": "https://api.github.com/users/AIGyan/followers",
      "following_url": "https://api.github.com/users/AIGyan/following{/other_user}",
      "gists_url": "https://api.github.com/users/AIGyan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AIGyan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AIGyan/subscriptions",
      "organizations_url": "https://api.github.com/users/AIGyan/orgs",
      "repos_url": "https://api.github.com/users/AIGyan/repos",
      "events_url": "https://api.github.com/users/AIGyan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AIGyan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-23T04:39:37Z",
    "updated_at": "2018-04-23T04:39:37Z",
    "author_association": "NONE",
    "body": "@parmentelat \r\npip3 install tornado==4.5.3 solved the issue",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/410628908",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-410628908",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 410628908,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDYyODkwOA==",
    "user": {
      "login": "CermakM",
      "id": 22003700,
      "node_id": "MDQ6VXNlcjIyMDAzNzAw",
      "avatar_url": "https://avatars.githubusercontent.com/u/22003700?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CermakM",
      "html_url": "https://github.com/CermakM",
      "followers_url": "https://api.github.com/users/CermakM/followers",
      "following_url": "https://api.github.com/users/CermakM/following{/other_user}",
      "gists_url": "https://api.github.com/users/CermakM/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CermakM/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CermakM/subscriptions",
      "organizations_url": "https://api.github.com/users/CermakM/orgs",
      "repos_url": "https://api.github.com/users/CermakM/repos",
      "events_url": "https://api.github.com/users/CermakM/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CermakM/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-06T08:26:30Z",
    "updated_at": "2018-08-06T08:26:30Z",
    "author_association": "NONE",
    "body": "Adding to this thread my idea why it might not be working correctly:\r\n\r\nIn Jupyter Notebook, using Tornado 5.0 and above:\r\n```python\r\ndefault_loop = asyncio.get_event_loop()\r\nid(default_loop)  # 140334933252360\r\n\r\nnew_loop = asyncio.new_event_loop()\r\nid(new_loop)  # 140334932896176\r\n\r\nasyncio.set_event_loop(new_loop)\r\nid(asyncio.get_event_loop())  # 140334933252360\r\n```\r\n\r\nNotice that the event loop has not been set up, the `default_loop` persists and remains to be the event loop of choice for the `asyncio`.\r\n\r\nIn Tornado 4.5.3, when calling the last line, the `id` matches the `new_loop`, ie:\r\n\r\n```python\r\n\r\n...\r\n\r\nasyncio.set_event_loop(new_loop)\r\nid(asyncio.get_event_loop())  # 140334932896176\r\n```\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/411823727",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-411823727",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 411823727,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMTgyMzcyNw==",
    "user": {
      "login": "getzze",
      "id": 6518000,
      "node_id": "MDQ6VXNlcjY1MTgwMDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6518000?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/getzze",
      "html_url": "https://github.com/getzze",
      "followers_url": "https://api.github.com/users/getzze/followers",
      "following_url": "https://api.github.com/users/getzze/following{/other_user}",
      "gists_url": "https://api.github.com/users/getzze/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/getzze/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/getzze/subscriptions",
      "organizations_url": "https://api.github.com/users/getzze/orgs",
      "repos_url": "https://api.github.com/users/getzze/repos",
      "events_url": "https://api.github.com/users/getzze/events{/privacy}",
      "received_events_url": "https://api.github.com/users/getzze/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-09T16:49:02Z",
    "updated_at": "2018-08-09T16:49:02Z",
    "author_association": "NONE",
    "body": "It is working correctly with python3.7, Tornado 5.1 and ipykernel 4.8.2 on ArchLinux by manually updating python-ipykernel to the last version (not working with python-ipykernel-4.6.1)",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/412832375",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-412832375",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 412832375,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjgzMjM3NQ==",
    "user": {
      "login": "erdewit",
      "id": 3875748,
      "node_id": "MDQ6VXNlcjM4NzU3NDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3875748?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erdewit",
      "html_url": "https://github.com/erdewit",
      "followers_url": "https://api.github.com/users/erdewit/followers",
      "following_url": "https://api.github.com/users/erdewit/following{/other_user}",
      "gists_url": "https://api.github.com/users/erdewit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erdewit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erdewit/subscriptions",
      "organizations_url": "https://api.github.com/users/erdewit/orgs",
      "repos_url": "https://api.github.com/users/erdewit/repos",
      "events_url": "https://api.github.com/users/erdewit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erdewit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-14T10:51:35Z",
    "updated_at": "2018-08-14T10:51:35Z",
    "author_association": "NONE",
    "body": "@getzze \r\n> It is working correctly with python3.7, Tornado 5.1 and ipykernel 4.8.2 on ArchLinux by manually updating python-ipykernel to the last version (not working with python-ipykernel-4.6.1)\r\n\r\nRunning the code snippet in the first post of this thread with Python 3.7.0, Tornado 5.1 and ipykernel 4.8.2 still gives me the same \"RuntimeError: This event loop is already running\".\r\n\r\nUsing the new asyncio.run method instead of run_until_complete gives a slightly different \"RuntimeError: asyncio.run() cannot be called from a running event loop\".\r\n\r\nThe real problem is imho not with jupyter or tornado, but with [this decision](https://bugs.python.org/issue22239) for asyncio.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/412986097",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-412986097",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 412986097,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjk4NjA5Nw==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-14T19:20:49Z",
    "updated_at": "2018-08-14T19:20:49Z",
    "author_association": "MEMBER",
    "body": "We are aware of the issue and working on making it easier to run async code within a notebook, without having to manipulate the event loop yourself. \r\n\r\nGetting it to work was already challenging, having it function on multiple python version is far from being easy, and we lack people willing to test our in-progress  pull request to give feedback. In particular on the IPython side:\r\n- https://github.com/ipython/ipython/pull/11265\r\n\r\nAnd ipykernel side:\r\n- https://github.com/ipython/ipykernel/pull/323\r\n\r\nThere a a lot of extremely subtle behavior,\r\n![autoasync](https://user-images.githubusercontent.com/335567/44112926-5f272974-9fbb-11e8-9950-9e2757bc1961.gif)\r\n\r\nAny help to do other tasks unrelated to this bug might give us some band with to focus on this, but it's relatively complex code that requires multiple hours of focused time, which is becoming rare.\r\n\r\n\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/418087360",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-418087360",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 418087360,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxODA4NzM2MA==",
    "user": {
      "login": "basnijholt",
      "id": 6897215,
      "node_id": "MDQ6VXNlcjY4OTcyMTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6897215?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/basnijholt",
      "html_url": "https://github.com/basnijholt",
      "followers_url": "https://api.github.com/users/basnijholt/followers",
      "following_url": "https://api.github.com/users/basnijholt/following{/other_user}",
      "gists_url": "https://api.github.com/users/basnijholt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/basnijholt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/basnijholt/subscriptions",
      "organizations_url": "https://api.github.com/users/basnijholt/orgs",
      "repos_url": "https://api.github.com/users/basnijholt/repos",
      "events_url": "https://api.github.com/users/basnijholt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/basnijholt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-03T11:29:09Z",
    "updated_at": "2018-09-03T11:29:09Z",
    "author_association": "NONE",
    "body": "The new Jupyterhub has:\r\n```\r\njupyterhub 0.9.2 has requirement tornado>=5.0, but you'll have tornado 4.5.3 which is incompatible.\r\n```\r\nafter which I am unable to install the older version of tornado in the main environment of the Jupyterhub. \r\n\r\nDoes this mean that until this issue is solved, the root/main environment of any Jupyterhub>=0.9.2 (at least) is broken?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/418088968",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-418088968",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 418088968,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxODA4ODk2OA==",
    "user": {
      "login": "gusutabopb",
      "id": 4231387,
      "node_id": "MDQ6VXNlcjQyMzEzODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4231387?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gusutabopb",
      "html_url": "https://github.com/gusutabopb",
      "followers_url": "https://api.github.com/users/gusutabopb/followers",
      "following_url": "https://api.github.com/users/gusutabopb/following{/other_user}",
      "gists_url": "https://api.github.com/users/gusutabopb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gusutabopb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gusutabopb/subscriptions",
      "organizations_url": "https://api.github.com/users/gusutabopb/orgs",
      "repos_url": "https://api.github.com/users/gusutabopb/repos",
      "events_url": "https://api.github.com/users/gusutabopb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gusutabopb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-03T11:36:49Z",
    "updated_at": "2018-09-03T11:36:49Z",
    "author_association": "NONE",
    "body": "@Carreau Those integrations look really nice, but will they be strictly optional? In other words, will there be a way to have the asyncio loop NOT running at all on Jupyter Notebook going forward?\r\n\r\nI use Jupyter as a scratchpad for development and as a developer of asyncio-based apps, not being able to run `loop.run_forever` or `loop.run_until_complete` (or the new `asyncio.run` in 3.7) from Jupyter pretty much makes it useless as a scratchpad for me. I am sticking to Python 3.6.6 with tornado 4.5.3 for now, but that clearly isn't sustainable... (conda won't let me install Python 3.7 with tornado 4.5.3)",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/418158918",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-418158918",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 418158918,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxODE1ODkxOA==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-03T16:40:18Z",
    "updated_at": "2018-09-03T16:40:18Z",
    "author_association": "MEMBER",
    "body": "Apologies for the short response without link, I am in a train. Multiple\nthings:\n\n- the hub, notebook and kernels do not need to share a python installation.\nSo it is possible to run each with a different tornado/IPython version. You\n\"just\" need to configure it right.\n\n- Currently the Ipython kernel (not the CLI) needs an event loop. It\nhappens to be tornado/asyncio. We could run with another, but that would\nrequire some extra work.\n\n- IPython tries to not run the loop when not necessary. In terminal IPython\nrun_until_complete works with no issues.\nIn most cases you should be able to replace it in the notebook simple by\n'await stuff-you-wish-to-run' if that does not fit your need can you post a\nexample notebook, we can work on making that simpler later on.\n\n\n\n\nOn Mon, Sep 3, 2018, 13:36 Gustavo Bezerra <notifications@github.com> wrote:\n\n> @Carreau <https://github.com/Carreau> Those integrations look really\n> nice, but will they be strictly optional? In other words, will there be a\n> way to have the asyncio loop NOT running at all on Jupyter Notebook going\n> forward?\n>\n> I use Jupyter as a scratchpad for development and as a developer of\n> asyncio-based apps, not being able to run loop.run_forever or\n> loop.run_until_complete (or the new asyncio.run in 3.7) from Jupyter\n> pretty much makes it useless as a scratchpad for me. I am sticking to\n> Python 3.6.6 with tornado 4.5.3 for now, but that clearly isn't\n> sustainable... (conda won't let me install Python 3.7 with tornado 4.5.3)\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/jupyter/notebook/issues/3397#issuecomment-418088968>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAUez6UBhKgIFtAjQFzk5xX5P9Gy4e9Qks5uXRRYgaJpZM4ScxZl>\n> .\n>\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/418160719",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-418160719",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 418160719,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxODE2MDcxOQ==",
    "user": {
      "login": "jhrmnn",
      "id": 940353,
      "node_id": "MDQ6VXNlcjk0MDM1Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/940353?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jhrmnn",
      "html_url": "https://github.com/jhrmnn",
      "followers_url": "https://api.github.com/users/jhrmnn/followers",
      "following_url": "https://api.github.com/users/jhrmnn/following{/other_user}",
      "gists_url": "https://api.github.com/users/jhrmnn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jhrmnn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jhrmnn/subscriptions",
      "organizations_url": "https://api.github.com/users/jhrmnn/orgs",
      "repos_url": "https://api.github.com/users/jhrmnn/repos",
      "events_url": "https://api.github.com/users/jhrmnn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jhrmnn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-03T16:51:30Z",
    "updated_at": "2018-09-03T19:28:40Z",
    "author_association": "NONE",
    "body": "Most asyncio packages have an entry point that deals with the loop. Asyncio itself has `asyncio.run()` which won't work in the Ipython kernel at the moment. Aiohttp has `web.run_app()`. Other packages have other functions. These functions set up the loop, run the coroutines, and do application-specific nontrivial teardowns of the loop. Currently, one would have to go one step lower, and reimplement these methods in the Notebook. This is not feasible.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/418234329",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-418234329",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 418234329,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxODIzNDMyOQ==",
    "user": {
      "login": "gusutabopb",
      "id": 4231387,
      "node_id": "MDQ6VXNlcjQyMzEzODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4231387?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gusutabopb",
      "html_url": "https://github.com/gusutabopb",
      "followers_url": "https://api.github.com/users/gusutabopb/followers",
      "following_url": "https://api.github.com/users/gusutabopb/following{/other_user}",
      "gists_url": "https://api.github.com/users/gusutabopb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gusutabopb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gusutabopb/subscriptions",
      "organizations_url": "https://api.github.com/users/gusutabopb/orgs",
      "repos_url": "https://api.github.com/users/gusutabopb/repos",
      "events_url": "https://api.github.com/users/gusutabopb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gusutabopb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-04T03:58:39Z",
    "updated_at": "2018-09-04T03:58:39Z",
    "author_association": "NONE",
    "body": "@azag0 Exactly. Having the asyncio loop on the main thread always running basically breaks most asyncio-based apps/libraries out there.\r\nAny new comer to the asyncio world that tries to run the code of some asyncio tutorial on Jupyter will be incredibly frustrated as most sample code they find on the web (which usually uses `loop.run_until_complete` or `loop.run_forever`) just simply won't run.\r\n\r\n@Carreau I am not familiar with the internals of ipykernel, but is it possible to have the ipykernel/tornado asyncio loop running in a background thread instead of the main thread?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/418235519",
    "html_url": "https://github.com/jupyter/notebook/issues/3397#issuecomment-418235519",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3397",
    "id": 418235519,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxODIzNTUxOQ==",
    "user": {
      "login": "gusutabopb",
      "id": 4231387,
      "node_id": "MDQ6VXNlcjQyMzEzODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4231387?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gusutabopb",
      "html_url": "https://github.com/gusutabopb",
      "followers_url": "https://api.github.com/users/gusutabopb/followers",
      "following_url": "https://api.github.com/users/gusutabopb/following{/other_user}",
      "gists_url": "https://api.github.com/users/gusutabopb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gusutabopb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gusutabopb/subscriptions",
      "organizations_url": "https://api.github.com/users/gusutabopb/orgs",
      "repos_url": "https://api.github.com/users/gusutabopb/repos",
      "events_url": "https://api.github.com/users/gusutabopb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gusutabopb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-04T04:08:58Z",
    "updated_at": "2018-09-04T04:08:58Z",
    "author_association": "NONE",
    "body": "Quick update on conda:\r\n\r\nWhile conda won't allow downgrading to `tornado==4.5.3` on Python 3.7:\r\n```\r\n$ conda create -y -n py37_3 python=3.7 ipykernel tornado=4.5.3\r\n# UnsatisfiableError: The following specifications were found to be in conflict [...]\r\n```\r\n\r\nI have confirmed overriding `tornado` through `pip` does work:\r\n```\r\n$ conda create -y -n py37 python=3.7 ipykernel  # installs tornado 5.1\r\n$ conda activate py37\r\n$ pip install \"tornado==4.5.3\"  # Successfully installed tornado-4.5.3\r\n```\r\n\r\nI am not sure if this will cause some minor bugs elsewhere or if the conda dependency check is just being overly strict though.",
    "performed_via_github_app": null
  }
]
