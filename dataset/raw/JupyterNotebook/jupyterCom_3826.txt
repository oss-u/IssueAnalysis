[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/411887224",
    "html_url": "https://github.com/jupyter/notebook/issues/3826#issuecomment-411887224",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3826",
    "id": 411887224,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMTg4NzIyNA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-09T20:31:29Z",
    "updated_at": "2018-08-09T20:31:29Z",
    "author_association": "MEMBER",
    "body": "It's picking up a path from XDG_RUNTIME_DIR. Unsetting that should work, or you can override it with JUPYTER_RUNTIME_DIR. Docs:\r\n\r\nhttp://jupyter.readthedocs.io/en/latest/projects/jupyter-directories.html#runtime-files",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/412156658",
    "html_url": "https://github.com/jupyter/notebook/issues/3826#issuecomment-412156658",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3826",
    "id": 412156658,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjE1NjY1OA==",
    "user": {
      "login": "yurivict",
      "id": 271906,
      "node_id": "MDQ6VXNlcjI3MTkwNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/271906?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yurivict",
      "html_url": "https://github.com/yurivict",
      "followers_url": "https://api.github.com/users/yurivict/followers",
      "following_url": "https://api.github.com/users/yurivict/following{/other_user}",
      "gists_url": "https://api.github.com/users/yurivict/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yurivict/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yurivict/subscriptions",
      "organizations_url": "https://api.github.com/users/yurivict/orgs",
      "repos_url": "https://api.github.com/users/yurivict/repos",
      "events_url": "https://api.github.com/users/yurivict/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yurivict/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-10T17:48:36Z",
    "updated_at": "2018-08-10T17:48:36Z",
    "author_association": "NONE",
    "body": "This works, thanks!\r\n\r\nNow it starts, but it prints another message:\r\n```\r\n[I 10:42:46.170 NotebookApp] Writing notebook server cookie secret to /var/db/jupyter-notebook-2.7/runtime/notebook_cookie_secret\r\n/usr/local/lib/python2.7/site-packages/IPython/paths.py:69: UserWarning: IPython parent '/' is not a writable location, using a temp directory.\r\n  \" using a temp directory.\".format(parent))\r\n```\r\n\r\nI tried to set the ```IPYTHON``` variable, but this didn't help.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/412159338",
    "html_url": "https://github.com/jupyter/notebook/issues/3826#issuecomment-412159338",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3826",
    "id": 412159338,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjE1OTMzOA==",
    "user": {
      "login": "yurivict",
      "id": 271906,
      "node_id": "MDQ6VXNlcjI3MTkwNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/271906?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yurivict",
      "html_url": "https://github.com/yurivict",
      "followers_url": "https://api.github.com/users/yurivict/followers",
      "following_url": "https://api.github.com/users/yurivict/following{/other_user}",
      "gists_url": "https://api.github.com/users/yurivict/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yurivict/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yurivict/subscriptions",
      "organizations_url": "https://api.github.com/users/yurivict/orgs",
      "repos_url": "https://api.github.com/users/yurivict/repos",
      "events_url": "https://api.github.com/users/yurivict/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yurivict/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-10T17:58:33Z",
    "updated_at": "2018-08-10T18:09:11Z",
    "author_association": "NONE",
    "body": "Np, it still fails with the same error even when ```JUPYTER_RUNTIME_DIR``` is set:\r\n```\r\n[I 11:04:42.889 NotebookApp] Uploading file to /Transformation2D.ipynb\r\n[E 11:04:42.893 NotebookApp] Error while saving file: Transformation2D.ipynb [Errno 13] Permission denied: '/.local'\r\n    Traceback (most recent call last):\r\n      File \"/usr/local/lib/python2.7/site-packages/notebook/services/contents/filemanager.py\", line 470, in save\r\n        self.check_and_sign(nb, path)\r\n      File \"/usr/local/lib/python2.7/site-packages/notebook/services/contents/manager.py\", line 486, in check_and_sign\r\n        if self.notary.check_cells(nb):\r\n      File \"/usr/local/lib/python2.7/site-packages/traitlets/traitlets.py\", line 556, in __get__\r\n        return self.get(obj, cls)\r\n      File \"/usr/local/lib/python2.7/site-packages/traitlets/traitlets.py\", line 535, in get\r\n        value = self._validate(obj, dynamic_default())\r\n      File \"/usr/local/lib/python2.7/site-packages/notebook/services/contents/manager.py\", line 65, in _notary_default\r\n        return sign.NotebookNotary(parent=self)\r\n      File \"/usr/local/lib/python2.7/site-packages/nbformat/sign.py\", line 392, in __init__\r\n        self.store = self.store_factory()\r\n      File \"/usr/local/lib/python2.7/site-packages/nbformat/sign.py\", line 340, in factory\r\n        return SQLiteSignatureStore(self.db_file)\r\n      File \"/usr/local/lib/python2.7/site-packages/traitlets/traitlets.py\", line 556, in __get__\r\n        return self.get(obj, cls)\r\n      File \"/usr/local/lib/python2.7/site-packages/traitlets/traitlets.py\", line 535, in get\r\n        value = self._validate(obj, dynamic_default())\r\n      File \"/usr/local/lib/python2.7/site-packages/nbformat/sign.py\", line 351, in _db_file_default\r\n        if not self.data_dir:\r\n      File \"/usr/local/lib/python2.7/site-packages/traitlets/traitlets.py\", line 556, in __get__\r\n        return self.get(obj, cls)\r\n      File \"/usr/local/lib/python2.7/site-packages/traitlets/traitlets.py\", line 535, in get\r\n        value = self._validate(obj, dynamic_default())\r\n      File \"/usr/local/lib/python2.7/site-packages/nbformat/sign.py\", line 328, in _data_dir_default\r\n        return app.data_dir\r\n      File \"/usr/local/lib/python2.7/site-packages/traitlets/traitlets.py\", line 556, in __get__\r\n        return self.get(obj, cls)\r\n      File \"/usr/local/lib/python2.7/site-packages/traitlets/traitlets.py\", line 535, in get\r\n        value = self._validate(obj, dynamic_default())\r\n      File \"/usr/local/lib/python2.7/site-packages/jupyter_core/application.py\", line 93, in _data_dir_default\r\n        ensure_dir_exists(d, mode=0o700)\r\n      File \"/usr/local/lib/python2.7/site-packages/jupyter_core/utils/__init__.py\", line 13, in ensure_dir_exists\r\n        os.makedirs(path, mode=mode)\r\n      File \"/usr/local/lib/python2.7/os.py\", line 150, in makedirs\r\n        makedirs(head, mode)\r\n      File \"/usr/local/lib/python2.7/os.py\", line 150, in makedirs\r\n        makedirs(head, mode)\r\n      File \"/usr/local/lib/python2.7/os.py\", line 157, in makedirs\r\n        mkdir(name, mode)\r\n    OSError: [Errno 13] Permission denied: '/.local'\r\n[W 11:04:42.898 NotebookApp] 500 PUT /api/contents/Transformation2D.ipynb (127.0.0.1): Unexpected error while saving file: Transformation2D.ipynb [Errno 13] Permission denied: '/.local'\r\n[W 11:04:42.898 NotebookApp] Unexpected error while saving file: Transformation2D.ipynb [Errno 13] Permission denied: '/.local'\r\n[E 11:04:42.898 NotebookApp] {\r\n      \"Content-Length\": \"49765\", \r\n      \"Accept-Language\": \"en-US,en;q=0.5\", \r\n      \"Accept-Encoding\": \"gzip, deflate\", \r\n      \"X-Xsrftoken\": \"2|6dca4ce6|aa21f17aa058b757f54274aa4d4bf8c2|1533509010\", \r\n      \"X-Requested-With\": \"XMLHttpRequest\", \r\n      \"Host\": \"localhost:1890\", \r\n      \"Accept\": \"application/json, text/javascript, */*; q=0.01\", \r\n      \"User-Agent\": \"Mozilla/5.0 (X11; FreeBSD amd64; rv:61.0) Gecko/20100101 Firefox/61.0\", \r\n      \"Connection\": \"keep-alive\", \r\n      \"Referer\": \"http://localhost:1890/tree\", \r\n      \"Cookie\": \"username-localhost-8888=\\\"2|1:0|10:1533510007|23:username-localhost-8888|44:ZDY3NzQwMmU5ZjhiNDcyNmJkMjg5MDAxY2YxYWFiZjk=|22b6d3d13dd0c0e7b1b059724d198f7e1dad1bb4c3be2fca8456e361eef744d4\\\"; _xsrf=2|6dca4ce6|aa21f17aa058b757f54274aa4d4bf8c2|1533509010; username-localhost-1890=\\\"2|1:0|10:1533923680|23:username-localhost-1890|44:YjYxOTk3MGFmMDNiNDRhMjgzN2UyYTMwNTI0NzdiNDU=|e724a5bf7f4386f58d403fda99d5743c805cb44ed41aa8901797497c4eaa36a4\\\"\", \r\n      \"Content-Type\": \"application/json\"\r\n    }\r\n[E 11:04:42.898 NotebookApp] 500 PUT /api/contents/Transformation2D.ipynb (127.0.0.1) 11.44ms referer=http://localhost:1890/tree\r\n[I 11:04:51.485 NotebookApp] 302 GET / (127.0.0.1) 0.74ms\r\n```",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/412164541",
    "html_url": "https://github.com/jupyter/notebook/issues/3826#issuecomment-412164541",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3826",
    "id": 412164541,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjE2NDU0MQ==",
    "user": {
      "login": "yurivict",
      "id": 271906,
      "node_id": "MDQ6VXNlcjI3MTkwNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/271906?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yurivict",
      "html_url": "https://github.com/yurivict",
      "followers_url": "https://api.github.com/users/yurivict/followers",
      "following_url": "https://api.github.com/users/yurivict/following{/other_user}",
      "gists_url": "https://api.github.com/users/yurivict/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yurivict/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yurivict/subscriptions",
      "organizations_url": "https://api.github.com/users/yurivict/orgs",
      "repos_url": "https://api.github.com/users/yurivict/repos",
      "events_url": "https://api.github.com/users/yurivict/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yurivict/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-10T18:18:09Z",
    "updated_at": "2018-08-10T18:18:09Z",
    "author_association": "NONE",
    "body": "Despite ```JUPYTER_PATH```, ```JUPYTER_CONFIG_DIR``` and ```JUPYTER_PATH``` being set to valid paths, it still tries to save the notebook into ```/```.\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/412199650",
    "html_url": "https://github.com/jupyter/notebook/issues/3826#issuecomment-412199650",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3826",
    "id": 412199650,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjE5OTY1MA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-10T20:39:33Z",
    "updated_at": "2018-08-10T20:39:33Z",
    "author_association": "MEMBER",
    "body": "The initial directory where it shows files and creates new files by default is the CWD where you started it. You can either set the CWD in whatever way your service manager allows, or override it with `--notebook-dir`, or a setting in a config file.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/412200871",
    "html_url": "https://github.com/jupyter/notebook/issues/3826#issuecomment-412200871",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3826",
    "id": 412200871,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjIwMDg3MQ==",
    "user": {
      "login": "yurivict",
      "id": 271906,
      "node_id": "MDQ6VXNlcjI3MTkwNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/271906?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yurivict",
      "html_url": "https://github.com/yurivict",
      "followers_url": "https://api.github.com/users/yurivict/followers",
      "following_url": "https://api.github.com/users/yurivict/following{/other_user}",
      "gists_url": "https://api.github.com/users/yurivict/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yurivict/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yurivict/subscriptions",
      "organizations_url": "https://api.github.com/users/yurivict/orgs",
      "repos_url": "https://api.github.com/users/yurivict/repos",
      "events_url": "https://api.github.com/users/yurivict/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yurivict/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-10T20:44:37Z",
    "updated_at": "2018-08-10T20:45:00Z",
    "author_association": "NONE",
    "body": "I use ```--notebook-dir``` and run from this directory, but the problem persists.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/603292655",
    "html_url": "https://github.com/jupyter/notebook/issues/3826#issuecomment-603292655",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3826",
    "id": 603292655,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMzI5MjY1NQ==",
    "user": {
      "login": "catkins-miso",
      "id": 57670484,
      "node_id": "MDQ6VXNlcjU3NjcwNDg0",
      "avatar_url": "https://avatars.githubusercontent.com/u/57670484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/catkins-miso",
      "html_url": "https://github.com/catkins-miso",
      "followers_url": "https://api.github.com/users/catkins-miso/followers",
      "following_url": "https://api.github.com/users/catkins-miso/following{/other_user}",
      "gists_url": "https://api.github.com/users/catkins-miso/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/catkins-miso/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/catkins-miso/subscriptions",
      "organizations_url": "https://api.github.com/users/catkins-miso/orgs",
      "repos_url": "https://api.github.com/users/catkins-miso/repos",
      "events_url": "https://api.github.com/users/catkins-miso/events{/privacy}",
      "received_events_url": "https://api.github.com/users/catkins-miso/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-24T15:05:25Z",
    "updated_at": "2020-03-24T15:05:25Z",
    "author_association": "NONE",
    "body": "I had this same problem and resolved it by additionally setting JUPYTER_DATA_DIR=$PYTHONUSERBASE ",
    "performed_via_github_app": null
  }
]
