[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/550409813",
    "html_url": "https://github.com/jupyter/notebook/issues/5034#issuecomment-550409813",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/5034",
    "id": 550409813,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MDQwOTgxMw==",
    "user": {
      "login": "kevin-bates",
      "id": 22599560,
      "node_id": "MDQ6VXNlcjIyNTk5NTYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/22599560?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevin-bates",
      "html_url": "https://github.com/kevin-bates",
      "followers_url": "https://api.github.com/users/kevin-bates/followers",
      "following_url": "https://api.github.com/users/kevin-bates/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevin-bates/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevin-bates/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevin-bates/subscriptions",
      "organizations_url": "https://api.github.com/users/kevin-bates/orgs",
      "repos_url": "https://api.github.com/users/kevin-bates/repos",
      "events_url": "https://api.github.com/users/kevin-bates/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevin-bates/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-06T17:14:37Z",
    "updated_at": "2019-11-06T17:14:37Z",
    "author_association": "MEMBER",
    "body": "Running a container as root is just bad practice and there are [numerous blog posts stating why](http://www.google.com/search?q=docker+container+run+as+root).  While completely isolated containers will appear to work fine, you can get into issues when mounting host directories since they can now be manipulated as the root user.  Network operations will also be performed as root, etc., etc.\r\n\r\nFolks typically add the necessary packages to their containers at _build time_ via a sequence similar to this...\r\n```docker\r\nUSER root\r\ninstall any packages my user will need\r\nUSER <my non root user>\r\n```\r\nIf packages are needed at runtime, users can usually perform things like `!pip install --user xxx` from a notebook cell, etc., but baking the necessary packages into the image is usually the best approach.  This is why there's a rich offering of docker-stack images referenced in @rgbkrk's response in #1375.\r\n\r\nThe `--allow-root` flag is essentially ignored when `True`.  However, when `False` Notebook server [checks if the effective user is root](https://github.com/jupyter/notebook/blob/master/notebook/notebookapp.py#L1863-L1871).  If so, it exits stating that running as root is not recommended.  So the flag is really Notebook's way of asking users _\"Are you really sure you want to run this process as root?  If so, tell me by adding the `--allow-root` flag.\"_  It's purpose is not to say \"allow this non-root user to run as root\".  One reason Notebook does this is because it exposes filesystem operations (via its Content Service) that could lead to bad results depending on where Notebook was started or where the `root-dir` option is configured to point.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/552339127",
    "html_url": "https://github.com/jupyter/notebook/issues/5034#issuecomment-552339127",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/5034",
    "id": 552339127,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MjMzOTEyNw==",
    "user": {
      "login": "SmartInWhut",
      "id": 24693634,
      "node_id": "MDQ6VXNlcjI0NjkzNjM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/24693634?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SmartInWhut",
      "html_url": "https://github.com/SmartInWhut",
      "followers_url": "https://api.github.com/users/SmartInWhut/followers",
      "following_url": "https://api.github.com/users/SmartInWhut/following{/other_user}",
      "gists_url": "https://api.github.com/users/SmartInWhut/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SmartInWhut/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SmartInWhut/subscriptions",
      "organizations_url": "https://api.github.com/users/SmartInWhut/orgs",
      "repos_url": "https://api.github.com/users/SmartInWhut/repos",
      "events_url": "https://api.github.com/users/SmartInWhut/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SmartInWhut/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-11T08:18:36Z",
    "updated_at": "2019-11-11T08:18:36Z",
    "author_association": "NONE",
    "body": "Truly appreciated for your detailed answer!\r\n i am now clear about the security effects. but i solve this demand by `sed -i '$a\\jovyan ALL=(root) NOPASSWD: /usr/bin/apt-get' /etc/sudoers` , to provide apt-get only.\r\nThanks again !",
    "performed_via_github_app": null
  }
]
