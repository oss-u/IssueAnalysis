[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/208908545",
    "html_url": "https://github.com/jupyter/notebook/issues/1339#issuecomment-208908545",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1339",
    "id": 208908545,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODkwODU0NQ==",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-12T13:36:19Z",
    "updated_at": "2016-04-12T13:36:19Z",
    "author_association": "MEMBER",
    "body": "cc @ellisonbg @bollwyvl on whether template_path should be added to the metadata spec.\n\nAs an escape hatch, server extensions can already extend template paths at load time, just not in a declarative way in this metadata.\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/208923326",
    "html_url": "https://github.com/jupyter/notebook/issues/1339#issuecomment-208923326",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1339",
    "id": 208923326,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODkyMzMyNg==",
    "user": {
      "login": "jcb91",
      "id": 5630710,
      "node_id": "MDQ6VXNlcjU2MzA3MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5630710?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jcb91",
      "html_url": "https://github.com/jcb91",
      "followers_url": "https://api.github.com/users/jcb91/followers",
      "following_url": "https://api.github.com/users/jcb91/following{/other_user}",
      "gists_url": "https://api.github.com/users/jcb91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jcb91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jcb91/subscriptions",
      "organizations_url": "https://api.github.com/users/jcb91/orgs",
      "repos_url": "https://api.github.com/users/jcb91/repos",
      "events_url": "https://api.github.com/users/jcb91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jcb91/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-12T14:05:47Z",
    "updated_at": "2016-04-12T14:05:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "> As an escape hatch, server extensions can already extend template paths at load time\n\nDo you mean explicitly altering the `NotebookApp`'s `template_file_path` in `load_jupyter_server_extension`?\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/209003615",
    "html_url": "https://github.com/jupyter/notebook/issues/1339#issuecomment-209003615",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1339",
    "id": 209003615,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTAwMzYxNQ==",
    "user": {
      "login": "bollwyvl",
      "id": 45380,
      "node_id": "MDQ6VXNlcjQ1Mzgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/45380?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bollwyvl",
      "html_url": "https://github.com/bollwyvl",
      "followers_url": "https://api.github.com/users/bollwyvl/followers",
      "following_url": "https://api.github.com/users/bollwyvl/following{/other_user}",
      "gists_url": "https://api.github.com/users/bollwyvl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bollwyvl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bollwyvl/subscriptions",
      "organizations_url": "https://api.github.com/users/bollwyvl/orgs",
      "repos_url": "https://api.github.com/users/bollwyvl/repos",
      "events_url": "https://api.github.com/users/bollwyvl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bollwyvl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-12T16:51:23Z",
    "updated_at": "2016-04-12T16:51:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "Or perhaps, more devilishly:\n\n``` python\n# my_serverextension/__init__.py\nimport os.path import join, dirname\nfrom notebook.base.handlers import IPythonHandler\nfrom notebook.utils import url_path_join\n\n\nclass MyServerExtensionHandler(IPythonHandler):\n    def get(self):\n        self.finish(self.render_template(\"my_serverextension/index.html\"\n                                         **self.application.settings))\n\n\ndef load_jupyter_server_extension(nb_app):\n    base_url = nb_app.web_app.settings[\"base_url\"]\n\n    nb_app.web_app.settings[\"jinja2_env\"].loader.searchpath += [\n        join(dirname(__file__), \"templates\")\n    ]\n\n    nb_app.web_app.add_handlers(\".*$\", [\n        (url_path_join(base_url, \"my_serverextension\"),\n            MyServerExtensionHandler),\n        ])\n```\n\nthis assumes a structure like:\n\n``` shell\n- my_serverextension/\n  - __init__.py\n  - templates/\n    - my_serverextension/\n      - index.html\n```\n\nThis will not _overload_ the base templates, so if you are trying to change, say, `notebook`, that won't work. However, if you are adding rendered html handlers, it will work fine.\n\nI don't know if adding it to the metadata is a feasible idea, as we don't actually interrogate the modules at runtime. We'd need a new configuration place for it, I guess.\n\nFurther, there is the ever-tricky question of ordering: 4.2 stores the server extensions as a dict, so your extension basically has to be ready to handle whatever comes your way.\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/209109920",
    "html_url": "https://github.com/jupyter/notebook/issues/1339#issuecomment-209109920",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1339",
    "id": 209109920,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTEwOTkyMA==",
    "user": {
      "login": "jcb91",
      "id": 5630710,
      "node_id": "MDQ6VXNlcjU2MzA3MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5630710?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jcb91",
      "html_url": "https://github.com/jcb91",
      "followers_url": "https://api.github.com/users/jcb91/followers",
      "following_url": "https://api.github.com/users/jcb91/following{/other_user}",
      "gists_url": "https://api.github.com/users/jcb91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jcb91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jcb91/subscriptions",
      "organizations_url": "https://api.github.com/users/jcb91/orgs",
      "repos_url": "https://api.github.com/users/jcb91/repos",
      "events_url": "https://api.github.com/users/jcb91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jcb91/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-12T21:27:58Z",
    "updated_at": "2016-04-12T21:27:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks @bollwyvl for the example. Ok, so I need to alter `nb_app.web_app.settings[\"jinja2_env\"].loader.searchpath` rather than just `nbapp.template_path`.\n\n> Further, there is the ever-tricky question of ordering\n\nI'm not sure in what case this would matter - is this a problem for extending existing templates?\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/209114370",
    "html_url": "https://github.com/jupyter/notebook/issues/1339#issuecomment-209114370",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1339",
    "id": 209114370,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTExNDM3MA==",
    "user": {
      "login": "bollwyvl",
      "id": 45380,
      "node_id": "MDQ6VXNlcjQ1Mzgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/45380?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bollwyvl",
      "html_url": "https://github.com/bollwyvl",
      "followers_url": "https://api.github.com/users/bollwyvl/followers",
      "following_url": "https://api.github.com/users/bollwyvl/following{/other_user}",
      "gists_url": "https://api.github.com/users/bollwyvl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bollwyvl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bollwyvl/subscriptions",
      "organizations_url": "https://api.github.com/users/bollwyvl/orgs",
      "repos_url": "https://api.github.com/users/bollwyvl/repos",
      "events_url": "https://api.github.com/users/bollwyvl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bollwyvl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-12T21:40:02Z",
    "updated_at": "2016-04-12T21:40:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "> > Further, there is the ever-tricky question of ordering\n> \n> I'm not sure in what case this would matter - is this a problem for extending existing templates?\n\nWell if two server extensions changed the template path... who wins? if they both overload `notebook.html`, they can't know which one will actually resolve. It will probably stable-ish, for a given user, but still pretty non-deterministic.\n\nSo basically, overloading html templates used in the base NotebookApp are not that good a way to overload parts of the application, as so much of the work happens client-side. Good-neighbor namespacing should be a lot more stable, for custom views: with the namespacing, it's very easy to reuse the upstream templates in their normal location... so you could create a custom notebook endpoint,\n\nhttp://localhost:8888/my-notebooks/Untitled.ipynb\n\nthat worked like the base environment. Not that bad a work-around.\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/209115536",
    "html_url": "https://github.com/jupyter/notebook/issues/1339#issuecomment-209115536",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1339",
    "id": 209115536,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTExNTUzNg==",
    "user": {
      "login": "jcb91",
      "id": 5630710,
      "node_id": "MDQ6VXNlcjU2MzA3MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5630710?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jcb91",
      "html_url": "https://github.com/jcb91",
      "followers_url": "https://api.github.com/users/jcb91/followers",
      "following_url": "https://api.github.com/users/jcb91/following{/other_user}",
      "gists_url": "https://api.github.com/users/jcb91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jcb91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jcb91/subscriptions",
      "organizations_url": "https://api.github.com/users/jcb91/orgs",
      "repos_url": "https://api.github.com/users/jcb91/repos",
      "events_url": "https://api.github.com/users/jcb91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jcb91/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-12T21:43:33Z",
    "updated_at": "2016-04-12T21:43:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ah, gotcha. Well, since for the moment I'm not actually trying to overload anything, just provide new rendering handlers, the simple add-extra-directories-to-search-path works fine for me :smile: \n",
    "performed_via_github_app": null
  }
]
