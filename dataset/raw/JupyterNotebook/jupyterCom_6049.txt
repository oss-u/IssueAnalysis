[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/831485577",
    "html_url": "https://github.com/jupyter/notebook/issues/6049#issuecomment-831485577",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/6049",
    "id": 831485577,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzMTQ4NTU3Nw==",
    "user": {
      "login": "myrrc",
      "id": 7099650,
      "node_id": "MDQ6VXNlcjcwOTk2NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7099650?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/myrrc",
      "html_url": "https://github.com/myrrc",
      "followers_url": "https://api.github.com/users/myrrc/followers",
      "following_url": "https://api.github.com/users/myrrc/following{/other_user}",
      "gists_url": "https://api.github.com/users/myrrc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/myrrc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/myrrc/subscriptions",
      "organizations_url": "https://api.github.com/users/myrrc/orgs",
      "repos_url": "https://api.github.com/users/myrrc/repos",
      "events_url": "https://api.github.com/users/myrrc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/myrrc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-03T19:37:51Z",
    "updated_at": "2021-05-03T19:37:51Z",
    "author_association": "NONE",
    "body": "Jupyter version: 4.4.0-2\r\nDebian 10 stable.\r\n\r\nI ran into same bug, here's the error stacktrace:\r\n\r\n```\r\n[E 22:34:33.185 NotebookApp] Uncaught exception GET /notebooks/Untitled.ipynb (127.0.0.1)\r\n    HTTPServerRequest(protocol='http', host='localhost:8888', method='GET', uri='/notebooks/Untitled.ipynb', version='HTTP/1.1', remote_ip='127.0.0.1')\r\n    Traceback (most recent call last):\r\n      File \"/usr/lib/python3/dist-packages/tornado/web.py\", line 1590, in _execute\r\n        result = method(*self.path_args, **self.path_kwargs)\r\n      File \"/usr/lib/python3/dist-packages/tornado/web.py\", line 3006, in wrapper\r\n        return method(self, *args, **kwargs)\r\n      File \"/usr/lib/python3/dist-packages/notebook/notebook/handlers.py\", line 59, in get\r\n        get_custom_frontend_exporters=get_custom_frontend_exporters\r\n      File \"/usr/lib/python3/dist-packages/notebook/base/handlers.py\", line 519, in render_template\r\n        return template.render(**ns)\r\n      File \"/usr/lib/python3/dist-packages/jinja2/asyncsupport.py\", line 76, in render\r\n        return original_render(self, *args, **kwargs)\r\n      File \"/usr/lib/python3/dist-packages/jinja2/environment.py\", line 1008, in render\r\n        return self.environment.handle_exception(exc_info, True)\r\n      File \"/usr/lib/python3/dist-packages/jinja2/environment.py\", line 780, in handle_exception\r\n        reraise(exc_type, exc_value, tb)\r\n      File \"/usr/lib/python3/dist-packages/jinja2/_compat.py\", line 37, in reraise\r\n        raise value.with_traceback(tb)\r\n      File \"/usr/lib/python3/dist-packages/notebook/templates/notebook.html\", line 1, in top-level template code\r\n        {% extends \"page.html\" %}\r\n      File \"/usr/lib/python3/dist-packages/notebook/templates/page.html\", line 153, in top-level template code\r\n        {% block header %}\r\n      File \"/usr/lib/python3/dist-packages/notebook/templates/notebook.html\", line 120, in block \"header\"\r\n        {% for exporter in get_custom_frontend_exporters() %}\r\n\r\n      File \"/usr/lib/python3/dist-packages/notebook/notebook/handlers.py\", line 19, in get_custom_frontend_exporters\r\n        from nbconvert.exporters.base import get_export_names, get_exporter\r\n      File \"/usr/lib/python3/dist-packages/nbconvert/__init__.py\", line 4, in <module>\r\n        from .exporters import *\r\n      File \"/usr/lib/python3/dist-packages/nbconvert/exporters/__init__.py\", line 3, in <module>\r\n        from .exporter_locator import export_by_name\r\n      File \"/usr/lib/python3/dist-packages/nbconvert/exporters/exporter_locator.py\", line\r\n12, in <module>\r\n        from .templateexporter import TemplateExporter\r\n      File \"/usr/lib/python3/dist-packages/nbconvert/exporters/templateexporter.py\", line\r\n23, in <module>\r\n        from nbconvert import filters\r\n      File \"/usr/lib/python3/dist-packages/nbconvert/filters/__init__.py\", line 6, in <module>\r\n        from .markdown import *\r\n      File \"/usr/lib/python3/dist-packages/nbconvert/filters/markdown.py\", line 13, in <module>\r\n        from .markdown_mistune import markdown2html_mistune\r\n      File \"/usr/lib/python3/dist-packages/nbconvert/filters/markdown_mistune.py\", line 24, in <module>\r\n        class MathBlockGrammar(mistune.BlockGrammar):\r\n    AttributeError: module 'mistune' has no attribute 'BlockGrammar'\r\n[E 22:34:33.189 NotebookApp] {\r\n      \"Host\": \"localhost:8888\",\r\n      \"User-Agent\": \"Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0\",\r\n      \"Accept\": \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\",\r\n      \"Accept-Language\": \"en-US,en;q=0.5\",\r\n      \"Accept-Encoding\": \"gzip, deflate\",\r\n      \"Dnt\": \"1\",\r\n      \"Connection\": \"keep-alive\",\r\n      \"Referer\": \"http://localhost:8888/tree\",\r\n      \"Cookie\": \"username-localhost-8888=\\\"2|1:0|10:1620070471|23:username-localhost-8888|44:NjdlZTU1YjVmNjYxNGVkY2FjNDdjYzI2ZTdlZTYwMTI=|0efd8a528a8a5aacc50ebc6b00819f0a6fdadbee2a1dbf221822eb56b5a6bd25\\\"; _xsrf=2|ea99daeb|d079d991f3a216e33519867fb304e100|1620070217\",\r\n      \"Upgrade-Insecure-Requests\": \"1\",\r\n      \"Sec-Gpc\": \"1\"\r\n    }\r\n```",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/831610999",
    "html_url": "https://github.com/jupyter/notebook/issues/6049#issuecomment-831610999",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/6049",
    "id": 831610999,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzMTYxMDk5OQ==",
    "user": {
      "login": "kevin-bates",
      "id": 22599560,
      "node_id": "MDQ6VXNlcjIyNTk5NTYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/22599560?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevin-bates",
      "html_url": "https://github.com/kevin-bates",
      "followers_url": "https://api.github.com/users/kevin-bates/followers",
      "following_url": "https://api.github.com/users/kevin-bates/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevin-bates/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevin-bates/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevin-bates/subscriptions",
      "organizations_url": "https://api.github.com/users/kevin-bates/orgs",
      "repos_url": "https://api.github.com/users/kevin-bates/repos",
      "events_url": "https://api.github.com/users/kevin-bates/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevin-bates/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-04T00:10:43Z",
    "updated_at": "2021-05-04T00:10:43Z",
    "author_association": "MEMBER",
    "body": "Not sure what evidence there is that this is the same issue as the opening description as it has such little information to go on.\r\n\r\nAs for this issue (thanks for the traceback), I suspect you might have an incompatible version of `mistune` and `nbconvert` requires [`>=0.8.1, <2`](https://github.com/jupyter/nbconvert/blob/a365a5ca324faf7f6b7d040773936bdb7fb8c15d/setup.py#L215).",
    "performed_via_github_app": null
  }
]
