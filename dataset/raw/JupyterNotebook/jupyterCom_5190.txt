[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/578993203",
    "html_url": "https://github.com/jupyter/notebook/issues/5190#issuecomment-578993203",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/5190",
    "id": 578993203,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3ODk5MzIwMw==",
    "user": {
      "login": "kevin-bates",
      "id": 22599560,
      "node_id": "MDQ6VXNlcjIyNTk5NTYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/22599560?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevin-bates",
      "html_url": "https://github.com/kevin-bates",
      "followers_url": "https://api.github.com/users/kevin-bates/followers",
      "following_url": "https://api.github.com/users/kevin-bates/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevin-bates/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevin-bates/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevin-bates/subscriptions",
      "organizations_url": "https://api.github.com/users/kevin-bates/orgs",
      "repos_url": "https://api.github.com/users/kevin-bates/repos",
      "events_url": "https://api.github.com/users/kevin-bates/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevin-bates/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-27T22:49:44Z",
    "updated_at": "2020-01-27T22:49:44Z",
    "author_association": "MEMBER",
    "body": "@Avel7884 - I'm really sorry to hear about this, its very unfortunate.  In looking into this, you've entered the realm of \"Alternate Data Streams\" on Windows.  I found this [SO link](https://stackoverflow.com/questions/34097936/shutil-move-deletes-the-file-on-windows-when-new-name-contains-a-colon-and-an-e?noredirect=1&lq=1) helpful and its solution includes a more detailed link regarding ADS.\r\n\r\nIn playing around with this, I found the rename operation _from within the notebook_ prevents renames that include slashes ('/', '\\\\') and colon (':').  Unfortunately, the Rename operation from the general directory listing does not - and that's a bug.  I'm hoping someone may be able to submit a pull request to address that - since the two areas should be similarly behaved.\r\n\r\nHowever, in reading about ADS, there may be hope to salvage your content.  Within a Windows command prompt, please navigate to the folder in which \"Notebook: Return of the Jedi.ipynb\" should reside and enter `dir /r`.  This exposes hidden files such as ADS-based files.  In that listing, I suspect you'll see Notebook (with 0 bytes) but (hopefully) a file named \"Notebook: Return of the Jedi.ipynb$DATA\" (with non-zero bytes).  If so, try to open the file (without the `$DATA` suffix) using notepad...\r\n\r\n`notepad Notebook: Return of the Jedi.ipynb`\r\n\r\nI found no double-quoting was necessary.\r\n\r\nYou should then see your raw notebook data.  Use notepad to 'Save as...' and provide a name like 'hope_this_works.ipynb'.  By default, it looks like this goes to the Documents folder, so you might want to change the path to where your notebook files reside.\r\n\r\nOnce saved, go back into Jupyter Notebook and you should see 'hope_this_works.ipynb' in the directory listing.  Open that notebook and (fingers crossed), your notebook should be restored.\r\n\r\nOf course, if `dir /r` didn't produce non-zero byte content for \"Notebook: Return of the Jedi.ipynb$DATA\", then you might be out of luck, unless others have ideas.\r\n\r\nGood luck.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/579286728",
    "html_url": "https://github.com/jupyter/notebook/issues/5190#issuecomment-579286728",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/5190",
    "id": 579286728,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTI4NjcyOA==",
    "user": {
      "login": "Avel7884",
      "id": 32782192,
      "node_id": "MDQ6VXNlcjMyNzgyMTky",
      "avatar_url": "https://avatars.githubusercontent.com/u/32782192?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Avel7884",
      "html_url": "https://github.com/Avel7884",
      "followers_url": "https://api.github.com/users/Avel7884/followers",
      "following_url": "https://api.github.com/users/Avel7884/following{/other_user}",
      "gists_url": "https://api.github.com/users/Avel7884/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Avel7884/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Avel7884/subscriptions",
      "organizations_url": "https://api.github.com/users/Avel7884/orgs",
      "repos_url": "https://api.github.com/users/Avel7884/repos",
      "events_url": "https://api.github.com/users/Avel7884/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Avel7884/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-28T15:00:50Z",
    "updated_at": "2020-01-28T15:00:50Z",
    "author_association": "NONE",
    "body": "Yes, it worked! Thank you, you really saved the day!",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/579297214",
    "html_url": "https://github.com/jupyter/notebook/issues/5190#issuecomment-579297214",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/5190",
    "id": 579297214,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTI5NzIxNA==",
    "user": {
      "login": "kevin-bates",
      "id": 22599560,
      "node_id": "MDQ6VXNlcjIyNTk5NTYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/22599560?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevin-bates",
      "html_url": "https://github.com/kevin-bates",
      "followers_url": "https://api.github.com/users/kevin-bates/followers",
      "following_url": "https://api.github.com/users/kevin-bates/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevin-bates/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevin-bates/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevin-bates/subscriptions",
      "organizations_url": "https://api.github.com/users/kevin-bates/orgs",
      "repos_url": "https://api.github.com/users/kevin-bates/repos",
      "events_url": "https://api.github.com/users/kevin-bates/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevin-bates/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-28T15:21:48Z",
    "updated_at": "2020-01-28T15:21:48Z",
    "author_association": "MEMBER",
    "body": "That's great news!  Had you deleted the zero-length \"Notebook\" file, I believe the ADS would have been removed as well.  Really glad to hear you got your work back.\r\n\r\nI think this issue needs to be addressed in the server code as well - as a catch-all and for cases where folks are submitting requests directly via the REST api.  I can look into that.\r\n\r\nHopefully someone with more front-end knowledge (than my zero) can add some validation in [this area](https://github.com/jupyter/notebook/blob/master/notebook/static/tree/js/notebooklist.js#L1029) or related code path.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/579310661",
    "html_url": "https://github.com/jupyter/notebook/issues/5190#issuecomment-579310661",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/5190",
    "id": 579310661,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTMxMDY2MQ==",
    "user": {
      "login": "jasongrout",
      "id": 192614,
      "node_id": "MDQ6VXNlcjE5MjYxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/192614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jasongrout",
      "html_url": "https://github.com/jasongrout",
      "followers_url": "https://api.github.com/users/jasongrout/followers",
      "following_url": "https://api.github.com/users/jasongrout/following{/other_user}",
      "gists_url": "https://api.github.com/users/jasongrout/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jasongrout/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jasongrout/subscriptions",
      "organizations_url": "https://api.github.com/users/jasongrout/orgs",
      "repos_url": "https://api.github.com/users/jasongrout/repos",
      "events_url": "https://api.github.com/users/jasongrout/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jasongrout/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-28T15:42:27Z",
    "updated_at": "2020-01-28T15:42:27Z",
    "author_association": "MEMBER",
    "body": "Perhaps validation on the server side could be added around https://github.com/jupyter/notebook/blob/43df5af2b614088b4b297fae90a70b6505b9bf84/notebook/services/contents/filemanager.py#L564-L566",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/579322281",
    "html_url": "https://github.com/jupyter/notebook/issues/5190#issuecomment-579322281",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/5190",
    "id": 579322281,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTMyMjI4MQ==",
    "user": {
      "login": "kevin-bates",
      "id": 22599560,
      "node_id": "MDQ6VXNlcjIyNTk5NTYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/22599560?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevin-bates",
      "html_url": "https://github.com/kevin-bates",
      "followers_url": "https://api.github.com/users/kevin-bates/followers",
      "following_url": "https://api.github.com/users/kevin-bates/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevin-bates/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevin-bates/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevin-bates/subscriptions",
      "organizations_url": "https://api.github.com/users/kevin-bates/orgs",
      "repos_url": "https://api.github.com/users/kevin-bates/repos",
      "events_url": "https://api.github.com/users/kevin-bates/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevin-bates/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-28T16:03:49Z",
    "updated_at": "2020-01-28T16:03:49Z",
    "author_association": "MEMBER",
    "body": "Thanks @jasongrout.  I was thinking this would be done in the [handler patch method](https://github.com/jupyter/notebook/blob/43df5af2b614088b4b297fae90a70b6505b9bf84/notebook/services/contents/handlers.py#L125) since we don't know what kind of contents manager is in use.  One could argue this is a file-specific issue, but because the front-end isn't in tune with what contents manager is in play, one could also argue behaviors should be consistent between front and back.\r\n\r\nI've also noticed that slashes can be entered when renaming a folder from the notebook list and that results in multiple directories being created.  As such, the set of invalid characters would likely vary depending on the model's type (directory or file).\r\n\r\nTo my first point, it might be best to forgo validation in the front end, then only add character validation to the specific contents managers - since some [contents managers (even those that are file-based) may wish to allow things like colons, slashes, etc.](https://github.com/jupyter/notebook/issues/1334#issuecomment-209381040).\r\n\r\nWhat are your thoughts?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/579480139",
    "html_url": "https://github.com/jupyter/notebook/issues/5190#issuecomment-579480139",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/5190",
    "id": 579480139,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTQ4MDEzOQ==",
    "user": {
      "login": "kevin-bates",
      "id": 22599560,
      "node_id": "MDQ6VXNlcjIyNTk5NTYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/22599560?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevin-bates",
      "html_url": "https://github.com/kevin-bates",
      "followers_url": "https://api.github.com/users/kevin-bates/followers",
      "following_url": "https://api.github.com/users/kevin-bates/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevin-bates/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevin-bates/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevin-bates/subscriptions",
      "organizations_url": "https://api.github.com/users/kevin-bates/orgs",
      "repos_url": "https://api.github.com/users/kevin-bates/repos",
      "events_url": "https://api.github.com/users/kevin-bates/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevin-bates/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-28T22:04:44Z",
    "updated_at": "2020-01-28T22:04:44Z",
    "author_association": "MEMBER",
    "body": "I've gone ahead and submitted a PR for this, implementing this directly in the FileContentsManager (since other managers will have differing sets of invalid characters).\r\n\r\nI added a few more invalid chars relative to Windows, but we _could_ ratchet things back to only include `':'` since the others will/should be caught at the OS level.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/662233717",
    "html_url": "https://github.com/jupyter/notebook/issues/5190#issuecomment-662233717",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/5190",
    "id": 662233717,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MjIzMzcxNw==",
    "user": {
      "login": "Ignacio-Ibarra",
      "id": 64967345,
      "node_id": "MDQ6VXNlcjY0OTY3MzQ1",
      "avatar_url": "https://avatars.githubusercontent.com/u/64967345?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Ignacio-Ibarra",
      "html_url": "https://github.com/Ignacio-Ibarra",
      "followers_url": "https://api.github.com/users/Ignacio-Ibarra/followers",
      "following_url": "https://api.github.com/users/Ignacio-Ibarra/following{/other_user}",
      "gists_url": "https://api.github.com/users/Ignacio-Ibarra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Ignacio-Ibarra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Ignacio-Ibarra/subscriptions",
      "organizations_url": "https://api.github.com/users/Ignacio-Ibarra/orgs",
      "repos_url": "https://api.github.com/users/Ignacio-Ibarra/repos",
      "events_url": "https://api.github.com/users/Ignacio-Ibarra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Ignacio-Ibarra/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-22T04:26:53Z",
    "updated_at": "2020-07-22T04:26:53Z",
    "author_association": "NONE",
    "body": "God bless @kevin-bates , you're a genius!!! You saved my work",
    "performed_via_github_app": null
  }
]
