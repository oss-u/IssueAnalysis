[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/337853598",
    "html_url": "https://github.com/jupyter/notebook/issues/2954#issuecomment-337853598",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2954",
    "id": 337853598,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzg1MzU5OA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-19T09:32:53Z",
    "updated_at": "2017-10-19T09:32:53Z",
    "author_association": "MEMBER",
    "body": "I guess there's a race condition, that it's trying to add the shortcut before the extension has loaded and defined the action. It's a tricky one; it should be possible to bind a shortcut to an action name that hasn't been registered *yet*, but it's also nice to be able to catch incorrect action names.\r\n\r\nMaybe `add_shortcut` could have an extra parameter to allow it to bind to actions which aren't registered yet. @Carreau @gnestor ?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/337975751",
    "html_url": "https://github.com/jupyter/notebook/issues/2954#issuecomment-337975751",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2954",
    "id": 337975751,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzk3NTc1MQ==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-19T17:14:49Z",
    "updated_at": "2017-10-19T17:14:49Z",
    "author_association": "MEMBER",
    "body": "> Maybe add_shortcut could have an extra parameter to allow it to bind to actions which aren't registered yet. @Carreau @gnestor ?\r\n\r\nI though it was already the case by default; I'll have to re-check. \r\nThough I think that might be because of **Edit** shortcuts, I believe *Edit* is more complicated (as it may interfere with Codemirror); so was not completely implemented. ",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/341747263",
    "html_url": "https://github.com/jupyter/notebook/issues/2954#issuecomment-341747263",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2954",
    "id": 341747263,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MTc0NzI2Mw==",
    "user": {
      "login": "gnestor",
      "id": 512354,
      "node_id": "MDQ6VXNlcjUxMjM1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/512354?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gnestor",
      "html_url": "https://github.com/gnestor",
      "followers_url": "https://api.github.com/users/gnestor/followers",
      "following_url": "https://api.github.com/users/gnestor/following{/other_user}",
      "gists_url": "https://api.github.com/users/gnestor/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gnestor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gnestor/subscriptions",
      "organizations_url": "https://api.github.com/users/gnestor/orgs",
      "repos_url": "https://api.github.com/users/gnestor/repos",
      "events_url": "https://api.github.com/users/gnestor/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gnestor/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-03T16:01:37Z",
    "updated_at": "2017-11-03T16:01:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "The issue is that the [`actions` and `keyboard_manager` objects are created](https://github.com/jupyter/notebook/blob/master/notebook/static/notebook/js/main.js#L112-L118) before [extensions are loaded](https://github.com/jupyter/notebook/blob/master/notebook/static/notebook/js/main.js#L218-L221). This is for good reason because otherwise the notebook could take a long time to load. \r\n\r\nThe simple solution is to move all the actions/keyboard manager creation stuff into the `.then` after extensions are loaded. Unfortunately, almost all of the main objects depend on actions or keyboard manager, including the notebook, so that wouldn't buy us much. \r\n\r\nAnother approach woulds be to break out [the adding of config shortcuts](https://github.com/jupyter/notebook/blob/master/notebook/static/notebook/js/keyboardmanager.js#L49-L84) (vs. default shortcuts) to a new method on keyboard manager that could be called after extensions are loaded.",
    "performed_via_github_app": null
  }
]
