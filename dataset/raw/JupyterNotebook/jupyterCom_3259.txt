[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/360163684",
    "html_url": "https://github.com/jupyter/notebook/issues/3259#issuecomment-360163684",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3259",
    "id": 360163684,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MDE2MzY4NA==",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-24T15:05:37Z",
    "updated_at": "2018-01-24T15:05:37Z",
    "author_association": "MEMBER",
    "body": "Thanks for opening this!\r\n\r\nIf the proxy is stripping or changing the Host header, all API endpoints should be affected. If there's an action to take on this, it might be to balk at any request missing the Host header. It's not technically a [valid HTTP request](https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.23) if it doesn't have a Host header. Firefox has the quirk that it doesn't send Origin when it would have the same value as Host, which has caused us security issues in the past. The issue here seems to have been proxy configuration which stripped the Host header, producing invalid requests. Preserving the original Host header in the proxy ought to be the right thing to do.\r\n\r\nThe JupyterHub docs [include working configurations for nginx and apache](https://jupyterhub.readthedocs.io/en/latest/reference/config-examples.html#nginx), which should ensure correct proxied headers. Apache requires explicitly setting PreserveHostHeader, while nginx's default behavior has been sufficient in this regard in my experience.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/361012236",
    "html_url": "https://github.com/jupyter/notebook/issues/3259#issuecomment-361012236",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3259",
    "id": 361012236,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MTAxMjIzNg==",
    "user": {
      "login": "kaiaeberli",
      "id": 5165565,
      "node_id": "MDQ6VXNlcjUxNjU1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5165565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kaiaeberli",
      "html_url": "https://github.com/kaiaeberli",
      "followers_url": "https://api.github.com/users/kaiaeberli/followers",
      "following_url": "https://api.github.com/users/kaiaeberli/following{/other_user}",
      "gists_url": "https://api.github.com/users/kaiaeberli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kaiaeberli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kaiaeberli/subscriptions",
      "organizations_url": "https://api.github.com/users/kaiaeberli/orgs",
      "repos_url": "https://api.github.com/users/kaiaeberli/repos",
      "events_url": "https://api.github.com/users/kaiaeberli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kaiaeberli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-27T20:17:37Z",
    "updated_at": "2018-01-27T20:21:15Z",
    "author_association": "NONE",
    "body": "I think i may have found a similar issue. I am running notebooks in google chrome on windows, starting the notebook from the command line, and after about 30 minutes of working all the xhr request remain in \"pending\" state, and the server shows no messages (despite being in debug mode). If I then go to firefox and copy paste the connection url, suddenly the server wakes up, fulfils all of google chrome's xhr requests, and proceeds to handle those from firefox.\r\nThis issue is driving me crazy, as it prevents any work being done on chrome and i have to crash and restart the kernel every 30 minutes.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/361015135",
    "html_url": "https://github.com/jupyter/notebook/issues/3259#issuecomment-361015135",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3259",
    "id": 361015135,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MTAxNTEzNQ==",
    "user": {
      "login": "kaiaeberli",
      "id": 5165565,
      "node_id": "MDQ6VXNlcjUxNjU1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5165565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kaiaeberli",
      "html_url": "https://github.com/kaiaeberli",
      "followers_url": "https://api.github.com/users/kaiaeberli/followers",
      "following_url": "https://api.github.com/users/kaiaeberli/following{/other_user}",
      "gists_url": "https://api.github.com/users/kaiaeberli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kaiaeberli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kaiaeberli/subscriptions",
      "organizations_url": "https://api.github.com/users/kaiaeberli/orgs",
      "repos_url": "https://api.github.com/users/kaiaeberli/repos",
      "events_url": "https://api.github.com/users/kaiaeberli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kaiaeberli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-27T21:04:18Z",
    "updated_at": "2018-01-27T21:46:09Z",
    "author_association": "NONE",
    "body": "After observing firefox a bit, it happens there as well - the requests are starting to get queued.. no idea how to fix. The website is just still waiting for localhost, and the server in the console window produces no messages at all.\r\n\r\nIf I quite the console with Ctrl+C, i suddenly see a lot of buffered messages, among them:\r\n zmq message arrived on closed channel\r\n\r\n\r\nI am using the jupyter notebook version 5.2 on Anaconda with python 3.6.3.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/361055502",
    "html_url": "https://github.com/jupyter/notebook/issues/3259#issuecomment-361055502",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3259",
    "id": 361055502,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MTA1NTUwMg==",
    "user": {
      "login": "kaiaeberli",
      "id": 5165565,
      "node_id": "MDQ6VXNlcjUxNjU1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5165565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kaiaeberli",
      "html_url": "https://github.com/kaiaeberli",
      "followers_url": "https://api.github.com/users/kaiaeberli/followers",
      "following_url": "https://api.github.com/users/kaiaeberli/following{/other_user}",
      "gists_url": "https://api.github.com/users/kaiaeberli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kaiaeberli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kaiaeberli/subscriptions",
      "organizations_url": "https://api.github.com/users/kaiaeberli/orgs",
      "repos_url": "https://api.github.com/users/kaiaeberli/repos",
      "events_url": "https://api.github.com/users/kaiaeberli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kaiaeberli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-28T11:23:09Z",
    "updated_at": "2018-01-28T11:23:09Z",
    "author_association": "NONE",
    "body": "I resolved this: the windows firewall seems to be blocking the connection to locahost:8888. When I add a rule to allow connections to private networks on port 8888 everything works.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/361058861",
    "html_url": "https://github.com/jupyter/notebook/issues/3259#issuecomment-361058861",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/3259",
    "id": 361058861,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MTA1ODg2MQ==",
    "user": {
      "login": "ZelphirKaltstahl",
      "id": 11130348,
      "node_id": "MDQ6VXNlcjExMTMwMzQ4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11130348?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ZelphirKaltstahl",
      "html_url": "https://github.com/ZelphirKaltstahl",
      "followers_url": "https://api.github.com/users/ZelphirKaltstahl/followers",
      "following_url": "https://api.github.com/users/ZelphirKaltstahl/following{/other_user}",
      "gists_url": "https://api.github.com/users/ZelphirKaltstahl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ZelphirKaltstahl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ZelphirKaltstahl/subscriptions",
      "organizations_url": "https://api.github.com/users/ZelphirKaltstahl/orgs",
      "repos_url": "https://api.github.com/users/ZelphirKaltstahl/repos",
      "events_url": "https://api.github.com/users/ZelphirKaltstahl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ZelphirKaltstahl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-28T12:22:53Z",
    "updated_at": "2018-01-28T12:22:53Z",
    "author_association": "NONE",
    "body": "@kaiaeberli That seems strange. Why would the firewall first not block requests, but start after 30 minutes blocking requests? Well with the experiences I made with windows firewall in the past, it could well be some quirk of it.\r\nAnyway, I think this is not the same issue. If it pops up again, I think it would be best to create a separate issue.",
    "performed_via_github_app": null
  }
]
