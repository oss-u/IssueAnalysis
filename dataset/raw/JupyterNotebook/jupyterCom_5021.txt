[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/548900142",
    "html_url": "https://github.com/jupyter/notebook/pull/5021#issuecomment-548900142",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/5021",
    "id": 548900142,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0ODkwMDE0Mg==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-01T18:28:07Z",
    "updated_at": "2019-11-01T18:28:07Z",
    "author_association": "MEMBER",
    "body": "I suspect removing that line also breaks using `--notebook-dir` without setting the contents manager root dir in config. Interacting config options are hard.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/548900223",
    "html_url": "https://github.com/jupyter/notebook/pull/5021#issuecomment-548900223",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/5021",
    "id": 548900223,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0ODkwMDIyMw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-01T18:28:18Z",
    "updated_at": "2019-11-01T18:28:18Z",
    "author_association": "MEMBER",
    "body": "I suspect removing that line also breaks using `--notebook-dir` without setting the contents manager root dir in config. Interacting config options are hard.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/548916440",
    "html_url": "https://github.com/jupyter/notebook/pull/5021#issuecomment-548916440",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/5021",
    "id": 548916440,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0ODkxNjQ0MA==",
    "user": {
      "login": "krinsman",
      "id": 31422259,
      "node_id": "MDQ6VXNlcjMxNDIyMjU5",
      "avatar_url": "https://avatars.githubusercontent.com/u/31422259?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/krinsman",
      "html_url": "https://github.com/krinsman",
      "followers_url": "https://api.github.com/users/krinsman/followers",
      "following_url": "https://api.github.com/users/krinsman/following{/other_user}",
      "gists_url": "https://api.github.com/users/krinsman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/krinsman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/krinsman/subscriptions",
      "organizations_url": "https://api.github.com/users/krinsman/orgs",
      "repos_url": "https://api.github.com/users/krinsman/repos",
      "events_url": "https://api.github.com/users/krinsman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/krinsman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-01T19:14:23Z",
    "updated_at": "2019-11-01T19:14:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "@takluyver To clarify, what is the intended behavior? And how do these changes break that behavior? \r\n\r\nTo me everything seems to work with the changes, which suggests I don't understand what the intended behavior is, and thus what is broken.\r\n\r\nBy default `FileContents.root_dir` takes its value from `notebook_dir`: https://github.com/jupyter/notebook/blob/master/notebook/services/contents/filemanager.py#L70\r\n\r\nRight now, if both are specified by the user, only one of those specifications is listened to, which is rather confusing and frustrating (it took me 1-2 weeks of digging through the source code to figure out what was going on).\r\n\r\nBeing able to specify both independently is important e.g. when running `jupyterhub-singleuser` with a value of `c.Spawner.notebook_dir` different from what the user's content manager root directory is. Ideally what we want is for users to be able to _view_ inside of notebook all files on the system, thus setting `notebook_dir` equal to root, but at the same time have notebook only attempt to _write_ files inside of their home directory, thus the setting for `ContentsManager.root_dir`. Right now however the latter setting is ignored.\r\n\r\nIf it is actually intended that `NotebookApp.notebook_dir == ContentsManager.root_dir` _always_, no ifs, buts, etc., then it seems like `ContentsManager.root_dir` shouldn't be a configurable.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/549388211",
    "html_url": "https://github.com/jupyter/notebook/pull/5021#issuecomment-549388211",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/5021",
    "id": 549388211,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0OTM4ODIxMQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-04T14:49:27Z",
    "updated_at": "2019-11-04T14:49:27Z",
    "author_association": "MEMBER",
    "body": "Yuck, this is the kind of thing that makes me hate traitlets: the relationship between `NotebookApp.notebook_dir` and `FileContents.root_dir` is written in two completely separate bits of code, one of them without even mentioning NotebookApp directly. :disappointed: \r\n\r\nI suspect that the fact that setting them to different values gives you read-only access to files in one but not the other is a coincidence of how the implementation works, not something that's designed or guaranteed for the future.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/549554037",
    "html_url": "https://github.com/jupyter/notebook/pull/5021#issuecomment-549554037",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/5021",
    "id": 549554037,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0OTU1NDAzNw==",
    "user": {
      "login": "krinsman",
      "id": 31422259,
      "node_id": "MDQ6VXNlcjMxNDIyMjU5",
      "avatar_url": "https://avatars.githubusercontent.com/u/31422259?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/krinsman",
      "html_url": "https://github.com/krinsman",
      "followers_url": "https://api.github.com/users/krinsman/followers",
      "following_url": "https://api.github.com/users/krinsman/following{/other_user}",
      "gists_url": "https://api.github.com/users/krinsman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/krinsman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/krinsman/subscriptions",
      "organizations_url": "https://api.github.com/users/krinsman/orgs",
      "repos_url": "https://api.github.com/users/krinsman/repos",
      "events_url": "https://api.github.com/users/krinsman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/krinsman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-04T21:25:21Z",
    "updated_at": "2019-11-04T21:25:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "@takluyver So would it make sense to change this PR to instead make `FileContents.root_dir` non-configurable, since the intended behavior seems to be to always have `NotebookApp.notebook_dir == ContentsManager.root_dir`?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/549609022",
    "html_url": "https://github.com/jupyter/notebook/pull/5021#issuecomment-549609022",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/5021",
    "id": 549609022,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0OTYwOTAyMg==",
    "user": {
      "login": "krinsman",
      "id": 31422259,
      "node_id": "MDQ6VXNlcjMxNDIyMjU5",
      "avatar_url": "https://avatars.githubusercontent.com/u/31422259?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/krinsman",
      "html_url": "https://github.com/krinsman",
      "followers_url": "https://api.github.com/users/krinsman/followers",
      "following_url": "https://api.github.com/users/krinsman/following{/other_user}",
      "gists_url": "https://api.github.com/users/krinsman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/krinsman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/krinsman/subscriptions",
      "organizations_url": "https://api.github.com/users/krinsman/orgs",
      "repos_url": "https://api.github.com/users/krinsman/repos",
      "events_url": "https://api.github.com/users/krinsman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/krinsman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-05T00:28:00Z",
    "updated_at": "2019-11-05T00:28:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "@takluyver I updated the PR to just make the contents manager and kernel manager root directories non-configurable, since those settings are already silently overwritten by `NotebookApp.notebook_dir` anyway.\r\n\r\nThat being said it would probably be better if a deprecation warning for their non-configurability were inserted somehow -- I don't know what the best way would be to do that.\r\n\r\n`NotebookApp.notebook_dir`, under the new name `ServerApp.root_dir`, as the \"one root directory to rule them all\" seems to be the direction the Jupyter Server project is already going anyway, at least to the best of my crude outsider understanding: https://github.com/jupyter/jupyter_server/pull/36",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/550212647",
    "html_url": "https://github.com/jupyter/notebook/pull/5021#issuecomment-550212647",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/5021",
    "id": 550212647,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MDIxMjY0Nw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-06T09:00:27Z",
    "updated_at": "2019-11-06T09:00:27Z",
    "author_association": "MEMBER",
    "body": "That would be my preferred direction - fewer config options that can interfere with one another. But as it's possible to set them separately at the moment, there's a good chance that someone has a use case for that, so it would be tricky to switch config off for those attributes now. :-(",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/550447338",
    "html_url": "https://github.com/jupyter/notebook/pull/5021#issuecomment-550447338",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/5021",
    "id": 550447338,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MDQ0NzMzOA==",
    "user": {
      "login": "krinsman",
      "id": 31422259,
      "node_id": "MDQ6VXNlcjMxNDIyMjU5",
      "avatar_url": "https://avatars.githubusercontent.com/u/31422259?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/krinsman",
      "html_url": "https://github.com/krinsman",
      "followers_url": "https://api.github.com/users/krinsman/followers",
      "following_url": "https://api.github.com/users/krinsman/following{/other_user}",
      "gists_url": "https://api.github.com/users/krinsman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/krinsman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/krinsman/subscriptions",
      "organizations_url": "https://api.github.com/users/krinsman/orgs",
      "repos_url": "https://api.github.com/users/krinsman/repos",
      "events_url": "https://api.github.com/users/krinsman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/krinsman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-06T18:46:45Z",
    "updated_at": "2019-11-06T18:46:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "OK, so what if this PR was changed to create deprecation warnings saying that configuration for these traits is deprecated and will be removed in Notebook 7 or Notebook 8? As well as changes/additions to the Docs and docstrings saying that these will be deprecated? Would that be better?\r\n\r\nAgain, these traits are already de facto un-configurable, this is the gist of #5002, so it seems like it would be impossible for anyone to have a use case that depends on configuring them.\r\n\r\nMy main interest is in fixing #5002, because I lost a lot of time puzzling over that one before figuring out what the issue was, and it was an incredibly frustrating experience which I would prefer to ensure that future users can avoid. I really like Jupyter a lot and prefer that other people avoid frustrating experiences with it so that they can like Jupyter a lot too.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/551474949",
    "html_url": "https://github.com/jupyter/notebook/pull/5021#issuecomment-551474949",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/5021",
    "id": 551474949,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MTQ3NDk0OQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-08T09:46:28Z",
    "updated_at": "2019-11-08T09:46:28Z",
    "author_association": "MEMBER",
    "body": "Well, they are configurable when you don't use the `--notebook-dir` option.\r\n\r\nI suspect that your original fix was probably the best idea - let the contents manager get the application option as part of calculating the default. It's just annoyingly hard to reason about these kind of interactions to verify that that will do the right thing in all situations - e.g. that it couldn't initialise the default before the config option is set on the application.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/553578925",
    "html_url": "https://github.com/jupyter/notebook/pull/5021#issuecomment-553578925",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/5021",
    "id": 553578925,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MzU3ODkyNQ==",
    "user": {
      "login": "krinsman",
      "id": 31422259,
      "node_id": "MDQ6VXNlcjMxNDIyMjU5",
      "avatar_url": "https://avatars.githubusercontent.com/u/31422259?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/krinsman",
      "html_url": "https://github.com/krinsman",
      "followers_url": "https://api.github.com/users/krinsman/followers",
      "following_url": "https://api.github.com/users/krinsman/following{/other_user}",
      "gists_url": "https://api.github.com/users/krinsman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/krinsman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/krinsman/subscriptions",
      "organizations_url": "https://api.github.com/users/krinsman/orgs",
      "repos_url": "https://api.github.com/users/krinsman/repos",
      "events_url": "https://api.github.com/users/krinsman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/krinsman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-13T20:06:05Z",
    "updated_at": "2019-11-13T20:06:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "OK @takluyver that makes sense to me too and I updated the PR with that strategy in mind. \r\n\r\nThe kernel manager and contents manager already automatically check the notebook app's `notebook_dir` for their default values of `root_dir`, so it seemed to me that the only code that needed to be changed to implement this was the code for the notebook app.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/557932835",
    "html_url": "https://github.com/jupyter/notebook/pull/5021#issuecomment-557932835",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/5021",
    "id": 557932835,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NzkzMjgzNQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-24T22:06:13Z",
    "updated_at": "2019-11-24T22:06:13Z",
    "author_association": "MEMBER",
    "body": "Thanks for your patience; let's try it like that and see if anyone complains.",
    "performed_via_github_app": null
  }
]
