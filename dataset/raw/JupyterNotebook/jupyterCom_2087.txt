[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/276453219",
    "html_url": "https://github.com/jupyter/notebook/issues/2087#issuecomment-276453219",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2087",
    "id": 276453219,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NjQ1MzIxOQ==",
    "user": {
      "login": "jasongrout",
      "id": 192614,
      "node_id": "MDQ6VXNlcjE5MjYxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/192614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jasongrout",
      "html_url": "https://github.com/jasongrout",
      "followers_url": "https://api.github.com/users/jasongrout/followers",
      "following_url": "https://api.github.com/users/jasongrout/following{/other_user}",
      "gists_url": "https://api.github.com/users/jasongrout/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jasongrout/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jasongrout/subscriptions",
      "organizations_url": "https://api.github.com/users/jasongrout/orgs",
      "repos_url": "https://api.github.com/users/jasongrout/repos",
      "events_url": "https://api.github.com/users/jasongrout/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jasongrout/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-31T18:44:24Z",
    "updated_at": "2017-01-31T18:44:24Z",
    "author_association": "MEMBER",
    "body": "Can you walk us through the timeline of what you think is happening?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/280341432",
    "html_url": "https://github.com/jupyter/notebook/issues/2087#issuecomment-280341432",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2087",
    "id": 280341432,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDM0MTQzMg==",
    "user": {
      "login": "SylvainCorlay",
      "id": 2397974,
      "node_id": "MDQ6VXNlcjIzOTc5NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2397974?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SylvainCorlay",
      "html_url": "https://github.com/SylvainCorlay",
      "followers_url": "https://api.github.com/users/SylvainCorlay/followers",
      "following_url": "https://api.github.com/users/SylvainCorlay/following{/other_user}",
      "gists_url": "https://api.github.com/users/SylvainCorlay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SylvainCorlay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SylvainCorlay/subscriptions",
      "organizations_url": "https://api.github.com/users/SylvainCorlay/orgs",
      "repos_url": "https://api.github.com/users/SylvainCorlay/repos",
      "events_url": "https://api.github.com/users/SylvainCorlay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SylvainCorlay/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-16T14:16:48Z",
    "updated_at": "2017-02-16T14:16:48Z",
    "author_association": "MEMBER",
    "body": "@jasongrout @minrk @gnestor \r\n\r\nWhat do you think of reverting #1002 and changing `execute_cell_and_insert_below` so that it first checks that the kernel is live?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/280469269",
    "html_url": "https://github.com/jupyter/notebook/issues/2087#issuecomment-280469269",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2087",
    "id": 280469269,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDQ2OTI2OQ==",
    "user": {
      "login": "jasongrout",
      "id": 192614,
      "node_id": "MDQ6VXNlcjE5MjYxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/192614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jasongrout",
      "html_url": "https://github.com/jasongrout",
      "followers_url": "https://api.github.com/users/jasongrout/followers",
      "following_url": "https://api.github.com/users/jasongrout/following{/other_user}",
      "gists_url": "https://api.github.com/users/jasongrout/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jasongrout/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jasongrout/subscriptions",
      "organizations_url": "https://api.github.com/users/jasongrout/orgs",
      "repos_url": "https://api.github.com/users/jasongrout/repos",
      "events_url": "https://api.github.com/users/jasongrout/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jasongrout/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-16T21:38:02Z",
    "updated_at": "2017-02-16T21:38:02Z",
    "author_association": "MEMBER",
    "body": "I'd rather fix the problem. Can you walk us through the sequence of what you think is happening?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/287531758",
    "html_url": "https://github.com/jupyter/notebook/issues/2087#issuecomment-287531758",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2087",
    "id": 287531758,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzUzMTc1OA==",
    "user": {
      "login": "jasongrout",
      "id": 192614,
      "node_id": "MDQ6VXNlcjE5MjYxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/192614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jasongrout",
      "html_url": "https://github.com/jasongrout",
      "followers_url": "https://api.github.com/users/jasongrout/followers",
      "following_url": "https://api.github.com/users/jasongrout/following{/other_user}",
      "gists_url": "https://api.github.com/users/jasongrout/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jasongrout/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jasongrout/subscriptions",
      "organizations_url": "https://api.github.com/users/jasongrout/orgs",
      "repos_url": "https://api.github.com/users/jasongrout/repos",
      "events_url": "https://api.github.com/users/jasongrout/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jasongrout/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-18T10:03:05Z",
    "updated_at": "2017-03-18T10:03:05Z",
    "author_association": "MEMBER",
    "body": "Okay, here's a possible sequence. I haven't tested this.\r\n\r\n1. The notebook launches\r\n2. The user quickly presses shift-enter to execute a cell that has widget code.\r\n3. The cell is queued up for execution\r\n4. The widget javascript is loaded. When the widget javascript is loaded, it immediately sends a comm message to the kernel with the version information, etc. This is comm message is queued *behind* the cell execution. (TODO: Check that the comm open message to jupyter.widget.version is queued behind the cells)\r\n5. The kernel starts up.\r\n6. The cell is executed. Since the kernel widgets has not seen the comm message from the javascript, it assumes there is no widget javascript and so prints an error message: \"Widget Javascript not detected.  It may not be installed or enabled properly.\"\r\n\r\nBasically, it's a race condition between the widget javascript running before the user executes a cell, and an assumption from the kernel side that the ipywidgets will be able to execute a comm open before any user code runs.\r\n\r\nBefore #1002, here's what I am thinking was happening in the situations where the message seemed to randomly pop up.\r\n\r\n1. The notebook launches\r\n2. The user quickly presses shift-enter to execute a cell that has widget code.\r\n3. The execution is silently ignored since the kernel is not up yet.\r\n4. The widget javascript is loaded. When the widget javascript is loaded, it immediately sends a comm message to the kernel with the version information, etc. *This is also silently ignored!*\r\n5. The kernel starts up.\r\n6. Another cell is executed. Since the kernel widgets has not seen the comm message from the javascript, it assumes there is no widget javascript and so prints an error message: \"Widget Javascript not detected.  It may not be installed or enabled properly.\"\r\n\r\nIt always seemed fickle when the 'js not installed' error came up.\r\n\r\nI think the real problem is that in ipywidgets, we are assuming that the widget javascript will have priority access to a kernel, before user execution. I think we probably need a more robust method for doing the version check.\r\n\r\nAnd clearly this ipywidget check is faulty if we have multiple clients talking to the same kernel. The first client will okay its version of javascript, so the error won't show if the second client does not have the javascript installed.\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/287531880",
    "html_url": "https://github.com/jupyter/notebook/issues/2087#issuecomment-287531880",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2087",
    "id": 287531880,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzUzMTg4MA==",
    "user": {
      "login": "jasongrout",
      "id": 192614,
      "node_id": "MDQ6VXNlcjE5MjYxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/192614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jasongrout",
      "html_url": "https://github.com/jasongrout",
      "followers_url": "https://api.github.com/users/jasongrout/followers",
      "following_url": "https://api.github.com/users/jasongrout/following{/other_user}",
      "gists_url": "https://api.github.com/users/jasongrout/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jasongrout/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jasongrout/subscriptions",
      "organizations_url": "https://api.github.com/users/jasongrout/orgs",
      "repos_url": "https://api.github.com/users/jasongrout/repos",
      "events_url": "https://api.github.com/users/jasongrout/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jasongrout/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-18T10:05:13Z",
    "updated_at": "2017-03-18T10:05:13Z",
    "author_association": "MEMBER",
    "body": "> And clearly this ipywidget check is faulty if we have multiple clients talking to the same kernel.\r\n\r\nI'm moving this issue to ipywidgets, since I think the real problem is with the widget javascript check.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/287532340",
    "html_url": "https://github.com/jupyter/notebook/issues/2087#issuecomment-287532340",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2087",
    "id": 287532340,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzUzMjM0MA==",
    "user": {
      "login": "jasongrout",
      "id": 192614,
      "node_id": "MDQ6VXNlcjE5MjYxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/192614?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jasongrout",
      "html_url": "https://github.com/jasongrout",
      "followers_url": "https://api.github.com/users/jasongrout/followers",
      "following_url": "https://api.github.com/users/jasongrout/following{/other_user}",
      "gists_url": "https://api.github.com/users/jasongrout/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jasongrout/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jasongrout/subscriptions",
      "organizations_url": "https://api.github.com/users/jasongrout/orgs",
      "repos_url": "https://api.github.com/users/jasongrout/repos",
      "events_url": "https://api.github.com/users/jasongrout/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jasongrout/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-18T10:11:30Z",
    "updated_at": "2017-03-18T10:11:30Z",
    "author_association": "MEMBER",
    "body": "Moved to https://github.com/ipython/ipywidgets/issues/1211",
    "performed_via_github_app": null
  }
]
