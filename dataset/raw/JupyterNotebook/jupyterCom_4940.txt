[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/537697049",
    "html_url": "https://github.com/jupyter/notebook/issues/4940#issuecomment-537697049",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4940",
    "id": 537697049,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNzY5NzA0OQ==",
    "user": {
      "login": "kevin-bates",
      "id": 22599560,
      "node_id": "MDQ6VXNlcjIyNTk5NTYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/22599560?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevin-bates",
      "html_url": "https://github.com/kevin-bates",
      "followers_url": "https://api.github.com/users/kevin-bates/followers",
      "following_url": "https://api.github.com/users/kevin-bates/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevin-bates/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevin-bates/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevin-bates/subscriptions",
      "organizations_url": "https://api.github.com/users/kevin-bates/orgs",
      "repos_url": "https://api.github.com/users/kevin-bates/repos",
      "events_url": "https://api.github.com/users/kevin-bates/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevin-bates/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-02T21:51:07Z",
    "updated_at": "2019-10-02T21:51:07Z",
    "author_association": "MEMBER",
    "body": "Hi @yli110-stat697 - this is a duplicate of #4907.  You might find info in [this comment](https://github.com/jupyter/notebook/issues/4932#issuecomment-537509570) helpful.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/538019318",
    "html_url": "https://github.com/jupyter/notebook/issues/4940#issuecomment-538019318",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4940",
    "id": 538019318,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzODAxOTMxOA==",
    "user": {
      "login": "yli110-stat697",
      "id": 42564519,
      "node_id": "MDQ6VXNlcjQyNTY0NTE5",
      "avatar_url": "https://avatars.githubusercontent.com/u/42564519?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yli110-stat697",
      "html_url": "https://github.com/yli110-stat697",
      "followers_url": "https://api.github.com/users/yli110-stat697/followers",
      "following_url": "https://api.github.com/users/yli110-stat697/following{/other_user}",
      "gists_url": "https://api.github.com/users/yli110-stat697/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yli110-stat697/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yli110-stat697/subscriptions",
      "organizations_url": "https://api.github.com/users/yli110-stat697/orgs",
      "repos_url": "https://api.github.com/users/yli110-stat697/repos",
      "events_url": "https://api.github.com/users/yli110-stat697/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yli110-stat697/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-03T16:24:43Z",
    "updated_at": "2019-10-03T16:24:43Z",
    "author_association": "NONE",
    "body": "@kevin-bates I see. Thank you! Yeah, I have been trying numerous suggestions from stackoverflow users, but none really worked out. Will look through your comments to see if anything works. THANKS AGAIN, and will keep you updated.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/538072353",
    "html_url": "https://github.com/jupyter/notebook/issues/4940#issuecomment-538072353",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4940",
    "id": 538072353,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzODA3MjM1Mw==",
    "user": {
      "login": "yli110-stat697",
      "id": 42564519,
      "node_id": "MDQ6VXNlcjQyNTY0NTE5",
      "avatar_url": "https://avatars.githubusercontent.com/u/42564519?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yli110-stat697",
      "html_url": "https://github.com/yli110-stat697",
      "followers_url": "https://api.github.com/users/yli110-stat697/followers",
      "following_url": "https://api.github.com/users/yli110-stat697/following{/other_user}",
      "gists_url": "https://api.github.com/users/yli110-stat697/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yli110-stat697/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yli110-stat697/subscriptions",
      "organizations_url": "https://api.github.com/users/yli110-stat697/orgs",
      "repos_url": "https://api.github.com/users/yli110-stat697/repos",
      "events_url": "https://api.github.com/users/yli110-stat697/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yli110-stat697/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-03T18:38:09Z",
    "updated_at": "2019-10-03T18:44:20Z",
    "author_association": "NONE",
    "body": "@kevin-bates Hi, I see you and @snapo were having a discussion, and I tried to read through but got lost some where. I'm willing to share the settings on my computer if you are willing to take a look at?\r\n\r\n1. When I check user accounts on windows, I see two users there: YLi with Domain YLI8059FC has group of Administrators and Users, and yli with Domain ECHO has group of docker-users and administrators. -- Do you think the order of the groups make a difference? I doubt it\r\n\r\n2. `dir C:\\Users\\Yli.ECHO\\AppData\\Roaming\\jupyter\\runtime\\kernel-67c2190c-890a-4e5b-90fc-54f9ee212be8.json ` gives me the output below in command prompt.\r\n\r\n``` Volume in drive C has no label.\r\n Volume Serial Number is CC21-0422\r\n\r\n Directory of C:\\Users\\Yli.ECHO\\AppData\\Roaming\\jupyter\\runtime\r\n\r\n10/03/2019  11:12 AM                 0 kernel-67c2190c-890a-4e5b-90fc-54f9ee212be8.json\r\n               1 File(s)              0 bytes\r\n               0 Dir(s)  165,489,729,536 bytes free \r\n```\r\nThen I tried @snapo's get-alc, cmd said `'get-acl' is not recognized as an internal or external command,operable program or batch file.`\r\nBut I can run the get-acl in powershell, result is\r\n ```PS C:\\Users\\Yli.ECHO> get-acl C:\\Users\\Yli.ECHO\\AppData\\Roaming\\jupyter\\runtime\\kernel-67c2190c-890a-4e5b-90fc-54f9ee212\r\nbe8.json\r\n\r\n\r\n    Directory: C:\\Users\\Yli.ECHO\\AppData\\Roaming\\jupyter\\runtime\r\n\r\n\r\nPath                                             Owner    Access\r\n----                                             -----    ------\r\nkernel-67c2190c-890a-4e5b-90fc-54f9ee212be8.json ECHO\\yli BUILTIN\\Administrators Allow  FullControl... \r\n```\r\n3. I cannot use the security scan for kernal.json file as the IT in my company disabled that function.\r\n\r\nI know I created virtual env before and deleted afterwards, but I don't know how to check if that's the issue. Any suggestions?\r\n\r\nThank you!",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/538080749",
    "html_url": "https://github.com/jupyter/notebook/issues/4940#issuecomment-538080749",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4940",
    "id": 538080749,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzODA4MDc0OQ==",
    "user": {
      "login": "yli110-stat697",
      "id": 42564519,
      "node_id": "MDQ6VXNlcjQyNTY0NTE5",
      "avatar_url": "https://avatars.githubusercontent.com/u/42564519?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yli110-stat697",
      "html_url": "https://github.com/yli110-stat697",
      "followers_url": "https://api.github.com/users/yli110-stat697/followers",
      "following_url": "https://api.github.com/users/yli110-stat697/following{/other_user}",
      "gists_url": "https://api.github.com/users/yli110-stat697/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yli110-stat697/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yli110-stat697/subscriptions",
      "organizations_url": "https://api.github.com/users/yli110-stat697/orgs",
      "repos_url": "https://api.github.com/users/yli110-stat697/repos",
      "events_url": "https://api.github.com/users/yli110-stat697/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yli110-stat697/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-03T19:01:28Z",
    "updated_at": "2019-10-03T19:01:28Z",
    "author_association": "NONE",
    "body": "And I followed @snapo 's suggestion at the end of #4907 , got `FileNotFoundError`.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"c:\\python3\\lib\\site-packages\\tornado\\web.py\", line 1699, in _execute\r\n    result = await result\r\n  File \"c:\\python3\\lib\\site-packages\\tornado\\gen.py\", line 742, in run\r\n    yielded = self.gen.throw(*exc_info)  # type: ignore\r\n  File \"c:\\python3\\lib\\site-packages\\notebook\\services\\sessions\\handlers.py\", line 72, in post\r\n    type=mtype))\r\n  File \"c:\\python3\\lib\\site-packages\\tornado\\gen.py\", line 735, in run\r\n    value = future.result()\r\n  File \"c:\\python3\\lib\\site-packages\\tornado\\gen.py\", line 742, in run\r\n    yielded = self.gen.throw(*exc_info)  # type: ignore\r\n  File \"c:\\python3\\lib\\site-packages\\notebook\\services\\sessions\\sessionmanager.py\", line 88, in create_session\r\n    kernel_id = yield self.start_kernel_for_session(session_id, path, name, type, kernel_name)\r\n  File \"c:\\python3\\lib\\site-packages\\tornado\\gen.py\", line 735, in run\r\n    value = future.result()\r\n  File \"c:\\python3\\lib\\site-packages\\tornado\\gen.py\", line 742, in run\r\n    yielded = self.gen.throw(*exc_info)  # type: ignore\r\n  File \"c:\\python3\\lib\\site-packages\\notebook\\services\\sessions\\sessionmanager.py\", line 101, in start_kernel_for_session\r\n    self.kernel_manager.start_kernel(path=kernel_path, kernel_name=kernel_name)\r\n  File \"c:\\python3\\lib\\site-packages\\tornado\\gen.py\", line 735, in run\r\n    value = future.result()\r\n  File \"c:\\python3\\lib\\site-packages\\tornado\\gen.py\", line 209, in wrapper\r\n    yielded = next(result)\r\n  File \"c:\\python3\\lib\\site-packages\\notebook\\services\\kernels\\kernelmanager.py\", line 168, in start_kernel\r\n    super(MappingKernelManager, self).start_kernel(**kwargs)\r\n  File \"c:\\python3\\lib\\site-packages\\jupyter_client\\multikernelmanager.py\", line 110, in start_kernel\r\n    km.start_kernel(**kwargs)\r\n  File \"c:\\python3\\lib\\site-packages\\jupyter_client\\manager.py\", line 259, in start_kernel\r\n    **kw)\r\n  File \"c:\\python3\\lib\\site-packages\\jupyter_client\\manager.py\", line 204, in _launch_kernel\r\n    return launch_kernel(kernel_cmd, **kw)\r\n  File \"c:\\python3\\lib\\site-packages\\jupyter_client\\launcher.py\", line 138, in launch_kernel\r\n    proc = Popen(cmd, **kwargs)\r\n  File \"c:\\python3\\lib\\subprocess.py\", line 775, in __init__\r\n    restore_signals, start_new_session)\r\n  File \"c:\\python3\\lib\\subprocess.py\", line 1178, in _execute_child\r\n    startupinfo)\r\nFileNotFoundError: [WinError 2] The system cannot find the file specified\r\n```",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/538082488",
    "html_url": "https://github.com/jupyter/notebook/issues/4940#issuecomment-538082488",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4940",
    "id": 538082488,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzODA4MjQ4OA==",
    "user": {
      "login": "kevin-bates",
      "id": 22599560,
      "node_id": "MDQ6VXNlcjIyNTk5NTYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/22599560?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevin-bates",
      "html_url": "https://github.com/kevin-bates",
      "followers_url": "https://api.github.com/users/kevin-bates/followers",
      "following_url": "https://api.github.com/users/kevin-bates/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevin-bates/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevin-bates/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevin-bates/subscriptions",
      "organizations_url": "https://api.github.com/users/kevin-bates/orgs",
      "repos_url": "https://api.github.com/users/kevin-bates/repos",
      "events_url": "https://api.github.com/users/kevin-bates/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevin-bates/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-03T19:06:02Z",
    "updated_at": "2019-10-03T19:06:02Z",
    "author_association": "MEMBER",
    "body": "@yli110-stat697 - I think the most useful diagnostic for the permission-denied issue is to see if the user SID (in your case, for user `ECHO\\yli`) is getting resolved or if a raw SID is displayed via the Security tab as shown in [this comment](https://github.com/jupyter/notebook/issues/4907#issuecomment-536121214).\r\n\r\nIf you see a raw SID, then I suspect you'd need to perform the code modification in `c:\\python3\\lib\\site-packages\\jupyter_client\\connect.py` that uses `win32api.GetUserNameEx(win32api.NameSamCompatible)`.\r\n\r\nPer the last comment (that came in while typing this response), you must have done something wrong.  This issue is more about the file referenced in the `argv` stanza of the kernelspec's kernel.json file is no longer present.   This is completely unrelated, so I would recommend back-tracking your recent steps since updating the connect.py file should have nothing to do with that.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/538100349",
    "html_url": "https://github.com/jupyter/notebook/issues/4940#issuecomment-538100349",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4940",
    "id": 538100349,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzODEwMDM0OQ==",
    "user": {
      "login": "yli110-stat697",
      "id": 42564519,
      "node_id": "MDQ6VXNlcjQyNTY0NTE5",
      "avatar_url": "https://avatars.githubusercontent.com/u/42564519?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yli110-stat697",
      "html_url": "https://github.com/yli110-stat697",
      "followers_url": "https://api.github.com/users/yli110-stat697/followers",
      "following_url": "https://api.github.com/users/yli110-stat697/following{/other_user}",
      "gists_url": "https://api.github.com/users/yli110-stat697/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yli110-stat697/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yli110-stat697/subscriptions",
      "organizations_url": "https://api.github.com/users/yli110-stat697/orgs",
      "repos_url": "https://api.github.com/users/yli110-stat697/repos",
      "events_url": "https://api.github.com/users/yli110-stat697/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yli110-stat697/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-03T19:49:30Z",
    "updated_at": "2019-10-03T19:49:30Z",
    "author_association": "NONE",
    "body": "@kevin-bates Hey I followed this comment \r\n\r\n> https://github.com/jupyter/notebook/issues/4907#issuecomment-537479889\r\n\r\nand did perform the code modification in the correct locations of connec.py, that's why I got the FileNotFoundError. After I changed back the code to be `win32api.GetUserName()`, the same old permission error came back.\r\n\r\nFor the SID checkup, please see my screenshot below.\r\n\r\n![Screenshot (38)](https://user-images.githubusercontent.com/42564519/66158987-ed19cb80-e5db-11e9-9abd-bd9b142e5afd.png)\r\n\r\nSeems like Yli.ECHO is not given the permission? How do I give a new user permission in this case?\r\n\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/538113047",
    "html_url": "https://github.com/jupyter/notebook/issues/4940#issuecomment-538113047",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4940",
    "id": 538113047,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzODExMzA0Nw==",
    "user": {
      "login": "kevin-bates",
      "id": 22599560,
      "node_id": "MDQ6VXNlcjIyNTk5NTYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/22599560?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kevin-bates",
      "html_url": "https://github.com/kevin-bates",
      "followers_url": "https://api.github.com/users/kevin-bates/followers",
      "following_url": "https://api.github.com/users/kevin-bates/following{/other_user}",
      "gists_url": "https://api.github.com/users/kevin-bates/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kevin-bates/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kevin-bates/subscriptions",
      "organizations_url": "https://api.github.com/users/kevin-bates/orgs",
      "repos_url": "https://api.github.com/users/kevin-bates/repos",
      "events_url": "https://api.github.com/users/kevin-bates/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kevin-bates/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-03T20:23:46Z",
    "updated_at": "2019-10-03T20:23:46Z",
    "author_association": "MEMBER",
    "body": "Hmm.  I don't really see how the \"file not found\" was related to the code change to use `GetUserNameEx` with the parameter since the creation of the connect file (where that code is used) happens before the `Popen` call that is producing \"FileNotFound\".   Perhaps your `pywin32` doesn't have the symbols needed in connect.py, but I would have thought the connection file creation would have failed - so this is strange.\r\n\r\nI recommend you do one of three things...\r\n1. See if you're using the appropriate `pywin32` (I think you want `224` but that's a whole other mess) that contains the definitions for `GetUserNameEx` **and** `NameSamCompatible`, then apply the code change to `connect.py` again.\r\n2. Revert `jupyter_client` back to `5.3.1`\r\n3. Wait for the official fix to be released (probably a new version of jupyter_client and jupyter_core).\r\n\r\nGiven your user SID is resolving, this may even be something else.  My hunch is that use of `NameSamCompatible` may be the thing that changes `YLI8059C\\YLi` to `ECHO\\YLi` and `ECHO\\YLi` truly represents the current user that is running Notebook.\r\n\r\nIf I had access to a Windows server, I could poke around, but I don't (nor would I like to :smile:).",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/538134815",
    "html_url": "https://github.com/jupyter/notebook/issues/4940#issuecomment-538134815",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/4940",
    "id": 538134815,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzODEzNDgxNQ==",
    "user": {
      "login": "yli110-stat697",
      "id": 42564519,
      "node_id": "MDQ6VXNlcjQyNTY0NTE5",
      "avatar_url": "https://avatars.githubusercontent.com/u/42564519?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yli110-stat697",
      "html_url": "https://github.com/yli110-stat697",
      "followers_url": "https://api.github.com/users/yli110-stat697/followers",
      "following_url": "https://api.github.com/users/yli110-stat697/following{/other_user}",
      "gists_url": "https://api.github.com/users/yli110-stat697/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yli110-stat697/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yli110-stat697/subscriptions",
      "organizations_url": "https://api.github.com/users/yli110-stat697/orgs",
      "repos_url": "https://api.github.com/users/yli110-stat697/repos",
      "events_url": "https://api.github.com/users/yli110-stat697/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yli110-stat697/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-03T21:23:34Z",
    "updated_at": "2019-10-03T21:23:34Z",
    "author_association": "NONE",
    "body": "@kevin-bates I know! Right? I personally use a Mac and my old company uses Mac, that's why it's driving me nuts when I found my new company is on windows...... I can run jupyter notebook on WSL though, it's just a mystery that I really want to solve why my native system don't have permission but subsystem does :) \r\n\r\nAnyway thank you so much for help, I will try your above suggestions. 👍 ",
    "performed_via_github_app": null
  }
]
