[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/206617082",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-206617082",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 206617082,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNjYxNzA4Mg==",
    "user": {
      "login": "willingc",
      "id": 2680980,
      "node_id": "MDQ6VXNlcjI2ODA5ODA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2680980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willingc",
      "html_url": "https://github.com/willingc",
      "followers_url": "https://api.github.com/users/willingc/followers",
      "following_url": "https://api.github.com/users/willingc/following{/other_user}",
      "gists_url": "https://api.github.com/users/willingc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/willingc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/willingc/subscriptions",
      "organizations_url": "https://api.github.com/users/willingc/orgs",
      "repos_url": "https://api.github.com/users/willingc/repos",
      "events_url": "https://api.github.com/users/willingc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/willingc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-06T23:21:07Z",
    "updated_at": "2016-04-06T23:21:07Z",
    "author_association": "MEMBER",
    "body": "@ROODAY Here's one approach that is documented in the jupyter/docker-stacks repo: https://github.com/jupyter/docker-stacks/wiki/Docker-Recipes#running-behind-a-nginx-proxy\n\ncc/ @parente\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/206640613",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-206640613",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 206640613,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNjY0MDYxMw==",
    "user": {
      "login": "ROODAY",
      "id": 5439867,
      "node_id": "MDQ6VXNlcjU0Mzk4Njc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5439867?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ROODAY",
      "html_url": "https://github.com/ROODAY",
      "followers_url": "https://api.github.com/users/ROODAY/followers",
      "following_url": "https://api.github.com/users/ROODAY/following{/other_user}",
      "gists_url": "https://api.github.com/users/ROODAY/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ROODAY/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ROODAY/subscriptions",
      "organizations_url": "https://api.github.com/users/ROODAY/orgs",
      "repos_url": "https://api.github.com/users/ROODAY/repos",
      "events_url": "https://api.github.com/users/ROODAY/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ROODAY/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-07T01:06:20Z",
    "updated_at": "2016-04-07T01:21:40Z",
    "author_association": "NONE",
    "body": "@willingc I tried following the conf but I still am not able to make a web socket connection. nginx-proxy allows mounting of a folder of conf files for specific domains that get included into the main conf, so I was able to add this to the server block for jupyter:\n\n```\nclient_max_body_size 50M;\nerror_log /var/log/nginx/error.log;\n\nlocation / {\n        proxy_pass http://notes.rooday.com;\n\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header Host $host;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n        proxy_read_timeout 86400;\n}\n\nlocation ~* /(api/kernels/[^/]+/(channels|iopub|shell|stdin)|terminals/websocket)/? {\n        proxy_pass http://notes.rooday.com;\n\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header Host $host;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n}\n```\n\nThe only parts from the suggested conf file that I did not include were these:\n\n```\n        ssl on;\n        ssl_certificate /data/cert.crt;\n        ssl_certificate_key /data/key.key;\n\n        ssl_ciphers \"AES128+EECDH:AES128+EDH\";\n        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n        ssl_prefer_server_ciphers on;\n        ssl_session_cache shared:SSL:10m;\n        add_header Strict-Transport-Security \"max-age=63072000; includeSubDomains\";\n        add_header X-Content-Type-Options nosniff;\n        ssl_stapling on; # Requires nginx >= 1.3.7\n        ssl_stapling_verify on; # Requires nginx => 1.3.7\n        resolver_timeout 5s;\n```\n\nIs SSL required to get websockets working?\n\nEdit:\n\nHere is my jupyter_notebook_config.py file\n\n```\nc.NotebookApp.ip = '172.17.0.4'\nc.NotebookApp.password = u'whoathatsnotsupposedtobehere'\nc.NotebookApp.open_browser = False\nc.NotebookApp.port = 8888\nc.NotebookApp.trust_xheaders = True\nc.NotebookApp.allow_origin = '*'\n```\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/207006176",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-207006176",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 207006176,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzAwNjE3Ng==",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-07T17:22:08Z",
    "updated_at": "2016-04-07T17:22:08Z",
    "author_association": "MEMBER",
    "body": "That _looks_ right, but I'll ping @rgbkrk for any ideas about what might not be right about the nginx config for websocket forwarding. My guess is it's a tiny regex or priority bug preventing the Upgrade block from being applied correctly.\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/207150175",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-207150175",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 207150175,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzE1MDE3NQ==",
    "user": {
      "login": "ROODAY",
      "id": 5439867,
      "node_id": "MDQ6VXNlcjU0Mzk4Njc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5439867?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ROODAY",
      "html_url": "https://github.com/ROODAY",
      "followers_url": "https://api.github.com/users/ROODAY/followers",
      "following_url": "https://api.github.com/users/ROODAY/following{/other_user}",
      "gists_url": "https://api.github.com/users/ROODAY/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ROODAY/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ROODAY/subscriptions",
      "organizations_url": "https://api.github.com/users/ROODAY/orgs",
      "repos_url": "https://api.github.com/users/ROODAY/repos",
      "events_url": "https://api.github.com/users/ROODAY/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ROODAY/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-08T00:42:53Z",
    "updated_at": "2016-04-08T00:42:53Z",
    "author_association": "NONE",
    "body": "Is there a way to run the Jupyter Notebook container in a debug mode to see more information on what happens when I load an IPython notebook?\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/207155157",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-207155157",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 207155157,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzE1NTE1Nw==",
    "user": {
      "login": "willingc",
      "id": 2680980,
      "node_id": "MDQ6VXNlcjI2ODA5ODA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2680980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willingc",
      "html_url": "https://github.com/willingc",
      "followers_url": "https://api.github.com/users/willingc/followers",
      "following_url": "https://api.github.com/users/willingc/following{/other_user}",
      "gists_url": "https://api.github.com/users/willingc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/willingc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/willingc/subscriptions",
      "organizations_url": "https://api.github.com/users/willingc/orgs",
      "repos_url": "https://api.github.com/users/willingc/repos",
      "events_url": "https://api.github.com/users/willingc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/willingc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-08T01:00:17Z",
    "updated_at": "2016-04-08T01:00:17Z",
    "author_association": "MEMBER",
    "body": "@ROODAY Jupyter Notebook can be run in debug mode with the command `jupyter notebook --debug`\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/207165262",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-207165262",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 207165262,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzE2NTI2Mg==",
    "user": {
      "login": "ROODAY",
      "id": 5439867,
      "node_id": "MDQ6VXNlcjU0Mzk4Njc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5439867?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ROODAY",
      "html_url": "https://github.com/ROODAY",
      "followers_url": "https://api.github.com/users/ROODAY/followers",
      "following_url": "https://api.github.com/users/ROODAY/following{/other_user}",
      "gists_url": "https://api.github.com/users/ROODAY/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ROODAY/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ROODAY/subscriptions",
      "organizations_url": "https://api.github.com/users/ROODAY/orgs",
      "repos_url": "https://api.github.com/users/ROODAY/repos",
      "events_url": "https://api.github.com/users/ROODAY/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ROODAY/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-08T01:44:04Z",
    "updated_at": "2016-04-08T01:46:37Z",
    "author_association": "NONE",
    "body": "I tried debugging it within the Docker container since I'm sure the issue is related to everything being in a Docker container. However, when I tried to build a Docker image of Jupyter Notebook with a modified version of the Docker file that had the `--debug` flag (here: http://pastebin.com/AMtbq7bX), I received an error about setup.py not being found. \n\nThis is the command I ran to build the image (the docker file was at /home/rooday/dockerfile):\n\n```\nsudo docker build -t jupyter-debug:test --rm=true /home/rooday/\n```\n\nThese were the last few lines of the build:\n\n```\nDirectory '/usr/src/jupyter-notebook' is not installable. File 'setup.py' not found.\nThe command '/bin/sh -c BUILD_DEPS=\"nodejs-legacy npm\" &&     apt-get update -qq &&     DEBIAN_FRONTEND=noninteractive apt-get install -yq $BUILD_DEPS &&         pip3 install --no-cache-dir /usr/src/jupyter-notebook &&     pip2 install --no-cache-dir widgetsnbextension &&     pip3 install --no-cache-dir widgetsnbextension &&         npm cache clean &&     apt-get clean &&     rm -rf /root/.npm &&     rm -rf /root/.cache &&     rm -rf /root/.config &&     rm -rf /root/.local &&     rm -rf /root/tmp &&     rm -rf /var/lib/apt/lists/* &&     apt-get purge -y --auto-remove         -o APT::AutoRemove::RecommendsImportant=false -o APT::AutoRemove::SuggestsImportant=false $BUILD_DEPS' returned a non-zero code: 1\n```\n\nEdit: If necessary, here's the full console output when the build command was ran: http://pastebin.com/ybJPnwC0\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/207180060",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-207180060",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 207180060,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzE4MDA2MA==",
    "user": {
      "login": "willingc",
      "id": 2680980,
      "node_id": "MDQ6VXNlcjI2ODA5ODA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2680980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willingc",
      "html_url": "https://github.com/willingc",
      "followers_url": "https://api.github.com/users/willingc/followers",
      "following_url": "https://api.github.com/users/willingc/following{/other_user}",
      "gists_url": "https://api.github.com/users/willingc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/willingc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/willingc/subscriptions",
      "organizations_url": "https://api.github.com/users/willingc/orgs",
      "repos_url": "https://api.github.com/users/willingc/repos",
      "events_url": "https://api.github.com/users/willingc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/willingc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-08T02:27:35Z",
    "updated_at": "2016-04-08T02:27:35Z",
    "author_association": "MEMBER",
    "body": "What happens if you run without `--rm=true`\n\n`sudo docker build -t jupyter-debug:test  /home/rooday/`\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/207190389",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-207190389",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 207190389,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzE5MDM4OQ==",
    "user": {
      "login": "ROODAY",
      "id": 5439867,
      "node_id": "MDQ6VXNlcjU0Mzk4Njc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5439867?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ROODAY",
      "html_url": "https://github.com/ROODAY",
      "followers_url": "https://api.github.com/users/ROODAY/followers",
      "following_url": "https://api.github.com/users/ROODAY/following{/other_user}",
      "gists_url": "https://api.github.com/users/ROODAY/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ROODAY/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ROODAY/subscriptions",
      "organizations_url": "https://api.github.com/users/ROODAY/orgs",
      "repos_url": "https://api.github.com/users/ROODAY/repos",
      "events_url": "https://api.github.com/users/ROODAY/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ROODAY/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-08T03:04:00Z",
    "updated_at": "2016-04-08T03:04:00Z",
    "author_association": "NONE",
    "body": "That gives the same error of\n\n```\nDirectory '/usr/src/jupyter-notebook' is not installable. File 'setup.py' not found.\nThe command '/bin/sh -c BUILD_DEPS=\"nodejs-legacy npm\" &&     apt-get update -qq &&     DEBIAN_FRONTEND=noninteractive apt-get install -yq $BUILD_DEPS &&         pip3 install --no-cache-dir /usr/src/jupyter-notebook &&     pip2 install --no-cache-dir widgetsnbextension &&     pip3 install --no-cache-dir widgetsnbextension &&         npm cache clean &&     apt-get clean &&     rm -rf /root/.npm &&     rm -rf /root/.cache &&     rm -rf /root/.config &&     rm -rf /root/.local &&     rm -rf /root/tmp &&     rm -rf /var/lib/apt/lists/* &&     apt-get purge -y --auto-remove         -o APT::AutoRemove::RecommendsImportant=false -o APT::AutoRemove::SuggestsImportant=false $BUILD_DEPS' returned a non-zero code: 1\n```\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/207635387",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-207635387",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 207635387,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzYzNTM4Nw==",
    "user": {
      "login": "ROODAY",
      "id": 5439867,
      "node_id": "MDQ6VXNlcjU0Mzk4Njc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5439867?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ROODAY",
      "html_url": "https://github.com/ROODAY",
      "followers_url": "https://api.github.com/users/ROODAY/followers",
      "following_url": "https://api.github.com/users/ROODAY/following{/other_user}",
      "gists_url": "https://api.github.com/users/ROODAY/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ROODAY/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ROODAY/subscriptions",
      "organizations_url": "https://api.github.com/users/ROODAY/orgs",
      "repos_url": "https://api.github.com/users/ROODAY/repos",
      "events_url": "https://api.github.com/users/ROODAY/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ROODAY/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-08T22:39:45Z",
    "updated_at": "2016-04-08T22:44:38Z",
    "author_association": "NONE",
    "body": "A friend pointed out to me that the build error was likely due to the fact that the environment I was building it in did not have all the same folders and resources that the original was built in, and that I should instead use a dockerfile to extend the already made jupyter/notebook container. \n\nUsing this Dockerfile:\n\n```\nFROM jupyter/notebook\nCMD [\"jupyter\", \"notebook\", \"--debug\"]\n```\n\nand this build command:\n`sudo docker build -t jupyter/notebook:debug /home/rooday/`\n\nI was able to build a Docker container that ran Jupyter Notebook in debug. Upon connecting to the notebook, creating a new IPython 3 Notebook and editing it, I received the same connection as before. This is the last few lines of output from the Jupyter Notebook container's logs (full logs here: http://pastebin.com/vTqc1Xug):\n\n```\n[W 22:31:20.357 NotebookApp] 400 GET /api/kernels/93b69b1c-a4ab-4a85-a49b-f3a0abf592db/channels?session_id=0F0EDE29F9364D918500E3FC55EF9A3A (172.17.0.2) 1269.18ms referer=None\n[D 22:31:20.358 NotebookApp] Can \"Upgrade\" only to \"WebSocket\".\n[D 22:31:21.388 NotebookApp] Initializing websocket connection /api/kernels/93b69b1c-a4ab-4a85-a49b-f3a0abf592db/channels\n[W 22:31:21.403 NotebookApp] 400 GET /api/kernels/93b69b1c-a4ab-4a85-a49b-f3a0abf592db/channels?session_id=0F0EDE29F9364D918500E3FC55EF9A3A (172.17.0.2) 15.53ms referer=None\n[D 22:31:21.403 NotebookApp] Can \"Upgrade\" only to \"WebSocket\".\n[D 22:31:23.437 NotebookApp] Initializing websocket connection /api/kernels/93b69b1c-a4ab-4a85-a49b-f3a0abf592db/channels\n[W 22:31:23.450 NotebookApp] 400 GET /api/kernels/93b69b1c-a4ab-4a85-a49b-f3a0abf592db/channels?session_id=0F0EDE29F9364D918500E3FC55EF9A3A (172.17.0.2) 12.59ms referer=None\n[D 22:31:23.450 NotebookApp] Can \"Upgrade\" only to \"WebSocket\".\n[D 22:31:25.284 NotebookApp] 200 GET /custom/custom.css (172.17.0.2) 6.46ms\n[D 22:31:25.433 NotebookApp] 200 GET /static/notebook/js/main.min.js.map (172.17.0.2) 71.94ms\n[D 22:31:25.451 NotebookApp] 304 GET /static/style/style.min.css.map (172.17.0.2) 8.74ms\n[D 22:31:27.480 NotebookApp] Initializing websocket connection /api/kernels/93b69b1c-a4ab-4a85-a49b-f3a0abf592db/channels\n[W 22:31:27.490 NotebookApp] 400 GET /api/kernels/93b69b1c-a4ab-4a85-a49b-f3a0abf592db/channels?session_id=0F0EDE29F9364D918500E3FC55EF9A3A (172.17.0.2) 10.67ms referer=None\n[D 22:31:27.491 NotebookApp] Can \"Upgrade\" only to \"WebSocket\".\n[D 22:31:35.538 NotebookApp] Initializing websocket connection /api/kernels/93b69b1c-a4ab-4a85-a49b-f3a0abf592db/channels\n[W 22:31:35.549 NotebookApp] 400 GET /api/kernels/93b69b1c-a4ab-4a85-a49b-f3a0abf592db/channels?session_id=0F0EDE29F9364D918500E3FC55EF9A3A (172.17.0.2) 12.31ms referer=None\n[D 22:31:35.550 NotebookApp] Can \"Upgrade\" only to \"WebSocket\".\n[D 22:31:51.590 NotebookApp] Initializing websocket connection /api/kernels/93b69b1c-a4ab-4a85-a49b-f3a0abf592db/channels\n[W 22:31:51.616 NotebookApp] 400 GET /api/kernels/93b69b1c-a4ab-4a85-a49b-f3a0abf592db/channels?session_id=0F0EDE29F9364D918500E3FC55EF9A3A (172.17.0.2) 30.62ms referer=None\n[D 22:31:51.617 NotebookApp] Can \"Upgrade\" only to \"WebSocket\".\n```\n\nThe difference I notice now from when it wasn't in debug is there are now lines saying\n\n```\nCan \"Upgrade\" only to \"WebSocket\".\n```\n\nIs there a setting that is preventing the connection from being upgraded to a websocket connection?\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/207998431",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-207998431",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 207998431,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzk5ODQzMQ==",
    "user": {
      "login": "ROODAY",
      "id": 5439867,
      "node_id": "MDQ6VXNlcjU0Mzk4Njc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5439867?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ROODAY",
      "html_url": "https://github.com/ROODAY",
      "followers_url": "https://api.github.com/users/ROODAY/followers",
      "following_url": "https://api.github.com/users/ROODAY/following{/other_user}",
      "gists_url": "https://api.github.com/users/ROODAY/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ROODAY/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ROODAY/subscriptions",
      "organizations_url": "https://api.github.com/users/ROODAY/orgs",
      "repos_url": "https://api.github.com/users/ROODAY/repos",
      "events_url": "https://api.github.com/users/ROODAY/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ROODAY/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-10T15:14:04Z",
    "updated_at": "2016-04-10T15:14:04Z",
    "author_association": "NONE",
    "body": "@willingc \nI've been talking to a person from the nginx-proxy repo to help figure out the issues on the nginx side, but I made some progress in that one config allowed me to make a kernel websocket connection. However, when I did that, I saw these errors in the chrome console:\n\n```\nactions jupyter-notebook:find-and-replace does not exist, still binding it in case it will be defined later...\nFailed to load resource: the server responded with a status of 404 (Not Found) \nhttp://notes.rooday.com/nbextensions/widgets/extension.js?v=20160408223056\nFailed to load resource: the server responded with a status of 404 (Not Found) http://notes.rooday.com/nbextensions/widgets/notebook/js/extension.js?v=20160408223056\nWidgets are not available.  Please install widgetsnbextension or ipywidgets 4.0\n```\n\nIs this something that should be ignored, or could it be a reason I'm having trouble?\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/208005918",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-208005918",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 208005918,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODAwNTkxOA==",
    "user": {
      "login": "willingc",
      "id": 2680980,
      "node_id": "MDQ6VXNlcjI2ODA5ODA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2680980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willingc",
      "html_url": "https://github.com/willingc",
      "followers_url": "https://api.github.com/users/willingc/followers",
      "following_url": "https://api.github.com/users/willingc/following{/other_user}",
      "gists_url": "https://api.github.com/users/willingc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/willingc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/willingc/subscriptions",
      "organizations_url": "https://api.github.com/users/willingc/orgs",
      "repos_url": "https://api.github.com/users/willingc/repos",
      "events_url": "https://api.github.com/users/willingc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/willingc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-10T15:48:03Z",
    "updated_at": "2016-04-10T15:48:03Z",
    "author_association": "MEMBER",
    "body": "@ROODAY In the [jupyter/notebook's `Dockerfile`](https://github.com/jupyter/notebook/blob/master/Dockerfile#L85), widgetsnbextension is installed for Python 2 and 3. I would recommend installing it.\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/208007491",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-208007491",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 208007491,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODAwNzQ5MQ==",
    "user": {
      "login": "ROODAY",
      "id": 5439867,
      "node_id": "MDQ6VXNlcjU0Mzk4Njc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5439867?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ROODAY",
      "html_url": "https://github.com/ROODAY",
      "followers_url": "https://api.github.com/users/ROODAY/followers",
      "following_url": "https://api.github.com/users/ROODAY/following{/other_user}",
      "gists_url": "https://api.github.com/users/ROODAY/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ROODAY/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ROODAY/subscriptions",
      "organizations_url": "https://api.github.com/users/ROODAY/orgs",
      "repos_url": "https://api.github.com/users/ROODAY/repos",
      "events_url": "https://api.github.com/users/ROODAY/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ROODAY/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-10T16:10:29Z",
    "updated_at": "2016-04-10T16:25:54Z",
    "author_association": "NONE",
    "body": "@willingc Could this be the issue? The dockerfile for Jupyter/Notebook on DockerHub does not match the docker file from the Jupyter/Notebook repository.\n\nhttps://hub.docker.com/r/jupyter/notebook/~/dockerfile/\n\nEdit:\n\nI run a new jupyter/notebook container with the stable tag with this command:\n\n```\ndocker run --name jupyter -d -p 8888:8888 -v \"/home/jupyter/notebooks:/notebooks\" jupyter/notebook:stable\n```\n\nAnd from doing that it seemed to install the extensions as I saw this in the chrome console:\n\n```\nSession: kernel_created (8631fdc3-87a9-405f-bdf5-cc486238fdcc)\nStarting WebSockets: ws://notes.rooday.com/api/kernels/fc593fbd-f32e-4ecb-a8fb-1a665ca916ed\nLoading extension: widgets/notebook/js/extension\nloaded widgets\nKernel: kernel_connected (fc593fbd-f32e-4ecb-a8fb-1a665ca916ed)\n```\n\nHowever, I still get 304 errors when trying to run code as I have to force Upgrade \"websocket\" to make a connection, therefore interfering with normal requests for assets like Javascript and CSS.\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/208015103",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-208015103",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 208015103,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODAxNTEwMw==",
    "user": {
      "login": "willingc",
      "id": 2680980,
      "node_id": "MDQ6VXNlcjI2ODA5ODA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2680980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willingc",
      "html_url": "https://github.com/willingc",
      "followers_url": "https://api.github.com/users/willingc/followers",
      "following_url": "https://api.github.com/users/willingc/following{/other_user}",
      "gists_url": "https://api.github.com/users/willingc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/willingc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/willingc/subscriptions",
      "organizations_url": "https://api.github.com/users/willingc/orgs",
      "repos_url": "https://api.github.com/users/willingc/repos",
      "events_url": "https://api.github.com/users/willingc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/willingc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-10T16:54:11Z",
    "updated_at": "2016-04-10T16:54:11Z",
    "author_association": "MEMBER",
    "body": "@minrk @parente Which Dockerfile should @ROODAY use? The one on DockerHub, the on in the jupyter/notebook repo, or one of the ones in jupyter/docker-stacks? Thanks.\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/208070351",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-208070351",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 208070351,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODA3MDM1MQ==",
    "user": {
      "login": "ROODAY",
      "id": 5439867,
      "node_id": "MDQ6VXNlcjU0Mzk4Njc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5439867?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ROODAY",
      "html_url": "https://github.com/ROODAY",
      "followers_url": "https://api.github.com/users/ROODAY/followers",
      "following_url": "https://api.github.com/users/ROODAY/following{/other_user}",
      "gists_url": "https://api.github.com/users/ROODAY/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ROODAY/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ROODAY/subscriptions",
      "organizations_url": "https://api.github.com/users/ROODAY/orgs",
      "repos_url": "https://api.github.com/users/ROODAY/repos",
      "events_url": "https://api.github.com/users/ROODAY/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ROODAY/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-10T21:02:45Z",
    "updated_at": "2016-05-05T20:41:02Z",
    "author_association": "NONE",
    "body": "@willingc Nevermind, I found the issue. As it turns out, it was not related to either nginx-proxy or Jupyter, and rather Cloudflare. At the moment, Websocket connections through Cloudflare is in beta, and by default is disabled. Cloudflare recommends as a workaround to simply grey-cloud A records that make use of websocket connections, so in my case that was notes.rooday.com\n\nhttps://support.cloudflare.com/hc/en-us/articles/200169466-Can-I-use-CloudFlare-with-WebSockets-\n\nFor anyone in the future attempting to use Cloudflare, Jupyter/notebook, and nginx-proxy, refer to this:\nhttps://github.com/jwilder/nginx-proxy/issues/412\n\n# Update:\n\nCloudflare now allows websockets for everyone, read more [here](https://www.cloudflare.com/websockets/).\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/208080624",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-208080624",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 208080624,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwODA4MDYyNA==",
    "user": {
      "login": "willingc",
      "id": 2680980,
      "node_id": "MDQ6VXNlcjI2ODA5ODA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2680980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willingc",
      "html_url": "https://github.com/willingc",
      "followers_url": "https://api.github.com/users/willingc/followers",
      "following_url": "https://api.github.com/users/willingc/following{/other_user}",
      "gists_url": "https://api.github.com/users/willingc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/willingc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/willingc/subscriptions",
      "organizations_url": "https://api.github.com/users/willingc/orgs",
      "repos_url": "https://api.github.com/users/willingc/repos",
      "events_url": "https://api.github.com/users/willingc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/willingc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-04-10T21:48:02Z",
    "updated_at": "2016-04-10T21:48:02Z",
    "author_association": "MEMBER",
    "body": "@ROODAY I'm glad you got it resolved. Thanks for passing along the content to help others too. :cake:\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/252933919",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-252933919",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 252933919,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1MjkzMzkxOQ==",
    "user": {
      "login": "lucaswxp",
      "id": 131314,
      "node_id": "MDQ6VXNlcjEzMTMxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/131314?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucaswxp",
      "html_url": "https://github.com/lucaswxp",
      "followers_url": "https://api.github.com/users/lucaswxp/followers",
      "following_url": "https://api.github.com/users/lucaswxp/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucaswxp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucaswxp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucaswxp/subscriptions",
      "organizations_url": "https://api.github.com/users/lucaswxp/orgs",
      "repos_url": "https://api.github.com/users/lucaswxp/repos",
      "events_url": "https://api.github.com/users/lucaswxp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucaswxp/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-11T14:30:51Z",
    "updated_at": "2016-10-11T14:30:51Z",
    "author_association": "NONE",
    "body": "+1 I had similar issue and the problem was solved by disabling (grey-cloud) http-proxy in cloudflare.\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/303925472",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-303925472",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 303925472,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzkyNTQ3Mg==",
    "user": {
      "login": "jakocoo",
      "id": 2337258,
      "node_id": "MDQ6VXNlcjIzMzcyNTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2337258?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakocoo",
      "html_url": "https://github.com/jakocoo",
      "followers_url": "https://api.github.com/users/jakocoo/followers",
      "following_url": "https://api.github.com/users/jakocoo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakocoo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakocoo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakocoo/subscriptions",
      "organizations_url": "https://api.github.com/users/jakocoo/orgs",
      "repos_url": "https://api.github.com/users/jakocoo/repos",
      "events_url": "https://api.github.com/users/jakocoo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakocoo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-25T05:22:34Z",
    "updated_at": "2017-05-25T05:22:34Z",
    "author_association": "NONE",
    "body": "If you are not on CloudFlare and still have the issue. Here's the fix:\r\nhttps://stackoverflow.com/questions/22665809/how-to-configure-ipython-behind-nginx-in-a-subpath/23912400#23912400\r\n\r\n```proxy_set_header Origin \"\"; ``` is the key.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/304002848",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-304002848",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 304002848,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDAwMjg0OA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-25T12:52:09Z",
    "updated_at": "2017-05-25T12:52:09Z",
    "author_association": "MEMBER",
    "body": "Does anyone know if that has security implications? IIRC, if the `Origin` header is unset, the server skips the usual cross-origin checks, assuming that it's a non-browser client connecting. Will the proxy server do cross-origin checks itself before passing the request on? Or will it just remove the origin header and pass it on regardless?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/304029771",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-304029771",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 304029771,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDAyOTc3MQ==",
    "user": {
      "login": "rgbkrk",
      "id": 836375,
      "node_id": "MDQ6VXNlcjgzNjM3NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/836375?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rgbkrk",
      "html_url": "https://github.com/rgbkrk",
      "followers_url": "https://api.github.com/users/rgbkrk/followers",
      "following_url": "https://api.github.com/users/rgbkrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/rgbkrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rgbkrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rgbkrk/subscriptions",
      "organizations_url": "https://api.github.com/users/rgbkrk/orgs",
      "repos_url": "https://api.github.com/users/rgbkrk/repos",
      "events_url": "https://api.github.com/users/rgbkrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rgbkrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-25T14:50:47Z",
    "updated_at": "2017-05-25T14:50:47Z",
    "author_association": "MEMBER",
    "body": "It has security implications for the websockets on the server side (where we put protections in place), however the browser will continue to do CORS checks.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/304049394",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-304049394",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 304049394,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDA0OTM5NA==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-25T16:04:34Z",
    "updated_at": "2017-05-25T16:04:34Z",
    "author_association": "MEMBER",
    "body": "Are the browser checks sufficient to protect users? Will it allow making requests, even if the user can't see the results?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/304081414",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-304081414",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 304081414,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDA4MTQxNA==",
    "user": {
      "login": "rgbkrk",
      "id": 836375,
      "node_id": "MDQ6VXNlcjgzNjM3NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/836375?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rgbkrk",
      "html_url": "https://github.com/rgbkrk",
      "followers_url": "https://api.github.com/users/rgbkrk/followers",
      "following_url": "https://api.github.com/users/rgbkrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/rgbkrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rgbkrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rgbkrk/subscriptions",
      "organizations_url": "https://api.github.com/users/rgbkrk/orgs",
      "repos_url": "https://api.github.com/users/rgbkrk/repos",
      "events_url": "https://api.github.com/users/rgbkrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rgbkrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-25T18:09:10Z",
    "updated_at": "2017-05-25T18:09:23Z",
    "author_association": "MEMBER",
    "body": "The browser will make the requests (though our XSRF stuff should prevent that at the server side) still, then check the headers from the response.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/304286173",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-304286173",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 304286173,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDI4NjE3Mw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-26T13:45:12Z",
    "updated_at": "2017-05-26T13:45:12Z",
    "author_association": "MEMBER",
    "body": "So a malicious site could e.g. start lots of kernels by making POST requests, even though it couldn't then use those kernels?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/304286299",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-304286299",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 304286299,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDI4NjI5OQ==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-26T13:45:49Z",
    "updated_at": "2017-05-26T13:45:49Z",
    "author_association": "MEMBER",
    "body": "Or will the XSRF prevent that? I have trouble remembering how all these different bits work?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/304715408",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-304715408",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 304715408,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDcxNTQwOA==",
    "user": {
      "login": "rgbkrk",
      "id": 836375,
      "node_id": "MDQ6VXNlcjgzNjM3NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/836375?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rgbkrk",
      "html_url": "https://github.com/rgbkrk",
      "followers_url": "https://api.github.com/users/rgbkrk/followers",
      "following_url": "https://api.github.com/users/rgbkrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/rgbkrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rgbkrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rgbkrk/subscriptions",
      "organizations_url": "https://api.github.com/users/rgbkrk/orgs",
      "repos_url": "https://api.github.com/users/rgbkrk/repos",
      "events_url": "https://api.github.com/users/rgbkrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rgbkrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-29T18:56:39Z",
    "updated_at": "2017-05-29T18:57:19Z",
    "author_association": "MEMBER",
    "body": "The XSRF protection will prevent that, assuming they don't have the token.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/304885073",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-304885073",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 304885073,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDg4NTA3Mw==",
    "user": {
      "login": "takluyver",
      "id": 327925,
      "node_id": "MDQ6VXNlcjMyNzkyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/327925?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/takluyver",
      "html_url": "https://github.com/takluyver",
      "followers_url": "https://api.github.com/users/takluyver/followers",
      "following_url": "https://api.github.com/users/takluyver/following{/other_user}",
      "gists_url": "https://api.github.com/users/takluyver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/takluyver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/takluyver/subscriptions",
      "organizations_url": "https://api.github.com/users/takluyver/orgs",
      "repos_url": "https://api.github.com/users/takluyver/repos",
      "events_url": "https://api.github.com/users/takluyver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/takluyver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-30T13:53:11Z",
    "updated_at": "2017-05-30T13:53:11Z",
    "author_association": "MEMBER",
    "body": "OK, thanks Kyle :-)",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/403256189",
    "html_url": "https://github.com/jupyter/notebook/issues/1311#issuecomment-403256189",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/1311",
    "id": 403256189,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzI1NjE4OQ==",
    "user": {
      "login": "disrupted",
      "id": 4771462,
      "node_id": "MDQ6VXNlcjQ3NzE0NjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4771462?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/disrupted",
      "html_url": "https://github.com/disrupted",
      "followers_url": "https://api.github.com/users/disrupted/followers",
      "following_url": "https://api.github.com/users/disrupted/following{/other_user}",
      "gists_url": "https://api.github.com/users/disrupted/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/disrupted/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/disrupted/subscriptions",
      "organizations_url": "https://api.github.com/users/disrupted/orgs",
      "repos_url": "https://api.github.com/users/disrupted/repos",
      "events_url": "https://api.github.com/users/disrupted/events{/privacy}",
      "received_events_url": "https://api.github.com/users/disrupted/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-08T02:07:20Z",
    "updated_at": "2018-07-08T02:14:31Z",
    "author_association": "NONE",
    "body": "@jakocoo \r\n> If you are not on CloudFlare and still have the issue. Here's the fix:\r\nhttps://stackoverflow.com/questions/22665809/how-to-configure-ipython-behind-nginx-in-a-subpath/23912400#23912400\r\n> \r\n> proxy_set_header Origin \"\"; is the key.\r\n\r\nI tried that but I am still having issues with Safari saying \"Kernel starting, please wait...\" (which I learned happens when it can't establish a secure websocket).\r\n\r\nmy config looks like this:\r\n\r\nnginx `jupyter.conf`\r\n```\r\nlocation /jupyter/ {\r\n        proxy_pass http://localhost:8888;\r\n\r\n        proxy_set_header X-Real-IP $remote_addr;\r\n        proxy_set_header Host $host;\r\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n\r\n        proxy_set_header Origin \"\";\r\n}\r\n\r\nlocation ~* /jupyter/(api/kernels/[^/]+/(channels|iopub|shell|stdin)|terminals/websocket)/? {\r\n        proxy_pass http://localhost:8888;\r\n\r\n        proxy_set_header X-Real-IP $remote_addr;\r\n        proxy_set_header Host $host;\r\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n\r\n        proxy_http_version 1.1;\r\n        proxy_set_header Upgrade $http_upgrade;\r\n        proxy_set_header Connection \"upgrade\";\r\n        proxy_set_header Origin \"\";\r\n}\r\n```\r\n\r\n`jupyter_notebook_config.py`\r\n```\r\nc.NotebookApp.allow_origin = '*'\r\nc.NotebookApp.base_url = '/jupyter'\r\nc.NotebookApp.open_browser = False\r\nc.NotebookApp.password = 'sha1:REDACTED'\r\nc.NotebookApp.port = 8888\r\nc.NotebookApp.trust_xheaders = True\r\n```",
    "performed_via_github_app": null
  }
]
