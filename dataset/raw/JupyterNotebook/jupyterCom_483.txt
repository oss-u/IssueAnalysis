[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/142431678",
    "html_url": "https://github.com/jupyter/notebook/issues/483#issuecomment-142431678",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/483",
    "id": 142431678,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MjQzMTY3OA==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-22T21:46:17Z",
    "updated_at": "2015-09-22T21:46:17Z",
    "author_association": "MEMBER",
    "body": "So I'll investigate more deeply, but IIRC, there are some issues, where indeed it might not be possible for he `magic_foo` mode to switch syntactic coloration at the end of the line, which probably screw up some modes. Someone will have to dive into Codemirror multiplexing. \n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/142435955",
    "html_url": "https://github.com/jupyter/notebook/issues/483#issuecomment-142435955",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/483",
    "id": 142435955,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0MjQzNTk1NQ==",
    "user": {
      "login": "gramster",
      "id": 2762632,
      "node_id": "MDQ6VXNlcjI3NjI2MzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2762632?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gramster",
      "html_url": "https://github.com/gramster",
      "followers_url": "https://api.github.com/users/gramster/followers",
      "following_url": "https://api.github.com/users/gramster/following{/other_user}",
      "gists_url": "https://api.github.com/users/gramster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gramster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gramster/subscriptions",
      "organizations_url": "https://api.github.com/users/gramster/orgs",
      "repos_url": "https://api.github.com/users/gramster/repos",
      "events_url": "https://api.github.com/users/gramster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gramster/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-22T22:07:24Z",
    "updated_at": "2015-09-22T22:07:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "If it helps at all, I created a simple hack for one case where I simply added a firstLine flag to the state object for the mode. In the mode, if firstLine was true I set it to false and ate the line, returning in our case 'keyword' for the token type.\n\nPerhaps something like that with an overlay rather than a multiplexor may work.\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/142753408",
    "html_url": "https://github.com/jupyter/notebook/issues/483#issuecomment-142753408",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/483",
    "id": 142753408,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0Mjc1MzQwOA==",
    "user": {
      "login": "gramster",
      "id": 2762632,
      "node_id": "MDQ6VXNlcjI3NjI2MzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2762632?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gramster",
      "html_url": "https://github.com/gramster",
      "followers_url": "https://api.github.com/users/gramster/followers",
      "following_url": "https://api.github.com/users/gramster/following{/other_user}",
      "gists_url": "https://api.github.com/users/gramster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gramster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gramster/subscriptions",
      "organizations_url": "https://api.github.com/users/gramster/orgs",
      "repos_url": "https://api.github.com/users/gramster/repos",
      "events_url": "https://api.github.com/users/gramster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gramster/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-23T22:50:02Z",
    "updated_at": "2015-09-24T00:42:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "I was hoping that replacing that multiplexing mode that gets created in cell.js with this would work better:\n\n```\nCodeMirror.defineMode(magic_mode, function(config) {\n  var magicOverlay = {\n    startState: function() {\n      return {firstMatched : false}\n    },\n    token: function(stream, state) {\n      var matched = null;\n      if(!state.firstMatched) {\n        state.firstMatched = true;\n        if (stream.match(\"%%\")) {\n          matched = \"magic\"; // or whatever token you want the first line to match\n        }\n      }\n      stream.skipToEnd();\n      return matched;\n    }\n  };\n  return CodeMirror.overlayMode(CodeMirror.getMode(config, spec), magicOverlay);\n});\n```\n\nUnfortunately it looks like while this will work on the word following %% it won't work on tokens that come after it if the other mode styles them.\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/142772591",
    "html_url": "https://github.com/jupyter/notebook/issues/483#issuecomment-142772591",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/483",
    "id": 142772591,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0Mjc3MjU5MQ==",
    "user": {
      "login": "gramster",
      "id": 2762632,
      "node_id": "MDQ6VXNlcjI3NjI2MzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2762632?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gramster",
      "html_url": "https://github.com/gramster",
      "followers_url": "https://api.github.com/users/gramster/followers",
      "following_url": "https://api.github.com/users/gramster/following{/other_user}",
      "gists_url": "https://api.github.com/users/gramster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gramster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gramster/subscriptions",
      "organizations_url": "https://api.github.com/users/gramster/orgs",
      "repos_url": "https://api.github.com/users/gramster/repos",
      "events_url": "https://api.github.com/users/gramster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gramster/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-09-24T01:00:39Z",
    "updated_at": "2015-09-24T16:59:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ah, I have a better version which seems to work. \n\n```\nCodeMirror.defineMode(magic_mode, function(config) {\n  var magicOverlay = {\n    startState: function() {\n      return {firstMatched : false, inMagicLine: false}\n    },\n    token: function(stream, state) {\n      if(!state.firstMatched) {\n        state.firstMatched = true;\n         if (stream.match(\"%%\", false)) {\n          state.inMagicLine = true;\n        }\n      }\n      if (state.inMagicLine) {\n        stream.eat(function any(ch) { return true; });\n        if (stream.eol()) {\n          state.inMagicLine = false;\n        }\n        return \"magic\";\n      }\n      stream.skipToEnd();\n      return null;\n    }\n  };\n  return CodeMirror.overlayMode(CodeMirror.getMode(config, spec), magicOverlay);\n});\n```\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/145925685",
    "html_url": "https://github.com/jupyter/notebook/issues/483#issuecomment-145925685",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/483",
    "id": 145925685,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NTkyNTY4NQ==",
    "user": {
      "login": "ellisonbg",
      "id": 27600,
      "node_id": "MDQ6VXNlcjI3NjAw",
      "avatar_url": "https://avatars.githubusercontent.com/u/27600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ellisonbg",
      "html_url": "https://github.com/ellisonbg",
      "followers_url": "https://api.github.com/users/ellisonbg/followers",
      "following_url": "https://api.github.com/users/ellisonbg/following{/other_user}",
      "gists_url": "https://api.github.com/users/ellisonbg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ellisonbg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ellisonbg/subscriptions",
      "organizations_url": "https://api.github.com/users/ellisonbg/orgs",
      "repos_url": "https://api.github.com/users/ellisonbg/repos",
      "events_url": "https://api.github.com/users/ellisonbg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ellisonbg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-06T16:51:58Z",
    "updated_at": "2015-10-06T16:51:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "@Carreau do you think there is anything for us to do on this for 4.1?\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/145927601",
    "html_url": "https://github.com/jupyter/notebook/issues/483#issuecomment-145927601",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/483",
    "id": 145927601,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0NTkyNzYwMQ==",
    "user": {
      "login": "Carreau",
      "id": 335567,
      "node_id": "MDQ6VXNlcjMzNTU2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/335567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Carreau",
      "html_url": "https://github.com/Carreau",
      "followers_url": "https://api.github.com/users/Carreau/followers",
      "following_url": "https://api.github.com/users/Carreau/following{/other_user}",
      "gists_url": "https://api.github.com/users/Carreau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Carreau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Carreau/subscriptions",
      "organizations_url": "https://api.github.com/users/Carreau/orgs",
      "repos_url": "https://api.github.com/users/Carreau/repos",
      "events_url": "https://api.github.com/users/Carreau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Carreau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-06T16:58:59Z",
    "updated_at": "2015-10-06T16:58:59Z",
    "author_association": "MEMBER",
    "body": "Bah, that have been broken for [a long time](https://github.com/ipython/ipython/issues/4836#issuecomment-33897907). If someone make a working PR i'm all for it, but it's not blocker. \n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/146882210",
    "html_url": "https://github.com/jupyter/notebook/issues/483#issuecomment-146882210",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/483",
    "id": 146882210,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE0Njg4MjIxMA==",
    "user": {
      "login": "minrk",
      "id": 151929,
      "node_id": "MDQ6VXNlcjE1MTkyOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/151929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/minrk",
      "html_url": "https://github.com/minrk",
      "followers_url": "https://api.github.com/users/minrk/followers",
      "following_url": "https://api.github.com/users/minrk/following{/other_user}",
      "gists_url": "https://api.github.com/users/minrk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/minrk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/minrk/subscriptions",
      "organizations_url": "https://api.github.com/users/minrk/orgs",
      "repos_url": "https://api.github.com/users/minrk/repos",
      "events_url": "https://api.github.com/users/minrk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/minrk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-10-09T14:10:52Z",
    "updated_at": "2015-10-09T14:10:52Z",
    "author_association": "MEMBER",
    "body": "closed by #498\n",
    "performed_via_github_app": null
  }
]
