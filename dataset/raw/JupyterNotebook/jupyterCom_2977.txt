[
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/341065908",
    "html_url": "https://github.com/jupyter/notebook/issues/2977#issuecomment-341065908",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2977",
    "id": 341065908,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MTA2NTkwOA==",
    "user": {
      "login": "jcb91",
      "id": 5630710,
      "node_id": "MDQ6VXNlcjU2MzA3MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5630710?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jcb91",
      "html_url": "https://github.com/jcb91",
      "followers_url": "https://api.github.com/users/jcb91/followers",
      "following_url": "https://api.github.com/users/jcb91/following{/other_user}",
      "gists_url": "https://api.github.com/users/jcb91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jcb91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jcb91/subscriptions",
      "organizations_url": "https://api.github.com/users/jcb91/orgs",
      "repos_url": "https://api.github.com/users/jcb91/repos",
      "events_url": "https://api.github.com/users/jcb91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jcb91/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-01T10:25:10Z",
    "updated_at": "2017-11-01T10:25:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "I would guess it's more likely to be down to the require version - requirejs is after all _supposed_ to add `.js` extension to paths missing an extension altogether. How are you making the call in the first place?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/341068794",
    "html_url": "https://github.com/jupyter/notebook/issues/2977#issuecomment-341068794",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2977",
    "id": 341068794,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MTA2ODc5NA==",
    "user": {
      "login": "rwmajor2",
      "id": 3799165,
      "node_id": "MDQ6VXNlcjM3OTkxNjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3799165?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rwmajor2",
      "html_url": "https://github.com/rwmajor2",
      "followers_url": "https://api.github.com/users/rwmajor2/followers",
      "following_url": "https://api.github.com/users/rwmajor2/following{/other_user}",
      "gists_url": "https://api.github.com/users/rwmajor2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rwmajor2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rwmajor2/subscriptions",
      "organizations_url": "https://api.github.com/users/rwmajor2/orgs",
      "repos_url": "https://api.github.com/users/rwmajor2/repos",
      "events_url": "https://api.github.com/users/rwmajor2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rwmajor2/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-01T10:34:41Z",
    "updated_at": "2017-11-01T10:34:41Z",
    "author_association": "NONE",
    "body": "Unfortunately, I am not an expert in this area @jcb91.  Below is what it currently looks like:\r\n```\r\nrequire.config({\r\n    // Define path mappings for modules\r\n    paths: {\r\n        // [1] Modules hosted on Esri CDN.\r\n        \"dojo\": esriCDN + \"dojo\",\r\n        \"dojox\": esriCDN + \"dojox\",\r\n        \"dijit\": esriCDN + \"dijit\",\r\n        \"esri\": esriCDN + \"esri\",\r\n        \"dgrid\": esriCDN + \"dgrid\",\r\n        \"xstyle\": esriCDN + \"xstyle\",\r\n        \"put-selector\": esriCDN + \"put-selector\",\r\n        \"moment\": esriCDN + \"moment\",\r\n        \"text\": nbextensionPath + \"/requirejs/text\"\r\n    },\r\n\r\n    urlArgs: \"client=gsrs\",\r\n\r\n    map: {\r\n        \"*\": {\r\n            \"dojo/text\": \"text\"\r\n        }\r\n    },\r\n    config: {\r\n        text: {\r\n\r\n            useXhr: function (url) {\r\n                return true;\r\n            },\r\n            openXhr: false,\r\n\r\n            onXhr: function (xhr, url) {\r\n                // Route cross domain XHR through a proxy if required\r\n                var hasCors = (\r\n                  typeof XMLHttpRequest !== \"undefined\"\r\n                  && (\"withCredentials\" in (new XMLHttpRequest()))\r\n                );\r\n\r\n                xhr.open(\r\n                  \"GET\",\r\n                  hasCors ? url : (proxyUrl + \"?\" + url),\r\n                  true\r\n                );\r\n            }\r\n        }\r\n    }\r\n});\r\n```",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/341072217",
    "html_url": "https://github.com/jupyter/notebook/issues/2977#issuecomment-341072217",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2977",
    "id": 341072217,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MTA3MjIxNw==",
    "user": {
      "login": "jcb91",
      "id": 5630710,
      "node_id": "MDQ6VXNlcjU2MzA3MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5630710?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jcb91",
      "html_url": "https://github.com/jcb91",
      "followers_url": "https://api.github.com/users/jcb91/followers",
      "following_url": "https://api.github.com/users/jcb91/following{/other_user}",
      "gists_url": "https://api.github.com/users/jcb91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jcb91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jcb91/subscriptions",
      "organizations_url": "https://api.github.com/users/jcb91/orgs",
      "repos_url": "https://api.github.com/users/jcb91/repos",
      "events_url": "https://api.github.com/users/jcb91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jcb91/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-01T10:44:32Z",
    "updated_at": "2017-11-01T10:44:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ok, I can't say I'm an expert either really ðŸ˜‚ but the thing that stands out for me from the config you've posted is the proxying stuff - do you know whether you're actually going through a proxy? I suspect [this SO question](https://stackoverflow.com/questions/10607370/require-js-text-plugin-adds-js-to-the-file-name) is relevant, it seems to be an issue regarding using the text plugin with cross-domain requests...",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/341073603",
    "html_url": "https://github.com/jupyter/notebook/issues/2977#issuecomment-341073603",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2977",
    "id": 341073603,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MTA3MzYwMw==",
    "user": {
      "login": "jcb91",
      "id": 5630710,
      "node_id": "MDQ6VXNlcjU2MzA3MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5630710?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jcb91",
      "html_url": "https://github.com/jcb91",
      "followers_url": "https://api.github.com/users/jcb91/followers",
      "following_url": "https://api.github.com/users/jcb91/following{/other_user}",
      "gists_url": "https://api.github.com/users/jcb91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jcb91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jcb91/subscriptions",
      "organizations_url": "https://api.github.com/users/jcb91/orgs",
      "repos_url": "https://api.github.com/users/jcb91/repos",
      "events_url": "https://api.github.com/users/jcb91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jcb91/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-01T10:48:43Z",
    "updated_at": "2017-11-01T10:48:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ps, if it's the requirejs text plugin, newer versions of notebook already bundle it (and moment had been included for some time), so you could skip loading from the CDN/nbextension path altogether",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/344369326",
    "html_url": "https://github.com/jupyter/notebook/issues/2977#issuecomment-344369326",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2977",
    "id": 344369326,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NDM2OTMyNg==",
    "user": {
      "login": "rohitgeo",
      "id": 17867943,
      "node_id": "MDQ6VXNlcjE3ODY3OTQz",
      "avatar_url": "https://avatars.githubusercontent.com/u/17867943?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rohitgeo",
      "html_url": "https://github.com/rohitgeo",
      "followers_url": "https://api.github.com/users/rohitgeo/followers",
      "following_url": "https://api.github.com/users/rohitgeo/following{/other_user}",
      "gists_url": "https://api.github.com/users/rohitgeo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rohitgeo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rohitgeo/subscriptions",
      "organizations_url": "https://api.github.com/users/rohitgeo/orgs",
      "repos_url": "https://api.github.com/users/rohitgeo/repos",
      "events_url": "https://api.github.com/users/rohitgeo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rohitgeo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-14T19:25:23Z",
    "updated_at": "2017-11-14T19:25:23Z",
    "author_association": "NONE",
    "body": "> do you know whether you're actually going through a proxy?\r\n\r\nWe are not going through a proxy.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/344374622",
    "html_url": "https://github.com/jupyter/notebook/issues/2977#issuecomment-344374622",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2977",
    "id": 344374622,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NDM3NDYyMg==",
    "user": {
      "login": "rohitgeo",
      "id": 17867943,
      "node_id": "MDQ6VXNlcjE3ODY3OTQz",
      "avatar_url": "https://avatars.githubusercontent.com/u/17867943?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rohitgeo",
      "html_url": "https://github.com/rohitgeo",
      "followers_url": "https://api.github.com/users/rohitgeo/followers",
      "following_url": "https://api.github.com/users/rohitgeo/following{/other_user}",
      "gists_url": "https://api.github.com/users/rohitgeo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rohitgeo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rohitgeo/subscriptions",
      "organizations_url": "https://api.github.com/users/rohitgeo/orgs",
      "repos_url": "https://api.github.com/users/rohitgeo/repos",
      "events_url": "https://api.github.com/users/rohitgeo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rohitgeo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-14T19:43:19Z",
    "updated_at": "2017-11-14T19:43:19Z",
    "author_association": "NONE",
    "body": "Here's a screenshot showing what Chrome tries to load when bringing up the widget:\r\n\r\n![image](https://user-images.githubusercontent.com/17867943/32801055-c89f6842-c930-11e7-829b-ba6e2cff1d43.png)\r\n\r\njavascript files are getting loaded correctly, but some html files are being loaded with a \".js\" extension, which fails. This is happenning from v5.1.0 onwards.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/344389494",
    "html_url": "https://github.com/jupyter/notebook/issues/2977#issuecomment-344389494",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2977",
    "id": 344389494,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NDM4OTQ5NA==",
    "user": {
      "login": "jcb91",
      "id": 5630710,
      "node_id": "MDQ6VXNlcjU2MzA3MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5630710?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jcb91",
      "html_url": "https://github.com/jcb91",
      "followers_url": "https://api.github.com/users/jcb91/followers",
      "following_url": "https://api.github.com/users/jcb91/following{/other_user}",
      "gists_url": "https://api.github.com/users/jcb91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jcb91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jcb91/subscriptions",
      "organizations_url": "https://api.github.com/users/jcb91/orgs",
      "repos_url": "https://api.github.com/users/jcb91/repos",
      "events_url": "https://api.github.com/users/jcb91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jcb91/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-14T20:34:46Z",
    "updated_at": "2017-11-14T20:34:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "Well, without a minimal working example, my current best guess is: \r\n\r\n 1. It seems that dijit is using the `dojo/text` require plugin to load html resources, as in the requirement at [form/ValidationTextBox.js#L8](https://github.com/dojo/dijit/blob/cd8db4976938df6f635dca380dbe3cc806658e7f/form/ValidationTextBox.js#L8).\r\n 2.  You've mapped `dojo/text` to `text`. \r\n 3. In previous versions, the requirejs text plugin wasn't included in the notebook minified js, so as soon as something requested the `text` module, this would fetch your config's definition of `nbextensionPath + \"/requirejs/text\"`. However, in newer versions (see [this bit of 5.0.0 to 5.1.0 diff](https://github.com/jupyter/notebook/compare/5.0.0...5.1.0#diff-0a08a7565aba4405282251491979bb6bR23)), the `text` module will already be defined as part of the main notebook js, so your config will (I think?!) get ignored. I suspect this may be relevant.\r\n\r\nWhat version of requirejs/text are you providing? Have you set any config for it?\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/344400033",
    "html_url": "https://github.com/jupyter/notebook/issues/2977#issuecomment-344400033",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2977",
    "id": 344400033,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NDQwMDAzMw==",
    "user": {
      "login": "rohitgeo",
      "id": 17867943,
      "node_id": "MDQ6VXNlcjE3ODY3OTQz",
      "avatar_url": "https://avatars.githubusercontent.com/u/17867943?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rohitgeo",
      "html_url": "https://github.com/rohitgeo",
      "followers_url": "https://api.github.com/users/rohitgeo/followers",
      "following_url": "https://api.github.com/users/rohitgeo/following{/other_user}",
      "gists_url": "https://api.github.com/users/rohitgeo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rohitgeo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rohitgeo/subscriptions",
      "organizations_url": "https://api.github.com/users/rohitgeo/orgs",
      "repos_url": "https://api.github.com/users/rohitgeo/repos",
      "events_url": "https://api.github.com/users/rohitgeo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rohitgeo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-14T21:12:10Z",
    "updated_at": "2017-11-14T21:12:10Z",
    "author_association": "NONE",
    "body": "We're providing RequireJS text 2.0.12. The config is what Bill had shared above.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/344563608",
    "html_url": "https://github.com/jupyter/notebook/issues/2977#issuecomment-344563608",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2977",
    "id": 344563608,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NDU2MzYwOA==",
    "user": {
      "login": "rohitgeo",
      "id": 17867943,
      "node_id": "MDQ6VXNlcjE3ODY3OTQz",
      "avatar_url": "https://avatars.githubusercontent.com/u/17867943?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rohitgeo",
      "html_url": "https://github.com/rohitgeo",
      "followers_url": "https://api.github.com/users/rohitgeo/followers",
      "following_url": "https://api.github.com/users/rohitgeo/following{/other_user}",
      "gists_url": "https://api.github.com/users/rohitgeo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rohitgeo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rohitgeo/subscriptions",
      "organizations_url": "https://api.github.com/users/rohitgeo/orgs",
      "repos_url": "https://api.github.com/users/rohitgeo/repos",
      "events_url": "https://api.github.com/users/rohitgeo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rohitgeo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-15T11:21:04Z",
    "updated_at": "2017-11-15T11:23:12Z",
    "author_association": "NONE",
    "body": "A minimal working example is attached.\r\nIt used to work in notebook 5.0 but doesn't work in 5.1+ (tried with 5.2.1 as well).\r\n\r\n[HelloSceneWidget.zip](https://github.com/jupyter/notebook/files/1474442/HelloSceneWidget.zip)\r\n\r\nYour assessment above (\"your config will get ignored\") is spot on... from our debugging it seems that the require config for 'text' isn't being used - onXhr is never called. How can we work around this issue?\r\n\r\nThanks for your help with this.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/344796647",
    "html_url": "https://github.com/jupyter/notebook/issues/2977#issuecomment-344796647",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2977",
    "id": 344796647,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NDc5NjY0Nw==",
    "user": {
      "login": "jcb91",
      "id": 5630710,
      "node_id": "MDQ6VXNlcjU2MzA3MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5630710?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jcb91",
      "html_url": "https://github.com/jcb91",
      "followers_url": "https://api.github.com/users/jcb91/followers",
      "following_url": "https://api.github.com/users/jcb91/following{/other_user}",
      "gists_url": "https://api.github.com/users/jcb91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jcb91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jcb91/subscriptions",
      "organizations_url": "https://api.github.com/users/jcb91/orgs",
      "repos_url": "https://api.github.com/users/jcb91/repos",
      "events_url": "https://api.github.com/users/jcb91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jcb91/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-16T02:33:47Z",
    "updated_at": "2017-11-16T02:33:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks @rohitgeo for that example. So, the simple way that I can get this to work is by just removing all of the requirejs text config along with the dojo/text mapping, so essentially just by using dojo/text as dojo & dijit expect.\r\n\r\nThe config call then looks like:\r\n\r\n```javascript\r\nrequire.config({\r\n    // Define path mappings for modules\r\n    paths: {\r\n        // [1] Modules hosted on Esri CDN.\r\n        \"dojo\": esriCDN + \"dojo\",\r\n        \"dojox\": esriCDN + \"dojox\",\r\n        \"dijit\": esriCDN + \"dijit\",\r\n        \"esri\": esriCDN + \"esri\",\r\n        \"dgrid\": esriCDN + \"dgrid\",\r\n        \"xstyle\": esriCDN + \"xstyle\",\r\n        \"put-selector\": esriCDN + \"put-selector\",\r\n        \"moment\": esriCDN + \"moment\",\r\n    },\r\n    urlArgs: \"client=gsrs\",\r\n});\r\n```\r\n\r\nWas there a pressing reason that you wanted to use requirejs text instead of dojo's?\r\n\r\nI tried removing your moment path-config, in favour of using notebook's builtin moment, but it appears some of your other cdn-hosted stuff is relying on finding things at `moment/moment` rather than the base `moment` defined in notebook. It also seemed that some cdn stuff may be doing some of the direct-requiring of moment locales I've tried to get rid of in #3048 (although I haven't had time to dig into your require calls enough to see where that was coming from).",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/344800690",
    "html_url": "https://github.com/jupyter/notebook/issues/2977#issuecomment-344800690",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2977",
    "id": 344800690,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NDgwMDY5MA==",
    "user": {
      "login": "jcb91",
      "id": 5630710,
      "node_id": "MDQ6VXNlcjU2MzA3MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5630710?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jcb91",
      "html_url": "https://github.com/jcb91",
      "followers_url": "https://api.github.com/users/jcb91/followers",
      "following_url": "https://api.github.com/users/jcb91/following{/other_user}",
      "gists_url": "https://api.github.com/users/jcb91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jcb91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jcb91/subscriptions",
      "organizations_url": "https://api.github.com/users/jcb91/orgs",
      "repos_url": "https://api.github.com/users/jcb91/repos",
      "events_url": "https://api.github.com/users/jcb91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jcb91/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-16T02:59:38Z",
    "updated_at": "2017-11-16T02:59:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Your assessment above (\"your config will get ignored\") is spot on... from our debugging it seems that the require config for 'text' isn't being used - onXhr is never called. How can we work around this issue?\r\n\r\nAs far as I can tell, the text plugin only reads its config once, at load time (it assumes all config-setting will be done before it's loaded - see [text.js#L22](https://github.com/requirejs/text/blob/d04de4ffd7bf5ba6cb80cdca2d40d4f6f52a1b1f/text.js#L22)). The only halfway-reasonable way I can think of to get around this is to undefine the module before loading it again to get the new config applied - see [this SO answer](https://stackoverflow.com/a/19967014/2332310) for details on reloading modules.\r\n\r\nThis would then give something like\r\n\r\n```javascript\r\nrequire.config({\r\n  // my new config here\r\n});\r\n// unload the text plugin module\r\nrequire.undef('text');\r\n// now text should get loaded again by the next require call that asks for it:\r\nrequire(['text!some/resource/wanted/here.html'], function (txt) {\r\n    console.log('do something with', txt);\r\n});\r\n```",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/345002733",
    "html_url": "https://github.com/jupyter/notebook/issues/2977#issuecomment-345002733",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2977",
    "id": 345002733,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTAwMjczMw==",
    "user": {
      "login": "rohitgeo",
      "id": 17867943,
      "node_id": "MDQ6VXNlcjE3ODY3OTQz",
      "avatar_url": "https://avatars.githubusercontent.com/u/17867943?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rohitgeo",
      "html_url": "https://github.com/rohitgeo",
      "followers_url": "https://api.github.com/users/rohitgeo/followers",
      "following_url": "https://api.github.com/users/rohitgeo/following{/other_user}",
      "gists_url": "https://api.github.com/users/rohitgeo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rohitgeo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rohitgeo/subscriptions",
      "organizations_url": "https://api.github.com/users/rohitgeo/orgs",
      "repos_url": "https://api.github.com/users/rohitgeo/repos",
      "events_url": "https://api.github.com/users/rohitgeo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rohitgeo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-16T17:47:17Z",
    "updated_at": "2017-11-16T17:48:58Z",
    "author_association": "NONE",
    "body": "Thank you @jcb91 for this fix of simplifying the require config. I believe we were using our version of requirejs/text as there's a small tweak we've done to it. However, it might have been for handling some niche case that I'm not aware of. I'd be more than happy to use this simpler require configuration. Thank you so much for your help!\r\n\r\nAnother thing I tried was to change \"text\" to \"mytext\", and it works!\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/345005971",
    "html_url": "https://github.com/jupyter/notebook/issues/2977#issuecomment-345005971",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2977",
    "id": 345005971,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTAwNTk3MQ==",
    "user": {
      "login": "jcb91",
      "id": 5630710,
      "node_id": "MDQ6VXNlcjU2MzA3MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5630710?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jcb91",
      "html_url": "https://github.com/jcb91",
      "followers_url": "https://api.github.com/users/jcb91/followers",
      "following_url": "https://api.github.com/users/jcb91/following{/other_user}",
      "gists_url": "https://api.github.com/users/jcb91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jcb91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jcb91/subscriptions",
      "organizations_url": "https://api.github.com/users/jcb91/orgs",
      "repos_url": "https://api.github.com/users/jcb91/repos",
      "events_url": "https://api.github.com/users/jcb91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jcb91/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-16T17:58:31Z",
    "updated_at": "2017-11-16T17:58:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "No problem, glad there's a suitable solution for you :)\r\n\r\n> Another thing I tried was to change \"text\" to \"mytext\", and it works!\r\n\r\nI'm not sure what you mean by this, which \"text\" did you change? And why did you use \"mytext\" for that matter, is that just arbitrary, to avoid colliding with the existing \"text\"?\r\n\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/345008350",
    "html_url": "https://github.com/jupyter/notebook/issues/2977#issuecomment-345008350",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2977",
    "id": 345008350,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTAwODM1MA==",
    "user": {
      "login": "rohitgeo",
      "id": 17867943,
      "node_id": "MDQ6VXNlcjE3ODY3OTQz",
      "avatar_url": "https://avatars.githubusercontent.com/u/17867943?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rohitgeo",
      "html_url": "https://github.com/rohitgeo",
      "followers_url": "https://api.github.com/users/rohitgeo/followers",
      "following_url": "https://api.github.com/users/rohitgeo/following{/other_user}",
      "gists_url": "https://api.github.com/users/rohitgeo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rohitgeo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rohitgeo/subscriptions",
      "organizations_url": "https://api.github.com/users/rohitgeo/orgs",
      "repos_url": "https://api.github.com/users/rohitgeo/repos",
      "events_url": "https://api.github.com/users/rohitgeo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rohitgeo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-16T18:07:00Z",
    "updated_at": "2017-11-16T18:07:00Z",
    "author_association": "NONE",
    "body": "Hmmm... perhaps I spoke too soon. I just tried replacing the require config with the simple version you had but it's still not working for me. I'm wondering how it works for you. I used notebook v 5.2.1.\r\n\r\nPlease see the attachment below.\r\n[HelloSceneWidgets_no_text_doesnt_work.zip](https://github.com/jupyter/notebook/files/1479658/HelloSceneWidgets_no_text_doesnt_work.zip)\r\n\r\nI replaced text to mytext (arbitrary name) to avoid colliding with the existing text. This is what I used as my require config:\r\n```\r\nrequire.config({\r\n      // Define path mappings for modules\r\n      paths: {\r\n        // [1] Modules hosted on Esri CDN.\r\n        \"dojo\":         esriCDN + \"dojo\",\r\n        \"dojox\":        esriCDN + \"dojox\",\r\n        \"dijit\":        esriCDN + \"dijit\",\r\n        \"esri\":         esriCDN + \"esri\",\r\n        \"dgrid\":        esriCDN + \"dgrid\",\r\n        \"xstyle\":       esriCDN + \"xstyle\",\r\n        \"put-selector\": esriCDN + \"put-selector\",\r\n        \"moment\":       esriCDN + \"moment\",\r\n        \r\n        // [2] Modules hosted locally.\r\n        // \"location\" is specified as path relative to web server root.\r\n        \"mytext\":       \"https://cdnjs.cloudflare.com/ajax/libs/require-text/2.0.12/text\"\r\n      },\r\n      \r\n      // Use RequireJS text plugin instead of dojo/text plugin.\r\n      // Any module that requires dojo/text plugin will use RequireJS\r\n      // text plugin instead.\r\n      // http://requirejs.org/docs/api.html#config\r\n      map: {\r\n        \"*\": {\r\n          \"dojo/text\": \"mytext\"\r\n        }\r\n      },\r\n      \r\n      config: {\r\n        mytext: {\r\n          \r\n          useXhr: function(url) {\r\n            // Allow cross domain XHR requests:\r\n            // We will route them through a proxy in onXhr below.\r\n            // https://github.com/requirejs/text/blob/master/text.js#L129\r\n            \r\n            return true;\r\n          },\r\n          \r\n          // ESRI modification: let's take over xhr.open below\r\n          openXhr: false,\r\n          \r\n          onXhr: function(xhr, url) {\r\n              console.log(\"***onXhr\");\r\n            // Route cross domain XHR through a proxy if required\r\n            var hasCors = (\r\n              typeof XMLHttpRequest !== \"undefined\" \r\n              && (\"withCredentials\" in (new XMLHttpRequest()))\r\n            );\r\n            \r\n            xhr.open(\"GET\", hasCors ? url : (proxyUrl + \"?\" + url), true);\r\n          }\r\n        }\r\n      } \r\n    });\r\n```\r\n\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/jupyter/notebook/issues/comments/345035172",
    "html_url": "https://github.com/jupyter/notebook/issues/2977#issuecomment-345035172",
    "issue_url": "https://api.github.com/repos/jupyter/notebook/issues/2977",
    "id": 345035172,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTAzNTE3Mg==",
    "user": {
      "login": "jcb91",
      "id": 5630710,
      "node_id": "MDQ6VXNlcjU2MzA3MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5630710?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jcb91",
      "html_url": "https://github.com/jcb91",
      "followers_url": "https://api.github.com/users/jcb91/followers",
      "following_url": "https://api.github.com/users/jcb91/following{/other_user}",
      "gists_url": "https://api.github.com/users/jcb91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jcb91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jcb91/subscriptions",
      "organizations_url": "https://api.github.com/users/jcb91/orgs",
      "repos_url": "https://api.github.com/users/jcb91/repos",
      "events_url": "https://api.github.com/users/jcb91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jcb91/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-16T19:25:23Z",
    "updated_at": "2017-11-16T19:32:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Hmmm... perhaps I spoke too soon. I just tried replacing the require config with the simple version you had but it's still not working for me. I'm wondering how it works for you. I used notebook v 5.2.1.\r\n\r\nUnfortunately, on that one, your guess is as good as mine for now! I always clear all outputs, save the notebook, reset the kernel & refresh the page after changing things, just to ensure nothing's stale. You can find the version that's worked for me in [this gist](https://gist.github.com/jcb91/c0d90891029834d04ee48c8cce111b7e)...\r\n\r\n > I replaced text to mytext (arbitrary name) to avoid colliding with the existing text. This is what I used as my require config:\r\n\r\nAh, I see, to keep a custom mapping to another arbitrarily-named version of text, good idea!\r\n\r\n__edit:__\r\n\r\nI'm also on Jupyter 5.2.1, with ipywidgets 7.0.0",
    "performed_via_github_app": null
  }
]
